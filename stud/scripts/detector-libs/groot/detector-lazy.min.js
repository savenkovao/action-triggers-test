/*!
 * Version: [Local_version_prod] (2026-01-12)
 * Copyright (c) 2026 Glassbox https://www.glassboxdigital.com
 */
"use strict";(self.webpackChunkdetector=self.webpackChunkdetector||[]).push([[825],{"./src/js/DetectorDomBootstrap.js":(t,i,s)=>{s.r(i),s.d(i,{default:()=>Qs});var e=s("./src/js/utils.js"),h=s("./src/js/env.js"),r=s("./src/js/config.js"),n=(s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.array.push.js"),s("./node_modules/core-js/modules/esnext.iterator.constructor.js"),s("./node_modules/core-js/modules/esnext.iterator.for-each.js"),{INPUT:!0,SELECT:!0,TEXTAREA:!0,t:!0,A:!0});class o{constructor(t,i,s,h){var r;if(this.q=()=>{clearTimeout(this.ga)},this.by=t=>{var i;if(this.TD&&this.TD.length)for(i=0;i<this.TD.length;++i)if(this.TR.matches(t,this.TD[i]))return!0;return!1},this.PV=t=>{let i;try{i=t.element.closest("a")}catch(t){return!1}return!(!i||"_blank"!=i.target)},this.FV=t=>{let i=4;for(;t&&i--;){if("BUTTON"===t.tagName&&t.disabled)return!0;t=e.default.parentNode(t)}return!1},this.BV=t=>{if(clearTimeout(this.ga),(t.element.disabled||t.element.ariaDisabled||!n[t.element.tagName])&&!e.default.bw(t)&&!this.PV(t)&&!this.by(t.element)&&!this.h.observeRightClick&&t.Lf&&!t.Lf.button&&2!==t.Lf.button){const i=t.id,s=t,e={element:t.element,dataToEncode:{type:"deadClick",VV:i},relatedEvent:s};this.h.struggleCaptureDeadClickOnDisabledElements&&(t.element.disabled||t.element.ariaDisabled)?this.zV(e,"deadClick - disabledElement"):this.FV(t.element)?this.zV(e,"deadClick - disabledButtonParent"):this.ga=setTimeout((()=>{this.zV(e,"deadClick - enabledButtonParent")}),this.UV)}},this.TR=s,this.zV=i,this.ft=t,this.h=h,this.ga=null,this.UV=h.HV,this.TD=h.elementsToIgnoreBySelector,h.additionalTagNamesToIgnore&&h.additionalTagNamesToIgnore.length)for(r=0;r<h.additionalTagNamesToIgnore.length;++r)n[h.additionalTagNamesToIgnore[r]]=!0;this.ft.on("domMutation",this.q),this.ft.on("segmentChanged",this.q),this.ft.on("event:change",this.q),this.ft.on("ajax:send",this.q),this.ft.on("pageError",this.q),this.ft.on("event:unload",this.q),this.ft.on("window:open",this.q),"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var i=this;do{if(i.matches(t))return i;i=i.parentElement||e.default.parentNode(i)}while(null!==i&&1===i.nodeType);return null}))}}s("./node_modules/core-js/modules/esnext.iterator.filter.js");class a{constructor(t,i,s,e,h){this.BV=t=>{if(!this.qV.bw(t)){if(this.WV.length>0)for(var i=0;i<this.WV.length;i++)if(this.TR.matches(t.element,this.WV[i]))return;var s=this.GV.Nt(t.element);if(this.JV[s]){if(this.JV[s].ZV.push({time:t.timestamp,KV:t.id}),this.JV[s].ZV.length>=this.YV){var e=this;this.JV[s].ZV=this.JV[s].ZV.filter((function(i){return t.timestamp-i.time<e.QV}))}this.JV[s].ZV.length>=this.YV?(t.indexInRage=this.YV+this.JV[s].count,t.rageSequence=this.XV,this.JV[s].$V||this.zV({element:t.element,dataToEncode:{type:"rageClick",startEventRelatedId:this.JV[s].ZV[0].KV,endEventRelatedId:t.id,rageSequence:this.XV},relatedEvent:t},"rageClickStruggle"),this.JV[s].$V=!0,this.JV[s].count=this.JV[s].count+1):this.JV[s].$V&&(this.JV={},this.JV[s]={},this.JV[s].ZV=[],this.JV[s].ZV.push({time:t.timestamp,KV:t.id}),this.JV[s].count=0,++this.XV)}else this.JV[s]={},this.JV[s].ZV=[],this.JV[s].ZV.push({time:t.timestamp,KV:t.id}),this.JV[s].count=0;this.tz&&this.JV[this.tz]&&this.JV[this.tz].$V&&!this.JV[s].$V&&(this.JV[this.tz].$V=!1,this.JV[this.tz].count=0,++this.XV),this.tz=s}},this.qV=t,this.zV=s,this.GV=i,this.QV=h.QV||3e3,this.YV=h.iz||5,this.WV=h.elementsToIgnoreBySelector||[],this.JV={},this.XV=1,this.tz=null,this.TR=e}}s("./node_modules/core-js/modules/es.regexp.constructor.js"),s("./node_modules/core-js/modules/es.regexp.dot-all.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/esnext.iterator.map.js");class c{constructor(t,i,s){this.sz=t=>{const i=this.ez.map((t=>{const i=t.toLowerCase().replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&");return new RegExp(`^${i.replace(/\*/g,".*")}`)}));for(let s of i)if(s.test(t.toLowerCase()))return!0;return!1},this.hz=t=>{this.ga&&(t.rz=!1,this.nz.push(t.error),this.oz=!0)},this.BV=t=>{clearTimeout(this.ga);var i=t.id;this.ga=setTimeout((()=>{this.oz&&(this.nz=this.nz.filter(((t,i,s)=>s.indexOf(t)===i)),this.nz=this.nz.filter((t=>!this.sz(t))),this.nz.length>0&&(this.oz=!1,this.zV({element:t.element,dataToEncode:{VV:i,type:"errorClick"},ng:this.nz,relatedEvent:t},"errorClickStruggle")),this.nz=[]),this.ga=null}),this.az)},this.zV=i,this.ga=null,this.oz=!1,this.nz=[],this.az=s.cz,this.ez=s.struggleErrorClickBlacklist,t.on("pageError",this.hz)}}var l=s("./src/js/resolving/ElementResolver.js"),d=s("./src/js/logger.js");class u{constructor(t,i,s,e,h){if(this.lz=()=>{clearTimeout(this.dz)},this.by=t=>{const i=this.h.elementsToIgnoreBySelector;if(i&&i.length)for(let s=0;s<i.length;++s)if(this.uz.matches(t,i[s]))return!0;return!1},this.fz=t=>{let i=this.si.getComputedStyle(t.element).overflow;if(i&&(i=i.toLowerCase()),"scroll"!==i&&"auto"!==i)return!1;try{const i=t.element.getBoundingClientRect(),s=i.right-i.width,e=this.si.getComputedStyle(t.element).direction;if("ltr"===e){if(t.value.Bp.x>s+t.element.clientWidth)return!0}else if("rtl"===e&&t.value.Bp.x<s+i.width-t.element.clientWidth)return!0;const h=i.bottom-i.height;if(t.value.Bp.y>h+t.element.clientHeight)return!0}catch(t){d.default.error("Error while intercepting right click. Error: "+t.message,t)}return!1},this.PV=t=>{try{if(!t.element.closest("a"))return!1}catch(t){return!1}return"_blank"==t.element.closest("a").target},this.BV=t=>{if(2===t.Lf.button&&(clearTimeout(this.dz),!this.mz[t.element.tagName]&&!this.fz(t)&&!this.PV(t))){const i=t.id,s=t;this.dz=setTimeout((()=>{this.by(t.element)||this.gz({element:t.element,dataToEncode:{type:"rightClick",VV:i},relatedEvent:s},"rightClickStruggle")}),this.vz)}},this.si=t,this.At=i,this.gz=s,this.uz=e,this.h=h,this.dz=void 0,this.vz=h.rightClickTimeout,this.mz={INPUT:!0,SELECT:!0,TEXTAREA:!0,t:!0},h.additionalTagNamesToIgnore&&h.additionalTagNamesToIgnore.length)for(let t=0;t<h.additionalTagNamesToIgnore.length;++t)this.mz[h.additionalTagNamesToIgnore[t]]=!0;i.on("domMutation",this.lz),i.on("segmentChanged",this.lz),i.on("event:change",this.lz),i.on("ajax:send",this.lz),i.on("pageError",this.lz),i.on("event:unload",this.lz),"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var i=this;do{if(i.matches(t))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null}))}}var f=s("./src/js/utils/hookingUtils.js");class m{constructor(t,i,s,h,r){if(this.pz=()=>{try{f.default.zC(this.si).GC("open",(function(){this.ft.emit("window:open")}))}catch(t){d.default.error("Failed hooking window.open method. "+t.message,t)}},this.BV=t=>{this.yz.forEach((function(i){i(t)}))},this.yz=[],this.uz=new l.default(r.document),this.ft=i,this.si=r,h.struggleCaptureRightClick&&h.domRecordEnabled){const t=new u(r,i,s,this.uz,{rightClickTimeout:h.struggleRightClickInterval||1e3,elementsToIgnoreBySelector:h.struggleRightClickIgnoreBySelector||[],additionalTagNamesToIgnore:h.struggleRightClickIgnoreByTagNames||[]});this.yz.push(t.BV)}if(h.domRecordEnabled&&h.interceptAjax&&h.struggleCaptureDeadClick){this.pz();const t=new o(i,s,this.uz,{HV:h.struggleDeadClickInterval||1e3,elementsToIgnoreBySelector:h.struggleDeadClickIgnoreBySelector||[],additionalTagNamesToIgnore:h.struggleDeadClickIgnoreByTagNames||[],struggleCaptureDeadClickOnDisabledElements:h.struggleCaptureDeadClickOnDisabledElements||!1});this.yz.push(t.BV)}const n=new a(e.default,t,s,this.uz,{QV:h.struggleRageClickInterval,iz:h.struggleRageClickMinCount,elementsToIgnoreBySelector:h.struggleRageClickIgnoreBySelector});if(this.yz.push(n.BV),h.struggleCaptureErrorClick){const t=new c(i,s,{cz:h.struggleErrorClickInterval||1e3,struggleErrorClickBlacklist:h.struggleErrorClickBlacklist||[]});this.yz.push(t.BV)}}}class g{constructor(t,i,s){this.wz=()=>{this.bz=this.Vu(),this.bz&&this.Tz&&this.gz({element:document,dataToEncode:{type:"reload"}},"pageStruggle - reload")},this.Ez=()=>{var t,i=this.si.performance.getEntriesByType?this.si.performance.getEntriesByType("navigation"):[];if(i.length>0)for(t=0;t<i.length;t++){if("reload"===i[t].type)return this.Tz=!0,void this.wz();if("back_forward"===i[t].type)return this.Az=!0,void this.Cz()}this.si.performance.navigation&&this.si.PerformanceNavigation&&(this.si.performance.navigation.type===this.si.PerformanceNavigation.TYPE_RELOAD&&(this.Tz=!0,this.wz()),this.si.performance.navigation.type===this.si.PerformanceNavigation.TYPE_BACK_FORWARD&&(this.Az=!0,this.Cz()))},this.kz=()=>{this.Ez()},this.jz=()=>{this.Cz(),this.wz()},this.si=t,this.gz=i,this.bz=!1,this.Az=!1,this.xz=!1,this.Vu=s,this.Tz=!1,this.Iz=!1}Cz(){this.bz=this.Vu(),this.bz&&this.Az&&!this.xz&&this.gz({element:document,dataToEncode:{type:"backForward"}},"pageStruggle - backForward")}}s("./node_modules/core-js/modules/esnext.iterator.some.js");class v{constructor(t,i,s){this.Sz=t=>{(0===t.status&&!this.ajaxStruggleIgnoreCancel&&!this.Mz(this.ajaxStruggleExcludedUrls,t.url)||t.status>=400)&&this.zV({ag:t.ug,cssSelector:t.dg,dataToEncode:{type:0===t.status?t.aborted?"ajaxAborted":"ajaxCanceled":"ajaxError",xhrStatus:t.status,url:t.url,sn:t.sn}},"ajaxStruggle - checkXhr")},this.zV=t,this.ajaxStruggleIgnoreCancel=i,this.ajaxStruggleExcludedUrls=s,this.Mz=(t,i)=>!!t&&t.some((t=>0==i.indexOf(t)))}}class p{constructor(t,i,s,h,r,n){this.Dz=()=>{this.zV({dataToEncode:{type:"blankPage"}},"domStruggle - blankPage")},this.Rz=()=>{try{return this._w.plugins.domRecordingPlugin.Pz("ShadowRoot",!1)}catch(t){return[]}},this.Lz=t=>{for(var i=e.default.childNodes(t.shadowRoot),s=0;s<i.length;s++){if(i[s].nodeType===Node.ELEMENT_NODE&&0!==i[s].innerText.trim().length)return!1;if(i[s].nodeType===Node.TEXT_NODE&&0!==i[s].wholeText.trim().length)return!1}return!0},this.Oz=t=>t.shadowRoot?this.Lz(t):0===t.innerText.trim().length,this.Fz=()=>{try{var t=this.Rz();t.push(this.window.document);for(var i=0;i<t.length;i++)for(var s=t[i].querySelectorAll(this.options.Nz),e=0;e<s.length;e++)if(this.Oz(s[e]))return void this.Dz()}catch(t){}},this.HI=()=>{this.Bz&&this.options._z?this.Dz():this.options.Nz&&this.Fz()},this.Vz=()=>{this.options.Nz&&this.Fz()},this.zz=t=>{if(this.Bz&&t.nodeType===this.window.Node.TEXT_NODE){var i=t.textContent;i&&i.trim()&&e.default.isVisible(e.default.parentNode(t))&&(this.Bz=!1)}},this.Uz=t=>{this.options._z&&this.zz(t)},this.window=t,this._w=i,this.options=r.ss(n,{_z:!0,Nz:""}),this.zV=s,this.qz=0,this.Bz=!0,this.ke=h,this.qV=r,h.on("pageSnapshot:report",this.HI),h.on("segmentChanged",this.Vz)}}class y{constructor(t,i,s,h,r,n){this.Wz=t=>{let i,s=!1,e=0;for(;!s&&e<this.Gz.length;){const h=document.querySelectorAll(this.Gz[e]);for(i=0;!s&&i<h.length;)t===h[i]&&(s=!0),i++;e++}return s},this.Jz=t=>{for(;t;){if(this.Wz(t))return e.default.isVisible(t)?t:null;t=e.default.parentNode(t)||t.host}return null},this.Zz=t=>{const i=t.querySelectorAll("input, select, button, textarea");for(let t=0;t<i.length;t++)switch(i[t].type){case"radio":i[t].checked&&(i[t].gbPrepop=!0);break;case"select":case"select-one":i[t].selectedIndex>-1&&(i[t].gbPrepop=!0);break;default:i[t].value&&(i[t].gbPrepop=!0)}t.gbPrepopCheck=!0},this.Kz=t=>{if("INPUT"===t.element.tagName||"TEXTAREA"===t.element.tagName){const i=t.element;i.Yz&&!this.Qz[this.Ja.Nt(i)]&&e.default.vC(t.Lf)&&(this.Qz[this.Ja.Nt(i)]=!0,this.gz({element:i,dataToEncode:{type:"inputCharsExceeded",VV:t.id},relatedEvent:t},"formStruggle - checkLimit"));const s=parseInt(i.getAttribute("maxLength"));i.Yz=s<=i.value.length}},this.Xz=(t,i)=>{if(!t)return!0;if(this.$z&&(t.gbPrepop||t.getAttribute("value")))return!0;if(this.tH.length){const t=i?i.outerHTML.toLowerCase():"";for(let i=0;i<this.tH.length;i++)if(t.indexOf(this.tH[i].toLowerCase())>=0)return!0}return!1},this.iH=t=>{const i=this.Jz(t.element),s=t.element,e=s?parseInt(s.getAttribute("tabindex")):void 0,h=this.sH?parseInt(this.sH.getAttribute("tabindex")):void 0;if(this.$z&&i&&!i.gbPrepopCheck&&this.Zz(i),"radio"===s.type){if(s.name===this.eH)return;this.eH=s.name}else this.eH=null;if(this.sH&&i===this.hH&&!this.Xz(s,i)&&!this.Xz(this.sH))if(e&&h&&e<h)this.gz({element:s,dataToEncode:{type:"formZigzag",reason:"tabindex",VV:t.id},relatedEvent:t},"formStruggle - zigZag1");else{const i=s.getBoundingClientRect(),e=this.sH&&this.sH.getBoundingClientRect(),h=i.top-e.top==0;if(i.top-e.top<0)this.gz({element:s,dataToEncode:{type:"formZigzag",reason:"vertical",VV:t.id},relatedEvent:t},"formStruggle - zigZag2");else{const r="rtl"===this.si.getComputedStyle(s).getPropertyValue("direction")||"rtl"===this.si.getComputedStyle(document.body).getPropertyValue("direction");h&&!r&&i.left-e.left<0?this.gz({element:s,dataToEncode:{type:"formZigzag",reason:"horizontal",VV:t.id},relatedEvent:t},"formStruggle - zigZag3"):h&&r&&i.right-e.right>0&&this.gz({element:s,dataToEncode:{type:"formZigzag",reason:"horizontal-rtl",VV:t.id},relatedEvent:t},"formStruggle - zigZag4")}}this.hH=i,this.sH=s},this.rH=t=>{if(e.default.ri())return!1;const i=this.Jz(t.element);if(!i)return!1;const s=this.Ja.Nt(i);if(i.querySelectorAll("input:not([type]), input[type=text], textarea").length<this.h.struggleUncompletedFormMinFields)return!1;this.nH[s]||(this.nH[s]={selector:this.QL.kf(i),cssSelector:this.KL.kf(i),KV:t.id,relatedEvent:t})},this.oH=t=>{const i=this.Jz(t.element);if(!i)return;const s=this.Ja.Nt(i);i&&this.nH[s]&&delete this.nH[s]},this.aH=()=>{for(const t in this.nH)Object.prototype.hasOwnProperty.call(this.nH,t)&&this.gz({ag:this.nH[t].selector,cssSelector:this.nH[t].cssSelector,dataToEncode:{type:"uncompletedForm",VV:this.nH[t].KV},relatedEvent:this.nH[t].relatedEvent},"formStruggle - uncompletedForm")},this.cH=t=>{const i=t.extraInfo&&Math.floor(t.extraInfo.focusTime||0);i>this.lH&&this.gz({element:this.sH,dataToEncode:{type:"longFocusTime",duration:i,VV:t.id},relatedEvent:t},"formStruggle - longFocus")},this.dH=t=>{const i=this.Jz(t.element);if(!i)return;const s=this.Ja.Nt(i);this.uH[s]?(this.uH[s].count++,this.uH[s].fH=t.id,this.uH[s].relatedEvent=t):this.uH[s]={count:1,mH:t.id,relatedEvent:t},this.uH[s].count>1&&this.gz({element:i,dataToEncode:{type:"formResubmitted",count:this.uH[s].count,startEventRelatedId:this.uH[s].mH,endEventRelatedId:this.uH[s].fH},relatedEvent:this.uH[s].relatedEvent},"formStruggle - resubmitted")},this.gH=t=>{this.oH(t),this.dH(t)},this.vH=t=>{this.Kz(t)},this.pH=t=>{this.rH(t),this.iH(t),this.cH(t)},this.yH=()=>{this.aH()},this.si=t,this.Ja=i,this.gz=s,this.QL=h,this.KL=r,this.h=n,this.uH={},this.nH={},this.sH=null,this.hH=null,this.eH=null,this.Qz={},this.lH=n.wH||3e4,this.Gz=n.formStruggleZigzagFormSelectors||["form"],this.tH=n.formStruggleZigzagIgnoreFormsWithText||[],this.$z=n.formStruggleZigzagIgnorePrepopulated}}class w{constructor(t,i,s,h,r,n,o,a,c){this.bH=(t,i)=>{t.dataToEncode?(this.TH(t),this.EH?this.ke.emit("reportStruggle",t):setTimeout((()=>{this.ke.emit("reportStruggle",t)}),0)):this.ke.emit("clsDebug","reportStruggle missing dataToEncode. Came from: "+i)},this.TH=t=>{if(this.AH&&this.AH.struggleTypes&&Array.isArray(this.AH.struggleTypes)&&this.AH.action&&"function"==typeof this.AH.action){const i=t.dataToEncode.type;if(this.AH.struggleTypes.includes(i))try{const s={...t,data:t.dataToEncode};delete s.dataToEncode,this.AH.action(i,s)}catch(t){this.ke.emit("clsDebug","Error executing struggle action for '"+i+"': "+t.message)}}},this.CH=()=>{this.kH.kz.call(this.kH)},this.jz=()=>{this.kH.jz()},this.jH=t=>{this.xH.gH.call(this.xH,t)},this.IH=t=>{this.xH.vH.call(this.xH,t)},this.SH=t=>{this.xH.pH.call(this.xH,t)},this.MH=()=>{this.EH=!0,this.xH.yH.call(this.xH)},this.DH=t=>{this.RH.BV.call(this.RH,t)},this.PH=t=>{this.LH.Sz.call(this.LH,t)},this.initialize=()=>{this.ke.once("domInit:loaded",this.CH),this.ke.on("event:click",this.DH),this.ke.on("rightclick",this.DH),this.ke.once("sessionCookieSet",this.jz),this.ke.once("plugin:sessionCookieSet",this.jz),this.OH.struggleCaptureAjaxErrors&&(this.LH=new v(this.bH,this.OH.ajaxStruggleIgnoreCancel,this.OH.ajaxStruggleExcludedUrls),this.ke.on("ajax:end",this.PH)),this.OH.collectFormStruggles&&(this.xH=new y(this.window,this.GV,this.bH,this.xf,this.If,{wH:this.OH.struggleMaxLongFocusTime,struggleUncompletedFormMinFields:this.OH.struggleUncompletedFormMinFields,formStruggleZigzagIgnoreFormsWithText:this.OH.formStruggleZigzagIgnoreFormsWithText,formStruggleZigzagIgnorePrepopulated:this.OH.formStruggleZigzagIgnorePrepopulated,formStruggleZigzagFormSelectors:this.OH.formStruggleZigzagFormSelectors}),this.ke.on("event:submit",this.jH),this.ke.on("event:keyup",this.IH),this.ke.on("event:elementChange",this.SH),this.ke.on("event:unload",this.MH))},this.FH=t!==t.top,this.OH=c,this.window=t,this.GV=s,this.ke=i,this._w=a,this.xf=r,this.If=n,this.xH={},this.RH=new m(this.GV,this.ke,this.bH,this.OH,this.window),this.kH=new g(this.window,this.bH,this._w.Vu),this.LH=void 0,this.NH=new p(this.window,this._w,this.bH,this.ke,e.default,{_z:!this.FH&&this.OH.struggleCaptureBlankPage,Nz:c.struggleCaptureBlankPageTargetsSelector}),h.Zg(this.NH.Uz),this.AH=c.triggerActions&&c.triggerActions.webStruggle||null,this.EH=!1}}s("./node_modules/core-js/modules/esnext.iterator.find.js");class b{constructor(t,i,h,r,n,o,a,c){this.BH=t=>{this.ox[t.type]&&setTimeout((()=>{this._H(this.Ho,!1)}),0)},this.VH=()=>!(void 0!==this.zH&&this.zH>-1&&(++this.UH,this.HH&&clearTimeout(this.HH),this.HH=setTimeout((()=>{this.UH=0}),500),this.UH>this.zH)),this.qH=(t,i)=>{this.yk.badRules.push({rule:t,msg:i})},this.WH=t=>{for(var i=0;i<this.GH.length;i++)if(!t[this.GH[i]])return void this.qH(t,"missing mandatory property: "+this.GH[i]);if(this.JH[t.accessorMethod])if(this.uz.Nb(t.selector)){var s,h=t.pageUrl;t.pageHash&&(h+=("#"===t.pageHash.charAt(0)?"":"#")+t.pageHash);try{s=new RegExp("^"+h.split("*").join(".*")+"$")}catch(i){return d.default.error("Exception occurred during parsing regular expression. Error: "+i.message,i),void this.qH(t,"Exception occurred during parsing regular expression: "+i.message)}if(s.test(e.default.ji(this.si.location.href)))return t.selector=t.selector.replace(/\s*>\s*/g,">"),new this.ZH(t,this.uz,this.JH,s)}else this.qH(t,"invalid selector");else this.qH(t,"invalid accessorMethod")},this.KH=t=>{for(var i,s=0;s<t.length;s++)(i=this.WH(t[s]))&&this.YH.push(i);this.yk.configured=t.length},this.QH=t=>{var i;return()=>(i||(i=this.QL.kf(t,!1).selector),i)},this._H=(t,i)=>{try{for(var h,r,n,o=e.default.ji(this.si.location.href),a={},c=0;c<this.YH.length;c++)if(h=this.YH[c].evaluate(t,o,i,a,this.QH(t)),n=(r=this.YH[c].XH())+"_"+c,h&&h.q_&&this.$H[n]!==h.q_){if(h.ZP())this.yk.masked++;else{var l=this.YH[c].tq()||this.h.clientAttributeMaxLength;this.ft.emit("clientAttribute",{name:r,q_:h.q_.substring(0,l)}),this.iq&&this.iq.attributeNames&&this.iq.attributeNames.length>0&&this.sq(r),this.yk.reportsByRule[r]=(this.yk.reportsByRule[r]||0)+1,this.yk.reported++,this.YH[c].eq.sessionTerminator&&s.g[this.hq].invalidateSession()}this.$H[n]=h.q_}}catch(t){d.default.error("Exception occurred during rule evaluation. Error: "+t.message,t)}},this.sq=t=>{if(this.iq&&this.iq.attributeNames&&Array.isArray(this.iq.attributeNames)&&this.iq.action&&"function"==typeof this.iq.action&&this.iq.attributeNames.includes(t)){const i=this.rq.find((i=>i.name===t));if(i)try{this.iq.action(i)}catch(i){d.default.error("Error executing client attribute action for '"+t+"': "+i.message,i)}else d.default.error("Could not find rule object for attribute name: "+t)}},this.nq=t=>{if(!this.h.ClientAttributesOnUserInteraction)if(this.oq)if(this.VH()){let i="characterData"===t.type;const s=!i&&"attributes"===t.type,h=i?e.default.parentNode(t.target):t.target;i||"childList"!==t.type||(i=1===t.addedNodes.length&&t.addedNodes[0].nodeType===window.Node.TEXT_NODE),h&&this._H(h,i||s)}else this.aq();else this.aq()},this.aq=()=>{!this.h.ClientAttributesOnUserInteraction&&void 0!==this.cq&&this.cq>-1&&(this.lq&&clearTimeout(this.lq),this.oq=!1,this.lq=setTimeout((()=>{this.oq=!0,this._H(this.Ho,!1)}),this.cq))},this.dq=()=>{this.YH=[],!this.h.ClientAttributesOnUserInteraction&&this.uq&&(this.ft.off("domMutation",this.nq),this.uq=!1)},this.fq=t=>{this.dq(),this.$H={},this.yk.configurationLastUpdatedAt=e.default.rr();for(var i={},s=0;s<this.rq.length;s++)this.rq[s].name&&(i[this.rq[s].name]=!0);for(var h=0;h<t.length;h++){var r=t[h];r.name&&i[r.name]||this.rq.push(r)}e.default.assign(this.yk.rulesList,this.rq),this.KH(this.rq),this.h.ClientAttributesOnUserInteraction||this.uq||!this.YH.length||(this.ft.on("domMutation",this.nq),this.uq=!0),this.mq&&this._H(this.Ho,!1)},this.getStats=()=>this.yk,this.evaluateAttributes=()=>{this._H(this.Ho,!1)},this.si=t,this.Ho=this.si.document,this.ft=i,this.ZH=r,this.uz=n,this.QL=o,this.JH=a,this.h=c,this.$H={},this.hq=h,this.iq=c.gq||null,this.YH=[],this.rq=[],this.GH=["name","pageUrl","selector","accessorMethod","accessor"],this.mq=!1,this.yk={masked:0,reported:0,configured:0,configurationLastUpdatedAt:0,badRules:[],reportsByRule:{},rulesList:[]},this.ox=e.default.N("mousedown","scroll","touchstart","touchend","keydown","drag","dragstart","dragend","navigation","unload","beforeunload"),this.uq=!1,this.cq=c.clientAttributeFuseWaitTime,this.oq=!0,this.lq=0,this.zH=c.clientAttributeMaxMutations,this.UH=0,this.HH=0,i.once("domInit:loaded",(()=>{this._H(this.Ho,!1),this.mq=!0})),this.h.ClientAttributesOnUserInteraction?i.on("saveEvent",this.BH):i.on("segmentChanged",this.aq),this.vq=this.WH}}class T{constructor(t,i,s,e){this.uz=i,this.JH=s,this.eq=t,this.pq=e,this.yq=-1!==t.selector.indexOf(">")}wq(t){return this.pq.test(t)}XH(){return this.eq.name}tq(){return this.eq.maxLength}evaluate(t,i,s,h,r){if(this.wq(i)){var n=h[this.eq.selector];if(n||(s?this.uz.matches(t,this.eq.selector)&&(n=t):n=this.uz.querySelector(t,this.eq.selector)),!n&&this.yq){var o=r();if(e.default.startsWith(this.eq.selector,o)){var a=this.eq.selector.substring(o.length+1);if(a)try{s?this.uz.matches(t,a)&&(n=t):n=this.uz.querySelector(t,a)}catch(t){}}}if(n)return h[this.eq.selector]=n,this.JH[this.eq.accessorMethod](n,this.eq.accessor)}}}var E=s("./src/js/enums/domMaskerTypes.js"),A=s("./src/js/censor/domCensorDirection.js");class C{constructor(t,i,s,h){this.bq=t=>{for(;t;){if(t.nodeType===window.Node.ELEMENT_NODE&&t.hasAttribute(this.ob))return!0;t=e.default.parentNode(t)}return!1},this.Tq=t=>!("value"!==t.accessor||!this.JP.ab(t.Eq,A.default.jt,E.default.Qg))||(!!this.JP.ab(t.Eq,A.default._t,E.default.Kg)||!(!this.Aq[t.accessor]||!this.Cq[t.Eq.tagName.toLowerCase()]||t.Eq.hasAttribute&&t.Eq.hasAttribute(this.ob))),this.kq=t=>{if(this.JP.ab(t.Eq,A.default._t,E.default.Kg))return!0;if(this.jq&&"value"===t.accessor){if(this.h.valueMaskIgnoreAttribute&&t.Eq&&t.Eq.nodeType===window.Node.ELEMENT_NODE&&t.Eq.hasAttribute(this.h.valueMaskIgnoreAttribute))return!1;if(this.jq.ct(t.Eq))return!0}return("innerText"!==t.accessor&&"textContent"!==t.accessor&&"innerHTML"!==t.accessor&&"outerHTML"!==t.accessor||!this.ob||!this.bq(t.Eq))&&(!("innerText"!==t.accessor&&"textContent"!==t.accessor||!(this.JP.ab(t.Eq,A.default.yt,E.default.Jg)||this.JP.ab(t.Eq,A.default._t,E.default.Jg)||this.xq.Ct(t.Eq,A.default.yt)||this.xq.Ct(t.Eq,A.default._t)))||(!("innerHTML"!==t.accessor||!(this.JP.ab(t.Eq,A.default.yt,E.default.Jg,E.default.$g)||this.JP.ab(t.Eq,A.default._t,E.default.Jg,E.default.$g)||this.xq.Ct(t.Eq,A.default.yt)||this.xq.Ct(t.Eq,A.default._t)))||!("outerHTML"!==t.accessor||!(this.JP.ab(t.Eq,A.default.yt,E.default.Jg,E.default.$g)||this.JP.ab(t.Eq,A.default._t,E.default.Jg,E.default.$g)||this.xq.Ct(t.Eq,A.default.yt)||this.xq.Ct(t.Eq,A.default._t)))))},this.Iq=t=>!!this.JP.ab(t.Eq,A.default._t,E.default.Kg),this.JP=t,this.xq=i,this.jq=s,this.h=h,this.Aq=e.default.N.apply(null,this.h.domMaskedAttributes),this.Cq=e.default.N.apply(null,this.h.domMaskAttributesByTag),this.ob=this.h.domMaskIgnoreAttribute,this.attribute=(t,i)=>{var s={accessor:i,Eq:t,q_:t.getAttribute&&t.getAttribute(i)};return s.ZP=()=>this.Tq(s),s},this.property=(t,i)=>{var s={accessor:i,Eq:t,q_:""+(t[i]||"")};return s.ZP=()=>this.kq(s),s},this.constant=(t,i)=>{var s={Eq:t,q_:i};return s.ZP=()=>this.Iq(s),s}}}class k{constructor(t,i,s,h,n,o,a){this.Sq=t=>{t.attributeRules&&(this.Mq.fq(t.attributeRules),this.WD=t.attributeRules),this.Dq=e.default.rr()},this.Rq=t=>{this.Dq||(this.Sq(t),this.Pq=!0)},this.Lq=()=>{this.WD&&this.Mq.fq(this.WD)},this.initialize=function(){};var c=s.plugins.domRecordingPlugin&&s.plugins.domRecordingPlugin.vx(),l=s.plugins.domRecordingPlugin&&s.plugins.domRecordingPlugin.Oq();c||(c={ab:function(){return!1}}),l||(l={Ct:function(){return!1}}),this.Mq=new b(t,i,a,T,n,o,new C(c,l,h,{domMaskedAttributes:r.default.domMaskedAttributes,domMaskAttributesByTag:r.default.domMaskAttributesByTag,domMaskIgnoreAttribute:r.default.domMaskIgnoreAttribute,valueMaskIgnoreAttribute:r.default.valueMaskIgnoreAttribute}),{clientAttributeMaxLength:r.default.clientAttributeMaxLength,clientAttributeFuseWaitTime:r.default.clientAttributeFuseWaitTime,clientAttributeMaxMutations:r.default.clientAttributeMaxMutations,ClientAttributesOnUserInteraction:r.default.ClientAttributesOnUserInteraction,gq:r.default.triggerActions&&r.default.triggerActions.clientAttribute}),this.WD=void 0,this.stats=()=>this.Mq.getStats(),this.evaluateAttributes=()=>{this.Mq.evaluateAttributes()},this.Pq=!1,this.Dq=void 0,i.once("plugin:newRemoteConfig",this.Rq),i.on("newRemoteConfig",this.Sq),i.on("segmentChanged",this.Lq)}}var j=s("./src/js/resolving/SelectorResolver.js");const x={SHOW_ALL:0,Fq:1};class I{constructor(t,i,s){this.Nq=t=>{for(;t&&!t[this.Bq];)t[this.Bq]=!0,t=e.default.parentNode(t)?e.default.parentNode(t):t.host},this._q=t=>{const i=this,s=this.si.Element.prototype[t];s&&(this.si.Element.prototype[t]=function(){const t=s.apply(this,arguments);try{e.default.Gp(this)?(i.ft.emit("shadow:rootAttached",t),i.ft.emit("shadow:rootDetected",t)):i.ft.emit("shadow:rootDetected",t),this[i.Vq]=!0,i.Nq(this),i.yk.hookInvocationsCount++,i.yk.totalShadowRootCount++}catch(t){}return t})},this.zq=t=>{let i;for(i=0;i<t.length;i++)this.Nq(t[i]),this.ft.emit("shadow:rootDetected",t[i]),this.yk.initialShadowRootCount++,this.yk.totalShadowRootCount++},this.Uq=t=>{if("childList"===t.type){let i;for(i=0;i<t.addedNodes.length;i++)t.addedNodes[i][this.Bq]&&this.qq.Hq(t.addedNodes[i],(t=>{t.shadowRoot&&!t[this.Vq]&&this.ft.emit("shadow:rootDetected",t.shadowRoot)}),x.Fq);for(i=0;i<t.removedNodes.length;i++)t.removedNodes[i][this.Bq]&&this.qq.Hq(t.removedNodes[i],(t=>{t.shadowRoot&&(this.ft.emit("shadow:rootRemoved",t.shadowRoot),this.yk.totalShadowRootCount--,this.yk.totalShadowRootRemoved++)}),x.Fq)}},this.Wq=t=>{this.zq(t||[]),["attachShadow","createShadowRoot"].forEach(this._q)},this.stats=()=>this.yk,this.si=t,this.ft=i,this.qq=s,this.Bq="_gbHasShadow",this.Vq="_gbHasObserver",this.yk={initialShadowRootCount:0,hookInvocationsCount:0,totalShadowRootCount:0,totalShadowRootRemoved:0},this.ft.on("domMutation",this.Uq)}}class S{constructor(t,i,s){this.element=t,this.id=i,this.addedNodes={},this.Gq=[],this.Ja=s}Jq(t){this.addedNodes[t]=!0}}class M{constructor(t,i,s){this.Zq=(t,i,s)=>{const e=this.Kq(t);if(!e)return;const h=(this.Yq[i]||{})[e],r=t[e];(t.Qq||(this.Xq?r!==this.defaultValue(t,e):h!==r))&&(s[i]||(s[i]=new S(t,i,this.Ja),s[i].properties=[]),s[i].properties.push(e));const n={};n[e]=r,this.Yq[i]=n},this.$q=t=>!(!t.id||!this.tW[t.id])||"hidden"===t.getAttribute("type"),this.start=()=>{},this.track=()=>{let t,i;const s={},e={},h=this.Yx.querySelectorAll("input,select,textarea");for(t=0;t<h.length;t++)this.$q(h[t])||(i=this.Ja.Nt(h[t]),this.Zq(h[t],i,s),e[i]=!0);let r;for(r in this.Yq)e[r]||delete this.Yq[r];return this.Xq=!1,s},this.iW=()=>this.Yx,this.Kq=t=>{if("SELECT"===t.tagName)return"selectedIndex";if("TEXTAREA"===t.tagName)return"value";if("INPUT"===t.tagName){const i=t.getAttribute("type")&&t.getAttribute("type").toLowerCase();return!i||"checkbox"!==i&&"radio"!==i?"value":"checked"}},this.defaultValue=(t,i)=>{if("checked"===i)return t.hasAttribute("checked");if("selectedIndex"===i){const i=t.querySelector("option[selected]");return i?i.index:null!==t.querySelector("option")?0:-1}const s=t.getAttribute(i);return s||"value"!==i?s:""},this.sW=()=>Object.keys(this.Yq).length,this.Yx=t,this.Ja=i,this.tW=e.default.N.apply(null,s||[]),this.Xq=!0,this.Yq={}}}s("./node_modules/core-js/modules/es.error.cause.js");class D{constructor(t,i,s,h,r,n){this.eW=()=>{this.hW&&(this.hW=!1,this.start())},this.rW=()=>{if(!this.nW){if(this.oW=this.aW(this.oW),!this.oW)throw new Error("cannot start DomObserver: native interface not supported by the browser.");this.h.handleAttributeMutationsAsChunks>=0?this.nW=new this.oW(this.cW):this.nW=new this.oW((t=>{this.h.domIgnoreLargeMutationsChunks>0&&t&&t.length>this.h.domIgnoreLargeMutationsChunks||t.forEach(this.lW)}))}},this.dW=()=>this.si.document&&this.si.document.body,this.uW=t=>!!t.toString&&-1!==t.toString().toLowerCase().indexOf("[native code]"),this.aW=t=>{if(!this.dW())return t;if(this.h.reinstateNativeMutationObserver&&"undefined"!=typeof __zone_symbol__MutationObserver)return __zone_symbol__MutationObserver;const i=t.toString().toLowerCase();return this.h.reinstateNativeMutationObserver&&i.indexOf("[native code]")<0?e.default.yC("MutationObserver"):t},this.fW=t=>{var i;for(i=0;i<t.length;i++)if(this.mW(t[i]))return!1;return!0},this.gW=t=>{var i,s=[];for(i=0;i<t.length;i++)e.default.Gp(t[i])&&s.push(t[i]);return s.length===t.length?void 0:s},this.cW=t=>{if(!window.Node)return;let i;this.vW&&window.clearTimeout(this.pW);for(let s=0;s<t.length;s++){if(i=t[s],this.h.domIgnoreSameValueAttributesModification&&"attributes"===i.type&&i.target.getAttribute(i.attributeName)===i.oldValue)return;if("attributes"===i.type){if(this.yW[i.attributeName])continue;i.target.wW=i.target.wW||this.bW++;const t=i.target.wW+"_"+i.attributeName,s=this.TW[t];s&&(s.gU=!0),this.TW[t]=i,this.EW.push(i),this.vW=!0}else this.nR(),this.nq(i)}this.vW&&(this.pW=setTimeout(this.nR,this.h.handleAttributeMutationsAsChunks))},this.lW=t=>{window.Node&&(this.h.domIgnoreSameValueAttributesModification&&"attributes"===t.type&&t.target.getAttribute(t.attributeName)===t.oldValue||"attributes"===t.type&&this.yW[t.attributeName]||this.nq(t))},this.nq=t=>{let i=t.target;if(this.mW(i)&&(!this.h.ignoreMutationsOnNotAttachedElements||e.default.Gp(i))){if("characterData"===t.type){try{if((null===t.oldValue||""===t.oldValue||"string"==typeof t.oldValue&&""===t.oldValue.trim())&&""===t.target.nodeValue.trim())return}catch(t){}i instanceof CharacterData&&(i=e.default.parentNode(i)||i)}if(this.h.domOmitInvisibleElements&&i.nodeType===this.si.Node.ELEMENT_NODE&&!i.AW&&e.default.isVisible(i)&&(t={type:"childList",target:e.default.parentNode(t.target),kW:e.default.parentNode(t.target),addedNodes:[i],removedNodes:[]},i.AW=!0,i=e.default.parentNode(i)),"childList"===t.type){if(this.fW(t.addedNodes)&&this.fW(t.removedNodes))return;if(this.h.addBaseDomainToRelativeUrls)for(var s=0;s<t.target.children.length;s++){var h=t.target.children[s].attributes.href;h&&h.value&&0===h.value.indexOf("/")&&1!==h.value.indexOf("//")&&(h.value=e.default.Yw(h.value))}var r=this.gW(t.addedNodes);if(r){if(!r.length&&!t.removedNodes.length)return;t={type:t.type,target:t.target,kW:t.kW,addedNodes:r,removedNodes:t.removedNodes}}}if(t.kW=i,!this.xW.jW(t)){if(this.h.domIgnoreSameValueAttributesModification&&"attributes"===t.type&&"class"===t.attributeName&&t.target.classList&&t.target.classList.value===t.oldValue)return;if(this.h.delayDomMutationEvent>=0)setTimeout((()=>{this.ft.emit("domMutation",t)}),this.h.delayDomMutationEvent);else if(t.addedNodes.length>0&&e.default.bC(this.h.domDelayAddedNodesByClass,t.addedNodes)){const i=this;setTimeout((function(){i.ft.emit("domMutation",t)}),0)}else this.ft.emit("domMutation",t)}}},this.nR=()=>{if(!this.vW)return;const t=this.EW;this.TW={},this.EW=[];for(let i=0;i<t.length;i++)t[i].gU||this.nq(t[i]);this.vW=!1},this.IW=()=>{this.SW=!1,this.nW&&this.nW.disconnect()},this.MW=()=>"MutationObserver based",this.start=()=>{this.hW||this.SW||(this.rW(),this.nW.observe(this.Yx,this.DW),this.SW=!0)},this.stop=()=>{this.IW()},this.si=t,this.ft=i,this.xW=s,this.Yx=h,this.mW=r,this.h=n,this.nW,this.SW=!1,this.hW=!1,this.yW=e.default.N.apply(null,this.h.domIgnoreAttributes||[]),this.bW=1,this.TW={},this.EW=[],this.vW=!1,this.pW=void 0,this.oW=this.si.MutationObserver||this.si.WebKitMutationObserver||null,this.h.initialObserverFirst&&this.rW(),this.DW={attributes:!this.h.characterDataOnly,childList:!this.h.characterDataOnly,characterData:!0,subtree:!this.h.characterDataOnly,attributeOldValue:!this.h.characterDataOnly&&this.h.domIgnoreSameValueAttributesModification,characterDataOldValue:!0},!this.h.characterDataOnly&&this.h.domFilterAttributes&&this.h.domFilterAttributes.length&&(this.DW.attributeFilter=this.h.domFilterAttributes),this.h.reinstateNativeMutationObserver&&this.ft.once("init:domready",(()=>{this.oW=this.aW(this.oW)}))}}class R{constructor(t,i,s,h,r){this.RW=t=>{e.default.ii(t,"DOMCharacterDataModified",this.lW,!1),this.h.characterDataOnly||(e.default.ii(t,"DOMNodeInserted",this.lW,!1),e.default.ii(t,"DOMNodeRemoved",this.lW,!1),e.default.ii(t,"DOMAttrModified",this.lW,!1))},this.eW=()=>{this.hW&&(this.hW=!1,this.start())},this.lW=t=>{let i,s,h;const r=[],n=[],o=t.type;if("DOMNodeInserted"===t.type){if(i="childList",s=e.default.parentNode(t.target),s&&(r.push(t.target),!this.mW(t.target)))return}else if("DOMNodeRemoved"===t.type){if(i="childList",s=e.default.parentNode(t.target),s&&(n.push(t.target),!this.mW(t.target)))return}else if("DOMCharacterDataModified"===t.type)i="characterData",s=e.default.parentNode(t.target);else{if("DOMAttrModified"!==t.type)return;i="attributes",s=t.target,h=t.attrName}if(!this.mW(s))return;if(!s)return;const a={PW:o,type:i,target:t.target,kW:s,attributeName:h,addedNodes:r,removedNodes:n};this.xW.jW(a)||this.ft.emit("domMutation",a)},this.IW=()=>{this.SW&&(this.SW=!1,this.Yx.removeEventListener("DOMCharacterDataModified",this.lW,!1),this.h.characterDataOnly||(this.Yx.removeEventListener("DOMNodeRemoved",this.lW,!1),this.Yx.removeEventListener("DOMAttrModified",this.lW,!1),this.Yx.removeEventListener("DOMNodeInserted",this.lW,!1)))},this.LW=()=>{this.hW=!0,this.IW()},this.MW=()=>"DOM events based",this.supported=()=>"undefined"!=typeof MutationEvent,this.start=()=>{this.hW||this.SW||(this.RW(this.Yx),this.SW=!0)},this.stop=()=>{this.IW()},this.isActive=()=>this.SW,this.ft=t,this.xW=i,this.Yx=s,this.mW=h,this.SW=!1,this.hW=!1,this.ft.on("quotaBreach",this.LW),this.ft.on("recordingStarted",this.eW),this.ft.on("stopDomRecording",this.stop),this.h=r}}class P{constructor(t,i,s){this.OW=t=>{for(;t;)this.FW[this.Ja.Nt(t)]=!0,t=e.default.parentNode(t)},this.NW=(t,i)=>{for(var s,h,r=[t];r.length;)if(i(t=r.shift()),h=this.Ja.Nt(t),e.default.children(t)&&this.FW[h])for(delete this.FW[h],s=0;s<e.default.children(t).length;s++)r.push(e.default.children(t)[s])},this.BW=(t,i,s)=>{function e(t){var i;for(i=0;i<t.length;i++)if("STYLE"===t[i].tagName)return!0;return!1}return!t.ownerDocument.head.contains(t)&&!e(i||[])&&!e(s||[])},this._W=t=>{var i=this.Ja.Nt(t);if(this.sa[i]){delete this.sa[i];var s,h=[],r=e.default.childNodes(t)||[];for(s=0;s<r.length;s++)r[s].VW&&(delete r[s].VW,h.push(r[s]));this.ft.emit("domMutation",{PW:"childList",type:"childList",target:t,kW:t,addedNodes:h,removedNodes:[]})}},this.Pe=t=>{var i=this.Ja.Nt(t.kW),s=e.default.isVisible(t.kW);if("childList"===t.type&&this.BW(t.kW,t.addedNodes,t.removedNodes)&&!s){var h;for(h=0;h<t.addedNodes.length;h++)t.addedNodes[h].VW=!0;return this.sa[i]=!0,this.yk.zW+=t.addedNodes.length,this.yk.UW++,this.OW(t.kW),!0}return this.FW[i]&&s&&this.NW(t.kW,this._W),!1},this.ft=i,this.Ja=s,this.sa={},this.FW={},this.yk={UW:0,zW:0},this.HW=e.default.N("DIV","UL","OL","LI","NAV","SPAN","STRONG","LABEL","A"),this.jW=this.Pe}}class L{constructor(t,i,s,h,r,n){this.Sa=t=>this.mW(t)&&!e.default.Ow(t,this.h.domIgnoreChangesByTag)&&!e.default.je(t,this.h.domIgnoreChangesByClass)&&this.h.domIgnoreChangesById.indexOf(e.default.fe(t))<0,this.si=t,this.mW=h,this.h=e.default.ss(n,{domIgnoreChangesByTag:[],domIgnoreChangesByClass:[],domIgnoreChangesById:[]});let o,a=this.h.qW||this.h.WW&&this.GW()?new P(t,i,r):{jW:function(){return!1}};this.h.domForceMutationEventsHandler?(o=new R(i,a,s,this.Sa,{characterDataOnly:!!this.h.characterDataOnly}),o.supported()||(o=void 0)):o=new D(t,i,a,s,this.Sa,{domTamperingDetectionEnabled:this.h.domTamperingDetectionEnabled,delayDomMutationEvent:this.h.delayDomMutationEvent,domDelayAddedNodesByClass:this.h.domDelayAddedNodesByClass,domFilterAttributes:this.h.domFilterAttributes,domIgnoreAttributes:this.h.domIgnoreAttributes,domOmitInvisibleElements:this.h.domOmitInvisibleElements,handleAttributeMutationsAsChunks:this.h.handleAttributeMutationsAsChunks,ignoreMutationsOnNotAttachedElements:this.h.ignoreMutationsOnNotAttachedElements,characterDataOnly:!!this.h.characterDataOnly,reinstateNativeMutationObserver:this.h.reinstateNativeMutationObserver,initialObserverFirst:this.h.initialObserverFirst,addBaseDomainToRelativeUrls:this.h.addBaseDomainToRelativeUrls,domIgnoreSameValueAttributesModification:this.h.domIgnoreSameValueAttributesModification,domIgnoreLargeMutationsChunks:this.h.domIgnoreLargeMutationsChunks}),this.JW=o}}class O{constructor(t,i){this.apply=(t,i)=>{if(!this.$q(t.element)&&t.properties&&t.properties.length>0){let s,h,r=this.ZW[t.element.tagName];if(r){let n=e.default.Vw(i,r,t.id);for(s=0;s<t.properties.length;s++)h=this.KW(t.element,t.properties[s]),n[h]=this.YW(t.element,h);return n}}},this.YW=(t,i)=>this.jq&&"value"===i?this.jq.ot(t):t[i],this.$q=t=>this.QW[e.default.fe(t)],this.KW=(t,i)=>"SELECT"===t.tagName?"selectedIndex":"INPUT"===t.tagName&&this.XW[t.getAttribute("type")||""]?"checked":i,this.jq=t,this.h=i||{},this.XW=e.default.N("checkbox","radio"),this.QW=e.default.N.apply(null,this.h.$W||[]),this.ZW={INPUT:"inputs",SELECT:"selects",TEXTAREA:"textareas"}}}class F{constructor(t,i,s,e,h,r,n,o){this.tG=t=>{const i=new L(this.iG,this.ft,t,this.eG.sG,this.hG,{semiDomEnabled:this.h.semiDomEnabled,domForceIEMutationEventsHandler:this.h.domForceIEMutationEventsHandler,domForceMutationEventsHandler:this.h.domForceMutationEventsHandler,domTamperingDetectionEnabled:this.h.domTamperingDetectionEnabled,domDelayAddedNodesByClass:this.h.domDelayAddedNodesByClass,domFilterAttributes:this.h.domFilterAttributes,domIgnoreAttributes:this.h.domIgnoreAttributes,domIgnoreChangesById:this.h.domIgnoreChangesById,domIgnoreChangesByClass:this.h.domIgnoreChangesByClass,domIgnoreChangesByTag:this.h.domIgnoreChangesByTag,handleAttributeMutationsAsChunks:this.h.handleAttributeMutationsAsChunks,ignoreMutationsOnNotAttachedElements:this.h.ignoreMutationsOnNotAttachedElements,reinstateNativeMutationObserver:this.h.reinstateNativeMutationObserver,initialObserverFirst:this.h.initialObserverFirst,addBaseDomainToRelativeUrls:this.h.addBaseDomainToRelativeUrls,domIgnoreSameValueAttributesModification:this.h.domIgnoreSameValueAttributesModification,domIgnoreLargeMutationsChunks:this.h.domIgnoreLargeMutationsChunks}).JW;this.rG[this.Ja.Nt(t)]=i,this.eG.oG().nG({name:"property",aG:new M(t,this.Ja,this.QL,this.h.domIgnoredFormElements),cG:[new O(this.jq,{$W:this.h.domIgnoredFormElements}).apply]}),i.start()},this.lG=t=>{const i=this.Ja.Nt(t);this.rG[i]&&(this.rG[i].stop(),delete this.rG[i]),this.eG.oG().dG(t)},this.uG=()=>{this.fG.Wq(this.eG.Pz("ShadowRoot"))},this.ra=()=>{for(let t in this.rG)Object.prototype.hasOwnProperty.call(this.rG,t)&&this.rG[t]&&(this.rG[t].stop(),this.rG[t]=void 0);this.rG=void 0},this.initialize=()=>{},this.stats=()=>this.fG.stats(),this.iG=t,this.Oi=i,this.ft=s,this.jq=e,this.hG=h,this.eG=r,this.QL=n,this.h=o,this.rG={},this.Ja=h,this.fG=new I(this.iG,this.ft,this.eG.mG()),this.ft.on("shadow:rootDetected",this.tG),this.ft.on("shadow:rootRemoved",this.lG),this.ft.on("domTrackingStarted",this.uG),this.ft.on("event:unload",this.ra)}}class N{constructor(t,i){this.gG=()=>{this.vG||(this.si.outerHeight===this.pG&&window.Math.abs(this.si.innerHeight-this.yG)>this.wG?(this.ft.emit("devToolsVisibilityChanged",{value:!0,size:"oh_"+this.si.outerHeight+"_ih_"+this.si.innerHeight}),this.vG=!0):this.si.outerWidth===this.bG&&window.Math.abs(this.si.innerWidth-this.TG)>this.wG?(this.ft.emit("devToolsVisibilityChanged",{value:!0,size:"ow_"+this.si.outerWidth+"_iw_"+this.si.innerWidth}),this.vG=!0):this.si.outerHeight!==this.pG?(this.pG=this.si.outerHeight,this.yG=this.si.innerHeight):(this.bG=this.si.outerWidth,this.TG=this.si.innerWidth))},this.EG=()=>{this.ft.on("window:resize",this.gG)},this.si=t,this.ft=i,this.vG=!1,this.wG=150,this.pG=t.outerHeight,this.yG=t.innerHeight,this.bG=t.outerWidth,this.TG=t.innerWidth}}class B{constructor(t,i,s){this.AG=()=>this.si.outerHeight!==this.pG?(this.pG=this.si.outerHeight,!0):this.si.outerWidth!==this.bG&&(this.bG=this.si.outerWidth,!0),this.gG=t=>{this.CG||t&&this.AG()||this.si.console.log(this.kG)},this.EG=()=>{this.ft.on("event:unload",(()=>this.gG(!1))),this.ft.once("init:preloaded",(()=>this.gG(!1))),this.ft.once("plugin:init:preloaded",(()=>this.gG(!1))),this.ft.on("window:resize",(()=>this.gG(!0)))},this.si=t,this.ft=i,this.h=s||{jG:""},this.CG=!1,this.kG=t.document.createElement("div"),this.kG.textContent=this.h.jG,this.pG=t.outerHeight,this.bG=t.outerWidth;const e=this;Object.defineProperty(this.kG,"id",{get:function(){e.CG||(e.CG=!0,e.ft.emit("devToolsVisibilityChanged",{value:!0,size:"oh_"+e.si.outerHeight+"_ih_"+e.si.innerHeight+"_ow_"+e.si.outerWidth+"_iw_"+e.si.innerWidth}))}})}}s("./node_modules/core-js/modules/web.self.js"),s("./node_modules/core-js/modules/web.url-search-params.delete.js"),s("./node_modules/core-js/modules/web.url-search-params.has.js"),s("./node_modules/core-js/modules/web.url-search-params.size.js");class _{constructor(t,i,s,e){this.xG=()=>{this.IG=!0;try{this.RI=new this.si.Worker(this.SG),this.RI.onmessage=t=>{t.data&&"gbDTDWorkerReady"===t.data?(this.RI.postMessage("gbDTDHello"),setTimeout((()=>{this.RI.terminate(),this.IG&&!this.CG&&(this.CG=!0,URL.revokeObjectURL(this.SG),this.At.emit("devToolsVisibilityChanged",{value:!0,size:"oh_"+this.si.outerHeight+"_ih_"+this.si.innerHeight+"_ow_"+this.si.outerWidth+"_iw_"+this.si.innerWidth}))}),this.MG)):t.data&&"gbDTDHi"===t.data&&(this.IG=!1)}}catch(t){d.default.error("Failed checking Devtools visibility: "+t.message,t),this.At.emit("clsDebug","Failed checking Devtools visibility")}},this.gG=()=>{this.DG&&(this.CG||setTimeout(this.xG,this.PG))},this.EG=()=>{this.At.on("event:unload",this.gG),this.At.once("domInit:preloaded",this.gG),this.At.on("window:resize",this.gG)},this.si=t,this.At=i,this.PG=s,this.MG=e,this.CG=!1,this.IG=void 0,this.RI=void 0,this.DG=!0;try{this.SG=URL.createObjectURL(new Blob(["(",function(){self.postMessage("gbDTDWorkerReady");
debugger;

self.onmessage=function(t){t.data&&"gbDTDHello"===t.data&&self.postMessage("gbDTDHi")}}.toString(),")()"],{type:"application/javascript"}))}catch(t){this.DG=!1,d.default.error("Failed creating blob for worker: "+t.message,t),this.At.emit("clsDebug","Failed creating blob for worker during Devtools detection. Detection will not work.")}}}class V{constructor(t,i,s){this.initialize=()=>{this.LG=!0},this.si=t,this.ft=i,this.h=s,this.OG=void 0,this.FG=this.si.navigator.userAgent,/firefox/i.test(this.FG)?this.OG=new N(this.si,this.ft):e.default.dw(this.FG)&&e.default.gw(this.FG,89,"chrome/")?this.h.devToolsDebuggerBasedDetection?this.OG=new _(this.si,this.ft,this.h.devToolsDetectionWorkerTimeout,this.h.devToolsDetectionCallbackTimeout||567):this.OG=new N(this.si,this.ft):this.OG=new B(t,i,{jG:this.h.devToolsDetectionMessage}),this.OG.EG()}}var z=s("./src/js/iframe/iframeHelper.js");class U{constructor(t,i,s,h){this.NG=()=>{this.BG=e.default.rr(),this._G=(this.VG()||this.si).document.documentElement.lang,setTimeout((()=>{this.zG=!0}),5*this.h.UG)},this.HG=t=>{this._G=t,this.qG()},this.WG=()=>(this.BG=this.BG||e.default.rr(),e.default.rr()-this.BG),this.GG=t=>t.nodeType===window.Node.TEXT_NODE&&e.default.parentNode(t)&&this.JG[e.default.parentNode(t).nodeName],this.Fa=t=>{var i;if(t.target&&"characterData"===t.type&&!this.GG(t.target)||t.target&&"attributes"===t.type&&["_msthash","_msttexthash"].indexOf(null==t?void 0:t.attributeName)>=0&&!this.GG(t.target)||t.target&&"attributes"===t.type&&(this.VG()&&t.kW.parentNode===(null===(i=this.VG())||void 0===i?void 0:i.document)||t.kW.parentNode===this.si.document)){var s=t.target.data;this.ZG(t);var h=this.WG();this.KG=this.KG||h>=this.h.UG,(this.zG||this.YG)&&this.KG&&this.QG<this.XG&&this.$G[this.Ja.Nt(t.target)]!==s&&t.oldValue.replace(/\s/g,"")!==s.replace(/\s/g,"")?(++this.QG,this.ft.emit("domTampered",{element:e.default.parentNode(t.target),eg:s,ig:t.oldValue})):this.KG&&this.$G[this.Ja.Nt(t.target)]!==s&&(t.oldValue.replace(/\s/g,""),s.replace(/\s/g,"")),this.zG=!0}},this.qG=()=>{this.KG=!1,this.BG=e.default.rr()},this.ZG=t=>{var i;const s=(this.VG()||this.si).document;var e=s.querySelector("title");if(s.documentElement.className.match("translated-rtl")||s.documentElement.className.match("translated-ltr")?this.tJ||(this.qG(),this.tJ=!0):this.tJ&&(this.tJ=!1,this.qG()),this.VG()!==this.si&&(e=t.kW),e&&e.getAttribute&&e.getAttribute("_msthash")&&e.getAttribute("_msttexthash")?(this.iJ||this.qG(),this.iJ=!0):this.iJ&&(this.iJ=!1,this.qG()),t.target&&"attributes"===t.type&&(this.VG()&&t.kW.parentNode===(null===(i=this.VG())||void 0===i?void 0:i.document)||t.kW.parentNode===this.si.document)){const i=t.kW.lang;i!==this._G&&(this.HG(i),this.ft.emit("onLanguageChanged",{lang:i}))}},this.sJ=()=>{var t=f.default.zC(this.si.CharacterData.prototype),i=f.default.zC(this.si.Text.prototype),s=f.default.zC(this.si.Node.prototype);f.default.zC(this.si.HTMLElement.prototype);let e=this;var h=function(){e.QG<e.XG&&(e.$G[e.Ja.Nt(this)]=this.data)},r=function(){this&&this.nodeType===window.Node.TEXT_NODE&&e.QG<e.XG&&(e.$G[e.Ja.Nt(this)]=this.data)};t.qC("replaceData",h),t.qC("appendData",h),t.qC("insertData",h),t.qC("deleteData",h),t.HC("data",h),i.qC("splitText",h),s.HC("textContent",r),s.HC("nodeValue",r)},this.eJ=t=>{var i;var s=document.implementation.createHTMLDocument("test");(i=new MutationObserver((function(s){i&&i.disconnect(),"characterData"!==s[0].type&&t()}))).observe(s,{attributes:!1,childList:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1}),s.body.innerText="text1"},this.initialize=()=>{var t;if(this.h.domTamperingIgnorePages&&this.h.domTamperingIgnorePages.length)for(t=0;t<this.h.domTamperingIgnorePages.length;++t)if(e.default.Nw(this.h.domTamperingIgnorePages[t],e.default.ji(this.si.location.href)))return;var i=!(!e.default.dw()&&!e.default.pw()||this.si.opr);const s=()=>{this.sJ(),this.ft.on("domMutation",this.Fa)};if(this.ft.once("domInit:domready",this.NG),i){var h=e.default.jw();if(h&&h<70)return;this.eJ(s)}else s()},this.si=t,this.ft=i,this.Ja=s,this.h=e.default.ss(h,{UG:2e3,hJ:["TITLE","STYLE","SCRIPT"]}),this.JG=e.default.N.apply(null,this.h.hJ),this.$G={},this.XG=5,this.QG=0,this.tJ=!1,this.iJ=!1,this.KG=!1,this.BG=void 0,this.zG=!1,this.YG=!1,this.ft.on("devToolsVisibilityChanged",(t=>{this.YG=t.value})),this.ft.on("onLanguageChanged",(t=>{t.lang!==this._G&&this.HG(t.lang)})),(this.VG()||this.si).addEventListener("scroll",(()=>{this.qG()}))}VG(){try{if(this.si.top.addEventListener)return this.si.top}catch(t){}}}s("./node_modules/core-js/modules/esnext.iterator.take.js");var H=s("./src/js/mask/DomMasker.js"),q=s("./src/js/mask/DomRegexMasker.js"),W=s("./src/js/censor/encrypt/DomEncryptor.js"),G=s("./src/js/censor/SelectorValidator.js");class J{constructor(t,i,s){this.iG=t,this.rJ=i,this.nJ=s,this.ei()}ei(){if(!this.iG.WebSocket)return;const t=this.iG.WebSocket,i=function(i,s){const e=s?new t(i,s):new t(i);try{this.nJ?(this.iG.oJ=this.iG.oJ||[],this.iG.oJ.push(e)):e.addEventListener("message",this.rJ)}catch(t){d.default.error("failed intercepting WebSocket constructor: "+t.message,t)}return e}.bind(this);if(this.nJ&&this.iG.opener&&this.iG.opener.oJ&&this.iG.opener.oJ.length)for(let t=0;t<this.iG.opener.oJ.length;t++)this.iG.opener.oJ[t].addEventListener("message",this.rJ);i.prototype=t.prototype,i.prototype.constructor=t,i.CONNECTING=0,i.OPEN=1,i.CLOSING=2,i.CLOSED=3,this.iG.WebSocket=i}}var Z=s("./src/js/censor/mask/maskingUtils.js");class K{constructor(t){this.aJ=t=>{if(!t||!this.cJ)return t;var i,s,e,h,r,n=t.split(";"),o=[];for(i=0;i<n.length;i++)-1!==(e=(s=n[i]).indexOf("="))?(h=s.substring(0,e).trim(),r=s.substring(e+1),o.push(h+"="+(r&&Object.prototype.hasOwnProperty.call(this.cJ,h)?Z.default.xt(r):r))):o.push(s);return o.join("; ")},this.h=t,this.cJ=this.h&&this.h.lJ?e.default.N.apply(null,this.h.lJ):null}}K.prototype.dJ=function(t){return this.aJ(t)};class Y{constructor(t){this.apply=(t,i)=>{if("INPUT"===t.tagName){i.value&&t.setAttribute("value",i.value),i.checked&&t.setAttribute("checked","");const s=this;i.addEventListener("invalid",(function(t){s.At.emit("html5FormValidation:invalid",t)}))}},this.At=t}}class Q{constructor(t){this.apply=(t,i)=>{"TEXTAREA"===t.tagName&&i.firstChild&&i.value!==i.firstChild.textContent&&(t.firstChild?t.uJ?i.Ce?t.firstChild.textContent=Z.default.xt(i.value,void 0,void 0,i.Ce):t.firstChild.textContent=Z.default.xt(i.value):t.firstChild.textContent=i.value:this.At.emit("clsDebug","textareaElementValueSetter",void 0,"cannot set firstChild.textContent as firstChild does not exist on clone of "+i.tagName+" element with _gbid "+(i._gbid||"not assigned")),i.addEventListener("invalid",(function(t){this.At.emit("html5FormValidation:invalid",t)})))},this.At=t}}class X{constructor(t){this.apply=(t,i)=>{if("SELECT"===t.tagName){const s=i.selectedIndex;let e=t.getElementsByTagName("option");e.length?e[s]&&e[s].setAttribute("selected",""):(e=i.getElementsByTagName("option"),e[s]&&(e[s].fJ=!0)),i.addEventListener("invalid",(t=>{this.At.emit("html5FormValidation:invalid",t)}))}"OPTION"===t.tagName&&i.fJ&&t.setAttribute("selected","")},this.At=t}}class ${constructor(t,i,s){this.apply=t=>{if("STYLE"!==t.tagName||!t.ownerDocument)return;const i=t.ownerDocument.createElement("style");if(this.mJ&&e.default.dC(t,i),t.media&&i.setAttribute("media",t.media),t.sheet){let s;const e=t.sheet.cssRules;let h="";if(e&&e.length)for(s=0;s<e.length;s++)"string"!=typeof e[s].cssText||this.gJ&&e[s]instanceof CSSFontFaceRule||(this.vJ&&e[s].cssText.includes(":defined")?h+=e[s].cssText.replaceAll(":defined",""):h+=e[s].cssText);i.textContent=h}return i},this.mJ=t,this.gJ=i,this.vJ=s}}class tt{constructor(t,i){this.apply=t=>{if("STYLE"!==t.tagName)return;const i=t.ownerDocument.createElement("style");if(this.mJ&&e.default.dC(t,i),t.media&&i.setAttribute("media",t.media),i.textContent=(t.textContent||"")+(t.pJ||""),!i.textContent&&t.sheet){const s=t.sheet.cssRules,e=[];let h;if(s&&s.length){for(h=0;h<s.length;h++)"string"==typeof s[h].cssText&&e.push(s[h].cssText);i.textContent=e.join("")}}return this.vJ&&i.textContent.includes(":defined")&&(i.textContent=i.textContent.replaceAll(":defined","")),i},this.mJ=t,this.vJ=i}}class it{constructor(t){this.yJ=()=>this.wJ?new $(this.bJ,this.TJ,this.vJ):new tt(this.bJ,this.vJ),this.wJ=t.domPreciseStyleSheetCloning,this.bJ=t.domRecordStyleAttributes,this.TJ=t.removeBase64Fonts,this.vJ=t.removeCustomElementsDefinitionFromStyle}}class st{constructor(t,i){this.apply=(t,i)=>{if("CANVAS"===t.tagName){var s=e.default.fC(this.ft,i,this.DW.canvasQuality);s&&(t.innerHTML=s)}},this.ft=t,this.DW=i}}class et{constructor(t,i,s,e,h,r){this.toString=()=>"seq:"+this.a_+"referrer"+this.referrer+"charset:"+this.charset+"cookie-len"+(this.cookie?this.cookie.length:0)+(this.r_.length>20?"html length: "+this.r_.length:"html: "+this.r_),this.r_=t,this.referrer=r?i.replace(/\s/g,"%20"):i,this.a_=s,this.charset=h,this.cookie=e}}class ht{constructor(t){this.apply=t=>{if(this.EJ&&t&&t.attributes&&t.removeAttribute)for(let i=0;i<this.EJ.length;i++)t.removeAttribute(this.EJ[i])},this.EJ=t}}class rt{constructor(){this.apply=(t,i)=>{t&&("IMG"===t.tagName&&t.getAttribute("src")?t.setAttribute("src",i.src):"LINK"===t.tagName&&t.getAttribute("href")&&t.setAttribute("href",i.href))}}}class nt{constructor(){this.apply=t=>{t&&("IMG"===t.tagName&&t.getAttribute("src")?t.setAttribute("src",e.default.SC(t.getAttribute("src"))):"LINK"===t.tagName&&t.getAttribute("href")&&t.setAttribute("href",e.default.SC(t.getAttribute("href"))))}}}class ot{constructor(){this.apply=t=>{t&&("IMG"===t.tagName&&t.getAttribute("src")?t.setAttribute("src",e.default.Hf(t.getAttribute("src"))):"LINK"===t.tagName&&t.getAttribute("href")&&t.setAttribute("href",e.default.Hf(t.getAttribute("href"))))}}}s("./node_modules/core-js/modules/es.set.difference.v2.js"),s("./node_modules/core-js/modules/es.set.intersection.v2.js"),s("./node_modules/core-js/modules/es.set.is-disjoint-from.v2.js"),s("./node_modules/core-js/modules/es.set.is-subset-of.v2.js"),s("./node_modules/core-js/modules/es.set.is-superset-of.v2.js"),s("./node_modules/core-js/modules/es.set.symmetric-difference.v2.js"),s("./node_modules/core-js/modules/es.set.union.v2.js");class at{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.apply=t=>{if(this.EJ.has(t.nodeName)&&null!=t&&t.attributes&&t.removeAttribute){let i=[],s=!1;for(let e=0;e<t.attributes.length;e++){let h=t.attributes[e];if(h.name.startsWith("="))s=!0,i.push(h.name);else if(s){if(h.value&&""!==h.value.trim())break;i.push(h.name)}}i.forEach((i=>{t.removeAttribute(i)}))}},this.EJ=new Set(t.map((t=>t.toUpperCase())))}}class ct{constructor(t,i,s,h,r,n,o){this.AJ=(t,i,s)=>{this.CJ=t,this.kJ=s,null===this.Ho.body&&s(void 0);try{if(this.h.snapshotAsync)this.jJ.cloneNode(this.Ho.documentElement,this.xJ,this.IJ,i,this.jJ.SJ(),this.MJ);else{const t=this.jJ.cloneNode(this.Ho.documentElement,this.xJ,this.IJ,i);this.MJ(t)}}catch(t){this.DJ(t)}},this.MJ=t=>{try{if(t&&t.error===this.RJ)this.PJ=this.RJ,this.kJ({error:{visibility:this.RJ}});else{var i=(this.h.autoCreateDoctype||this.Ho.doctype?this.LJ:"")+(this.h.fixChromeBackgroundClipCSS?t.outerHTML.replace(/ background-clip/g," -webkit-background-clip"):t.outerHTML),s=this.OJ?this.OJ.dJ(this.Ho.cookie):this.Ho.cookie;this.kJ(new et(i,this.Yi.mask(this.Ho.referrer),this.CJ,s,this.Ho.characterSet,this.h.encodeReferrer))}}catch(t){this.DJ(t)}},this.DJ=t=>{d.default.error("could not obtain page snapshot. error: "+t),this.PJ=t,this.kJ(void 0)},this.Ho=i,this.jJ=h,this.Yi=r,this.h=o||{},this.OJ=new K({lJ:this.h.maskCookies});let a=new X(s),c=new Q(s),l=new Y(s),u=new ht(this.h.domRemoveAttributes);var f=e.default.Qw().add(l.apply).add(c.apply).add(a.apply).add(u.apply);this.h.domRecordAbsoluteResourcesURLs&&f.add((new rt).apply),this.h.removeUnnamedAttributesByTags&&this.h.removeUnnamedAttributesByTags.length&&f.add(new at(this.h.removeUnnamedAttributesByTags).apply),this.h.protocolsToSwitch&&f.add((new ot).apply),this.h.domRemoveDuplicatedSlashResourcesUrl&&f.add((new nt).apply),this.h.recordCanvas&&f.add(new st(s,this.h).apply),t.ShadowRoot&&this.h.recordShadowDom&&f.add(n.Yg),this.IJ=f.Kw();let m=new it({domPreciseStyleSheetCloning:this.h.domPreciseStyleSheetCloning,domRecordStyleAttributes:this.h.domRecordStyleAttributes,removeBase64Fonts:this.h.removeBase64Fonts,removeCustomElementsDefinitionFromStyle:this.h.removeCustomElementsDefinitionFromStyle});this.xJ=m.yJ().apply,this.RJ="page is empty or not visible",this.LJ="<!DOCTYPE html>\n"}}class lt{constructor(t,i,s,e){this.FJ=()=>{let t,i,s,e,h,r,n={timestamp:this.NJ++,propertiesMode:"modifiedOnly",version:this.h.BJ},o=0;for(t=0;t<this._J.length;t++){for(i in h=this._J[t],s=h.aG.track(),r=0,s)e=s[i],this.VJ(h.cG,e,n)&&r++;o+=r}return 0===o&&(n=void 0),n},this.start=()=>{let t;for(t=0;t<this._J.length;t++)this._J[t].aG.start()},this.nG=t=>{this._J.push(t)},this.dG=t=>{let i;for(i=this._J.length-1;i>=0;i--)if(this._J[i].aG.iW()===t){this._J.splice(i,1);break}},this._J=t||[],this.QL=i,this.Lr=s,this.h=e||{},this.NJ=0}VJ(t,i,s){if(i.removed)return!1;let e,h,r=!1;for(e=0;e<t.length;e++)h=t[e](i,s),!h||r||!this.h.setSelectorToAttributes&&i.attributes||(h.selector=this.QL.kf(i.element,!1).selector,r=!0);return!0}}class dt{constructor(t,i){this.zJ=()=>{let t,i,s,h=0;for(t in this.UJ)if(Object.prototype.hasOwnProperty.call(this.UJ,t)&&(s=this.UJ[t],!s.removed)){for(i=s.element;e.default.parentNode(i);){if(this.HJ[this.Ja.Nt(i)]){h++,s.removed=!0;break}i=e.default.parentNode(i)}s.removed||i.nodeType===window.Node.DOCUMENT_FRAGMENT_NODE||i.nodeType===window.Node.DOCUMENT_NODE||(s.removed=!0,h++)}return h},this.qJ=t=>{const i=this.Ja.Nt(t);let s=this.UJ[i];return s||(s=new S(t,i,this.Ja),this.UJ[i]=s),s},this.Pe=t=>{const i=this.WJ++,s=this.qJ(t.kW);if("characterData"===t.type)s.GJ=t.target;else if("childList"===t.type){if(s.JJ=i,t.addedNodes.length){let i,e;for(e=0;e<t.addedNodes.length;e++)i=this.Ja.Nt(t.addedNodes[e]),this.HJ[i]=!0,s.Jq(i),t.ZJ&&s.Gq.push(t.addedNodes[e])}}else"attributes"===t.type&&(s.attributes||(s.attributes={}),s.attributes[t.attributeName]=i)},this.KJ=t=>{const i=this.Ja.Nt(t),s=this.qJ(t.host);s.JJ=this.WJ++,this.HJ[i]=!0,s.Jq(i)},this.start=()=>{this.ft.on("domMutation",this.Pe)},this.track=()=>{const t=this.UJ;return this.zJ(t),this.WJ=0,this.UJ={},this.HJ={},t},this.iW=()=>!1,this.ft=t,this.Ja=i,this.UJ={},this.HJ={},this.WJ=0,this.ft.on("shadow:rootAttached",this.KJ)}}class ut{constructor(t){this.Dt=(t,i)=>{for(let s=0;s<this.YJ.length;s++)this.YJ[s].Dt(t,i)},this.Bt=(t,i)=>{let s,e;for(let h=0;h<this.YJ.length;h++)e=this.YJ[h].Bt(t,i),s=s||e;return s},this.Ft=(t,i)=>{for(let s=0;s<this.YJ.length;s++)this.YJ[s].Ft(t,i)},this.Pt=()=>{for(let t=0;t<this.YJ.length;t++)this.YJ[t].Pt()},this.YJ=t}}class ft{constructor(t,i){this.next=()=>{let t=e.default.childNodes(this.QJ)[++this.XJ];for(;t&&!this.QN(t);)t=e.default.childNodes(this.QJ)[++this.XJ];return t},this.QJ=t,this.QN=i,this.XJ=-1}}class mt{constructor(t,i){if(this.clone=(t,i,s,h)=>{const r=[];if(t.getRootNode().adoptedStyleSheets&&(t===t.getRootNode()||t.adoptedStyleSheets||"HEAD"===t.nodeName)){const n=t.adoptedStyleSheets||t.getRootNode().adoptedStyleSheets,o=t===t.getRootNode()?i:s.Nt(t);n&&n.length&&n.forEach((n=>{const a=e.default.oC(n,i,o),c=s.Nt(a);n.$J&&a.setAttribute("gbRemoveId",n.$J),n.tZ=o,n.$J=c,a.setAttribute("gbid",n.$J),n.iZ&&!n.iZ[i]?n.iZ[i]=!0:n.iZ||(n.iZ={},n.iZ[i]=!0),h[i]=t.getRootNode();const l=this.sZ&&t.host&&this.sZ[t.host.nodeName]?this.eZ(a):a;r.push(l)}))}return r},this.eZ=t=>{if(!t.tagName||"GB_ADOPTEDSTYLE"!==t.tagName.toUpperCase())return t;try{let i;const s=t.textContent,e=this.hZ(s),h=this.rZ[e];if(h){i=t.ownerDocument.createElement("gb_adoptedstyle"),i.setAttribute(this.nZ,h);return["gbrealid","gbAssociateId","gb-ignore","gbid","gbRemoveId"].forEach((s=>{t.hasAttribute(s)&&i.setAttribute(s,t.getAttribute(s))})),i}return this.rZ[e]=this.oZ,t.setAttribute(this.aZ,this.oZ.toString()),this.oZ++,t}catch(i){return d.default.error("Error while handling repetitive adopted CSS element: "+i.message,i),this.ft.emit("clsDebug","error while handling repetitive adopted CSS element. Exception message: "+i.message),t}},this.hZ=t=>{let i=0;if(0===t.length)return i.toString();for(let s=0;s<t.length;s++){i=(i<<5)-i+t.charCodeAt(s),i&=i}return i.toString()},mt.cZ)return mt.cZ;this.ft=t,this.sZ=i,this.oZ=1,this.aZ="gb-proto",this.nZ="gb-clone",this.rZ={},mt.cZ=this}static reset(){mt.cZ=null}}class gt{constructor(t,i,s,h,r,n,o,a,c,l,d,u,f,m,g,v,p,y,w,b,T){this.lZ=function(t,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:11;for(;t&&i&&s>0;){if("BODY"===t.tagName||"HTML"===t.tagName)return!1;if(i===t.tagName)return!0;t=e.default.parentNode(t)||t.host,s--}},this.dZ=t=>t&&"SLOT"===t.tagName&&this.uZ.some((i=>this.lZ(t,i,5))),this.fZ=t=>t instanceof this.si.ShadowRoot,this.mZ=t=>t?this.vZ.gZ.createElement(this.pZ):this.vZ.gZ.createElement("gb-shadow"),this.yZ=t=>/{\s+\[native code]/.test(Function.prototype.toString.call(t.constructor)),this.clone=(t,i,s,h,r,n)=>{const o=this.wZ++;n&&(this.vO[o]=n);const a=r||this.qq,c={},l=this.vZ.gZ.createElement("gb-root");let d=0;const u=this.TZ.bZ();this.EZ=!this.AZ||h||void 0===h;let f=t.ownerDocument.querySelector("HTML>BODY");return!f&&this.CZ&&(f=t.ownerDocument.querySelector("HTML>FRAMESET")),this.EZ||f&&e.default.qp(f)?(a.Hq(t,((t,r)=>{if(u.kZ)return!0;!this.EZ&&(t&&t.nodeType===this.si.Node.TEXT_NODE||this.AZ&&!h&&e.default.isVisible(t))&&(this.EZ=!0);let n,o=!0;const a=this.Ja.Nt(t);if(!!this.si.ShadowRoot&&this.fZ(t))this.jZ&&this.sZ[t.host.nodeName]||this.xZ&&!this.yZ(t)?(n=this.mZ(!0),t.host.gP=!0):n=this.mZ();else try{if(n=i&&i(t,r)||this.xJ&&this.xJ(t,r),n)o=!1;else{if("BODY"===t.tagName&&t.parentElement&&"HTML"!==t.parentElement.tagName&&this.IZ){let i,s;for(n=this.vZ.gZ.createElement("gb-body"),i=0;i<t.attributes.length;i++)s=t.attributes[i],n.setAttribute(s.name,s.value)}else n=this.vZ.cloneNode(t);this.dZ(t)&&(n.textContent=t.innerText,this.Vr.log("renderSlotsInCustomElements: ",t))}}catch(t){this.ft.emit("clsDebug","Error: NodeCloner, error message:"+t.message)}if(n){if(s&&s(n,t),this.IJ&&this.IJ(n,t),this.SZ&&this.SZ(n,t),t.nodeType===this.si.Node.ELEMENT_NODE&&(t.AW=!0),this.MZ&&t&&t.getRootNode&&t.nodeType!==this.si.Node.DOCUMENT_NODE){const i=new mt(this.ft,this.sZ).clone(t,a,this.Ja,this.DZ);if(i.length){let t;for(t=0;t<i.length;++t)n.appendChild(i[t])}}(t.shadowRoot||e.default.childNodes(t)&&e.default.childNodes(t).length)&&(c[a]=n);const i=e.default.parentNode(t)||t.host;try{let t=i&&c[this.Ja.Nt(i)]||l;("HEAD"===t.nodeName&&n.nodeType!==window.Node.TEXT_NODE||"HEAD"!==t.nodeName)&&t.appendChild(n)}catch(t){this.ft.emit("clsDebug","Error: NodeCloner, error message:"+t.message)}}return t&&t.nodeType===this.si.Node.ELEMENT_NODE&&d++%100==0&&u.RZ(d),o&&!u.kZ}),void 0,void 0,this.PZ,l,o),n?void 0:this.PZ(l,o)):(this.ft.emit("clsDebug","BODY element is not visible during snapshot"),this.PZ(null,o))},this.PZ=(t,i)=>{let s=null;if(t&&e.default.childNodes(t)&&e.default.childNodes(t).length>1){if(this.ft.emit("clsDebug","Error: NodeCloner, cloneRoot.childNodes have more then one child"),this.LZ){let i,h=e.default.childNodes(t);for(i=0;i<h.length;++i)"HTML"===h[i].nodeName&&(s=h[i])}}else this.EZ?t&&(s=t.lastChild):s={error:"page is empty or not visible"};if(!this.vO[i])return s;this.vO[i](s),delete this.vO[i]},this.si=t,this.ft=i,this.vZ=s,this.TZ=h,this.Ja=r,this.qq=n,this.xJ=o,this.IJ=a,this.SZ=c,this.MZ=l,this.DZ=d,this.LZ=u,this.AZ=f,this.CZ=m,this.xZ=g,this.Vr=v,this.uZ=p,this.IZ=y,this.pZ=w,this.sZ=e.default.N.apply(null,b),this.jZ=T,this.wZ=0,this.vO={}}}class vt{constructor(t,i,s){this.Hq=(t,i,s,h)=>{let r,n,o=t;const a=s?"children":"childNodes",c=[o],l={};for(this.OZ.Dt(t,l);c.length;)if(o=c.pop(),o.FZ)this.OZ.Ft(o.parent,l);else if(this.NZ(o,h)&&(n=i(o,l),!1!==n)){const t=e.default[a](o);if(null!=t&&t.length)for(this.OZ.Bt(o,l)&&c.push({parent:o,FZ:!0}),r=t.length-1;r>=0;r--)c.push(t[r]);this.h.BZ&&o.shadowRoot&&(t&&t.length||this.OZ.Bt(o,l)&&c.push({parent:o,FZ:!0}),c.push(o.shadowRoot))}this.OZ.Pt()},this.NZ=t,this.OZ=i,this.h=e.default.ss(s,{BZ:!1})}}class pt{constructor(t,i,s){this._Z=()=>{let t=!1,i=0,s=0;for(;!t&&this.VZ.length;){s=e.default.rr();var h=this.VZ.pop();if(h.FZ)this.OZ.Ft(h.parent,this.bI);else if(this.NZ(h,this.zZ)&&!1!==this.UZ(h,this.bI)){if(h[this.HZ]&&h[this.HZ].length){this.OZ.Bt(h,this.bI)&&this.VZ.push({parent:h,FZ:!0});for(var r=h[this.HZ].length-1;r>=0;r--)this.VZ.push(h[this.HZ][r])}this.h.BZ&&h.shadowRoot&&this.VZ.push(h.shadowRoot)}i+=e.default.rr()-s,i>this.qZ&&(t=!0)}this.VZ.length?window.setTimeout(this._Z,0):(this.OZ.Pt(),this.WZ(this.GZ,this.JZ))},this.Hq=(t,i,s,e,h,r,n)=>{if(this.ZZ)throw"NodeVisitorAsync cannot be re-used";this.ZZ=!0,this.WZ=h,this.GZ=r,this.JZ=n,this.HZ=s?"children":"childNodes",this.VZ=[t],this.bI={},this.UZ=i,this.zZ=e,this.OZ.Dt(t,this.bI),this._Z()},this.ZZ=!1,this.NZ=t,this.OZ=i,this.h=e.default.ss(s,{BZ:!1,visitorAsyncMaxChunkTime:50}),this.qZ=this.h.visitorAsyncMaxChunkTime}}class yt{constructor(t,i){this.KZ=(t,i)=>{if(!t.kZ){const s=-1!==t.duration?t.duration:new Date-t.YZ;t.kZ=!0,this.At.emit("dom:fuseBlown",{reason:i,duration:s,elements:t.QZ,XZ:this.h.XZ||-1,$Z:this.h.$Z||-1}),this.At.emit("clsDebug","DOM cloning fuse blown. reason:"+i+" elements:"+t.QZ+" duration:"+s)}},this.tK=(()=>{const t=this;return function(i){this.kZ||(this.QZ=i,t.iK&&(this.duration=new Date-this.YZ,this.duration>=t.h.XZ)?t.KZ(this,"duration"):t.sK&&this.QZ>=t.h.$Z&&t.KZ(this,"elementCount"))}})(),this.bZ=()=>({kZ:!1,YZ:new Date,QZ:-1,duration:-1,RZ:this.tK}),this.At=t,this.h=i||{},this.sK=(this.h.$Z||0)>0,this.iK=(this.h.XZ||0)>0}}class wt{constructor(t,i){this.apply=t=>{if("TITLE"===t.nodeName){const i=t.ownerDocument.createElement("title");return i.textContent=e.default.kt(t.textContent,(t=>this.It.xt(t,null,this.h.titleMaskingChar))),i}},this.It=t,this.h=i||{}}}class bt{constructor(t,i,s,h){this.eK=t=>t.parentElement&&t.parentElement.tagName&&this.DW.renderSlotsInCustomElements.some((function(i){return i===t.parentElement.tagName})),this.apply=(t,i)=>{if(t&&t.nodeType===window.Node.TEXT_NODE&&i){if(this.DW.renderSlotsInCustomElements.length&&this.eK(t))return t.ownerDocument.createTextNode("");if(i.mb)return t.ownerDocument.createTextNode(e.default.kt(t.textContent,(t=>this.It.xt(t,null,this.DW.hK))));if(i.Ot){const i=this.xq.encrypt(t.textContent);return t.ownerDocument.createTextNode(i)}if(i.gb){const i=this.It.ie(t.textContent,this.DW.domRegexPatternForMasking,this.DW.domRegexMaskingChar);return t.ownerDocument.createTextNode(i)}}},this.It=t,this.xq=i,this.QP=s,this.DW=h}}class Tt{constructor(t,i){this.apply=t=>{if(this.ib[t.tagName]&&"function"==typeof t.getAttribute&&!t.hasAttribute(this.ob)){for(let i in this.rb)if(Object.prototype.hasOwnProperty.call(this.rb,i)){const s=t.getAttribute(i);s&&(this.rK[t.tagName]&&"src"===i?t.setAttribute(i,this.rK[t.tagName]):t.setAttribute(i,this.It.xt(s,void 0,this.h.attributeMaskingChar)))}if(this.nK&&t.dataset)for(let i in t.dataset)t.dataset[i]=this.It.xt(t.dataset[i],void 0,this.h.attributeMaskingChar)}},this.It=t,this.h=i,this.rK={IMG:"data:image/gif;base64,"},this.rb=e.default.N.apply(null,i.domMaskedAttributes),this.ib=e.default.N.apply(null,(i.Yy||[]).map((t=>t.toUpperCase()))),this.nK=!!i.domMaskDataAttributes,this.ob=i.domMaskIgnoreAttribute}}class Et{constructor(t){this.apply=t=>{if("TEXTAREA"===t.tagName&&t.firstChild){let i;if(t.firstChild.textContent&&(i=this.jq.ot(t),i!==t.firstChild.textContent)){const s=t.cloneNode(!0);return s.firstChild.textContent=i,s.uJ=!0,s}}},this.jq=t}}class At{constructor(t){this.apply=t=>{if("INPUT"===t.tagName){t.getAttribute("value")&&t.setAttribute("value",this.jq.ot(t))}},this.jq=t}}class Ct{constructor(t,i,s,h){this.gZ=void 0,this.cloneNode=void 0,this.oK=e.default.N.apply(null,["TEXTAREA"]),this.importNodeWhenUrlContains=h||[];var r=t,n=[];try{s.forEach((t=>{var i=t?new RegExp(t,"i"):void 0;i&&n.push(i)}))}catch(t){}if(this.aK=()=>{this.gZ=r.document.implementation.createHTMLDocument("cloner-doc"),this.cloneNode=function(t){return this.gZ.importNode(t,!!this.oK[t.tagName])}},Array.isArray(n)&&n.some((t=>t.test(r.navigator.userAgent)))||e.default.Oh(r.navigator.userAgent)||e.default.pw(r.navigator.userAgent)){this.gZ=r.document.implementation.createHTMLDocument("cloner-doc");var o=r.document.documentElement?r.document.documentElement.namespaceURI:null;this.cloneNode=function(t){var i;return!this.oK[t.tagName]&&t&&t.nodeType===r.Node.ELEMENT_NODE?(i=t.namespaceURI!==o?this.gZ.createElementNS(t.namespaceURI,t.tagName.toLowerCase()):this.gZ.createElement(t.tagName),Array.prototype.slice.call(t.attributes).forEach((function(t){try{i.setAttribute(t.name,t.value)}catch(t){}}))):i=this.gZ.importNode(t,!!this.oK[t.tagName]),i}}else this.aK()}}class kt{constructor(t,i){this.apply=(t,i)=>{t&&t.nodeType===window.Node.ELEMENT_NODE&&t.setAttribute(this.cK,i[this.lK])},this.cK=t,this.lK=i}}class jt{constructor(t){this.dK=()=>{let t;const i=new Map;for(t in this.h.uK)i.set(t,new Set(this.h.uK[t]));return i},this.fK=()=>{let t;const i=new Map;for(t in this.h.mK)i.set(t,new RegExp(this.h.mK[t]));return i},this.accept=(t,i)=>{var s;if(this.h.domOmitInvisibleElements&&!t.AW&&t.nodeType===window.Node.ELEMENT_NODE&&"HTML"!==t.tagName&&"LINK"!==t.tagName&&"STYLE"!=t.tagName&&e.default.parentNode(t)&&"HTML"!==e.default.parentNode(t).tagName&&"HEAD"!==e.default.parentNode(t).tagName&&!e.default.isVisible(t)&&(i||t.outerHTML.indexOf("<style")<0&&!this.gK.test(t.outerHTML)))return!1;if(this.h.vK&&this.h.vK>-1&&this.pK.has(t.tagName)&&t.innerHTML.length>this.h.vK)return!1;if("HEAD"===(null===(s=e.default.parentNode(t))||void 0===s?void 0:s.tagName)&&this.yK.has(t.tagName))return!1;if(this.wK.has(t.id)||"OBJECT"===t.tagName&&this.bK.has(t.getAttribute("type"))||e.default.je(t,this.h.TK))return!1;if(this.EK.has(t.tagName)){const i=this.AK.get(t.tagName);if(!i||!i.exec(t.textContent))return!1}if((null==t?void 0:t.nodeType)===window.Node.ELEMENT_NODE&&this.h.CK&&this.h.CK.length)for(const i of this.h.CK)if(t.matches(i))return!1;if(t&&"IFRAME"===t.tagName&&t.src&&this.h.domOmitAnalyticsIframes&&this.h.domOmitAnalyticsIframes.length){const i=1,s=1,h=0;for(let r=0;r<this.h.domOmitAnalyticsIframes.length;r++){const n=e.default.W(t.src);if(n&&n.indexOf(this.h.domOmitAnalyticsIframes[r])>-1&&t.width<=i&&t.height<=s&&("hidden"===t.style.visibility||"none"===t.style.display||t.style.opacity<=h))return!1}}return((null==t?void 0:t.nodeType)!==window.Node.COMMENT_NODE||!this.h.kK)&&(!this.jK.has(t.tagName)||"undefined"===t.id||!this.jK.get(t.tagName).has(t.id))},this.h=e.default.ss(t,{xK:[],mK:{},uK:{},kK:!0,IK:[],SK:[],TK:[],MK:[],tagsToCheckLength:[],vK:-1,domOmitInvisibleElements:!1,domOmitAnalyticsIframes:[]}),this.jK=this.dK(),this.AK=this.fK(),this.EK=new Set(this.h.xK),this.yK=new Set(this.h.IK),this.wK=new Set(this.h.SK),this.bK=new Set(this.h.MK),this.pK=new Set(this.h.tagsToCheckLength),this.gK=/<link[^>]+?rel\s*?=\s*?['"]stylesheet/gi}}class xt{constructor(){this.clone=t=>{if("LINK"!==t.tagName||"import"!==t.getAttribute("rel"))return;const i=[],s={};let e,h,r,n,o=t.DK,a="";for(;o;){if(r=o.querySelectorAll("style"),r.length)for(e=0;e<r.length;e++)a+=r[e].textContent;for(n=o.querySelectorAll("link[rel='import']"),h=0;h<n.length;h++)n[h].DK&&!s[n[h].href]&&(i.push(n[h].DK),s[n[h].href]=!0);o=i.pop()}if(a){const i=t.ownerDocument.createElement("style");return i.textContent=a,i.setAttribute("gb-imported-from",t.href),i}}}}s("./node_modules/core-js/modules/web.dom-exception.stack.js");class It{constructor(t,i){this.RK=t=>{this.At.emit("clsDebug","base64ImageRemover",void 0,"replaced image with placeholder from "+t.nodeName+" node with _gbid "+(t._gbid||"not assigned"))},this.PK=(t,i)=>{const s=t||150,e=i||100,h=Math.min(s,e),r=Math.max(.2*h,16),n=Math.max(Math.min(.05*s,12),7),o=Math.max(Math.min(.035*s,9),6),a=e>50&&s>140,c=e>80&&s>250,l=(e-(r+(a?n+8:0)+(c?o+8:0)))/2;return`data:image/svg+xml;base64,${btoa(`<svg xmlns="http://www.w3.org/2000/svg" width="${s}" height="${e}" viewBox="0 0 ${s} ${e}">\n\t\t\t\x3c!-- Background --\x3e\n\t\t\t<rect width="100%" height="100%" fill="#f8f9fa" stroke="#e9ecef" stroke-width="1"/>\n\t\t\t\n\t\t\t\x3c!-- Embedded base64 icon --\x3e\n\t\t\t<image x="${s/2-r/2}" y="${l}" width="${r}" height="${r}" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA7CAYAAADIO4L0AAABXmlDQ1BJQ0MgUHJvZmlsZQAAeJxtkE9LAlEUxY9lDNgsKiqIXLioRWAhk34Asz9KEoMl/dnE+LRRGKfHOBVtoj5D0qJNu+gbSBDUpn0gFLRqW9EqmBYl031aqdV9XM6Pw72PywE6ZI1zwwugaNpWam4qsLK6FpAeIcEPHwYwqrESj6pqkkbwre3l3MIjtDou/nqOJ8onL0Ozaae6IB8Wtv/Ot5Uvmysx0g9qhXHLBjwhYnXH5oL3ifstOoq4LFhv8JngTIMv6jNLqRjxDXEPy2tZ4gfiYKbF11u4aGyxrxvE9XLOTC+SDlL7MY0ZJOkFoEJBmFpBnDL6fydc34lhExy7sFCAjjxs2o6Sw2EgR5yACYYJBIkVhKgjIuvfGTY9cx2IzBPsNT32BpwPA31PTW/kAOg9Bi6vuWZpP8l6HG9pY1JpcHcF6Dpy3ddlQBoDaneu+15x3dop0HkPXDmfDVJkKOvoHEkAAABWZVhJZk1NACoAAAAIAAGHaQAEAAAAAQAAABoAAAAAAAOShgAHAAAAEgAAAESgAgAEAAAAAQAAAD2gAwAEAAAAAQAAADsAAAAAQVNDSUkAAABTY3JlZW5zaG90UQVLmwAAA8pJREFUeJzlmz9ME1Ecx78YNyKBiYUEmNSJLriQAAkwAK42CklX08FojKEJf4IEUE8bo6nlbBlITsrfmFgIEI0mtZjgoKYMjMgdKMmxtEEYGIwOhEvvrtfru/fu4Oh3eu9d+/L79vN79zt+LSVHR3//och04bQDOA0VpemLuRZDIR782GscHh46HQ9TeTx1ePHyOWprq1XrJdozLQgxDPQPOhqcnfJ46hBfeKta06X3xsaGYwE5oVRqHZlMWrWmM72//8exgJxSOr2vmuc809kaHhmCz9dtW0B26Fp9A2RZNrxelHfvojRtmt5abW1JdsRBJW1JMhOx6Xt37yOVWid9m61KfP5EZPxcpHdFRRnR611vuqOzHeXlFUTvIU5vrSorK2m3IFZ2OerpeUD8fmrTT589RnNzI+02BUsUJTQ1tgA4pkx6EwNcmN7eG13K2AplwGWmBSGmpLZVyoCLTGcyabwKjSlzq5QBF5kOh6NMKAMuMS2KEqKRcWVOQxlwiWmOCypjWsqATaZFUWL2jB6PL2J5aUWZ01IGbDLNcUF4vV0QhBj1XqMjT5QxC8qATaa/f/uBPVnGQP8g/P47lqlnlyjAmLK2HWQm5qa1gS4vrViiLoqSqkQZURaEmK4dZCbmpj+8/6hbO6EeCPQWTIXjgqaUtbW7UDE1LYoSVldXDa/PTM+hre26abqLoqS6eRlRzq7dJGJqenFxWTXv6GzXvWZPltHc1ILRUc5wn/6+h6p5LsqiKCE2OWUpTqam3wiTyrijsx08H8LwyFDOPz+jkXHU1zfoqAtCTJUtRpQ5Lmj5GxhmphOJZM4z6PN1Y25+qmDq2jNqRDk7/UnFzPTs7Lwy1tKpqakuiHog0Kv64PJRphET09pP3qiemlGfmZ5TrRnts/t7lyJaRqaTyS/K2OypyYx6ofvQiInpiQlBGRf6bJyPOsk+VkRtent7Bz83NwGQ0zGibidlgIHpEINuhpa6nZQBBt3QPUbdjBPqiUTSVsoAw5LFio4T7WQmpu0+g6zFxLTdZ5C1qE27jTLAwLTbKAOUd28jyplMmrib4aSoTBtRDoejqj71WZPl9M53luPvFiwH5IQsmzairG0MnkURp/eVq5fR2tZqSHlt7Ss8njrqwEhE+vMLYtMc9yjvdZ4PkW7puFzxXRZrFaVp0/Te2fmFRCLpRCzMdHBwkPe6qeloZPxM11wr0qV3Wdml04jDVmkrjc60338bpaWljgVkt27e8urWdP/OABy3dHk+4vofvFdVVaGvL6Bbz2n6vKsoS1ZRmv4PptySCy/0TX8AAAAASUVORK5CYII=" preserveAspectRatio="xMidYMid meet"/>\n\t\t\t\n\t\t\t${a?`\x3c!-- Main title --\x3e\n\t\t\t<text x="50%" y="${l+r+n+12}" text-anchor="middle" \n\t\t\t\tfont-family="system-ui, -apple-system, sans-serif" font-size="${n}" font-weight="500" fill="#495057">\n\t\t\t\tImage omitted due to configuration\n\t\t\t</text>`:""}\n\t\t\t\n\t\t\t${c?`\x3c!-- Subtitle --\x3e\n\t\t\t<text x="50%" y="${l+r+n+o+20}" text-anchor="middle" \n\t\t\t\tfont-family="system-ui, -apple-system, sans-serif" font-size="${o}" fill="#6c757d">\n\t\t\t\tremoveBase64ImageDataTagNames\n\t\t\t</text>`:""}\n\t\t</svg>`)}`},this.LK=t=>{let i=null,s=null;try{if(t&&t.hasAttribute&&t.hasAttribute("width")){const s=t.getAttribute("width");if(s){const t=parseInt(s,10);!isNaN(t)&&t>0&&(i=t)}}if(t&&t.hasAttribute&&t.hasAttribute("height")){const i=t.getAttribute("height");if(i){const t=parseInt(i,10);!isNaN(t)&&t>0&&(s=t)}}if(i&&s||!t||"IMG"!==t.tagName||(!i&&t.naturalWidth&&t.naturalWidth>0&&(i=t.naturalWidth),!s&&t.naturalHeight&&t.naturalHeight>0&&(s=t.naturalHeight)),!i||!s){const e=t&&t.getAttribute?t.getAttribute("style"):null;if(e&&"string"==typeof e){const t=e.match(/width\s*:\s*(\d+(?:\.\d+)?)(?:px|em|rem|%|vw|vh)?/i),h=e.match(/height\s*:\s*(\d+(?:\.\d+)?)(?:px|em|rem|%|vw|vh)?/i);if(t&&!i){const s=parseFloat(t[1]);isNaN(s)||!(s>0)||t[0].includes("%")||t[0].includes("em")||t[0].includes("rem")||t[0].includes("vw")||t[0].includes("vh")||(i=Math.round(s))}if(h&&!s){const t=parseFloat(h[1]);isNaN(t)||!(t>0)||h[0].includes("%")||h[0].includes("em")||h[0].includes("rem")||h[0].includes("vw")||h[0].includes("vh")||(s=Math.round(t))}}}if((!i||!s)&&t&&t.ownerDocument&&t.ownerDocument.defaultView){const e=t.ownerDocument.defaultView.getComputedStyle(t);if(e){if(!i&&e.width){const t=parseFloat(e.width);!isNaN(t)&&t>0&&(i=Math.round(t))}if(!s&&e.height){const t=parseFloat(e.height);!isNaN(t)&&t>0&&(s=Math.round(t))}}}if((!i||!s)&&t&&t.isConnected){if(!i){const s=t.offsetWidth||t.clientWidth;s&&s>0&&(i=s)}if(!s){const i=t.offsetHeight||t.clientHeight;i&&i>0&&(s=i)}}if((!i||!s)&&t&&t.getBoundingClientRect){const e=t.getBoundingClientRect();e&&(!i&&e.width>0&&(i=Math.round(e.width)),!s&&e.height>0&&(s=Math.round(e.height)))}}catch(i){this.At&&this.At.emit&&this.At.emit("clsDebug","base64ImageRemover",i,"Error getting image dimensions from "+(t?t.nodeName||"unknown element":"null element"))}return{width:i,height:s}},this.FK=()=>"repeating-linear-gradient(45deg, #f8f9fa, #f8f9fa 12px, #e9ecef 12px, #e9ecef 24px)",this.NK=t=>{const i=this.FK();return this.BK.lastIndex=0,t.replace(this.BK,(t=>{const s=t.match(/^(background(?:-image)?)\s*:\s*/);if(s){return`${s[1]}: ${i};`}return`background-image: ${i};`}))},this._K=t=>!!t&&(this.BK.lastIndex=0,this.BK.test(t)),this.apply=(t,i,s)=>{if(this.VK[t.tagName]){if("IMG"===t.tagName&&t.src){if(this.zK.test(t.src)){this.RK(t);const i=this.LK(t),e=this.PK(i.width,i.height);return t.src=e,t.setAttribute("gb-placeholder","image-removed"),s?e:void 0}return t.src}if("STYLE"===t.tagName){if(this._K(t.innerText)){this.RK(t);const i=this.NK(t.innerText).replace(/(\r\n|\n|\r)/gm,"");return t.innerText=i,t.setAttribute("gb-placeholder","background-removed"),s?i:void 0}if(s)return t.innerText}const i=t.getAttribute("style");if(i){if(this._K(i)){this.RK(t);const e=this.NK(i);return t.setAttribute("style",e),t.setAttribute("gb-placeholder","background-removed"),s?e:void 0}return i}}},this.At=t,this.VK=i||{},this.zK=/(url\()?"?data:image\/(svg\+xml|\.?(png|jpe?g));[a-zA-Z0-9\D]*;?base64/,this.BK=/(background)(-image)*:(.*)(url\()?(&quot;)?"?data:image\/(svg\+xml|(\.?(png|jpe?g)));(.)?(base64,).*(\s)*?(?=\))\)*;*/}}class St{constructor(t){this.apply=(t,i,s)=>{if("STYLE"===t.tagName&&this.UK.test(t.innerText)){if(this.RK(t),s)return t.innerText.replace(this.UK,"").replace(/(\r\n|\n|\r)/gm,"");t.innerText=t.innerText.replace(this.UK,"").replace(/(\r\n|\n|\r)/gm,""),t.setAttribute("gb-dataremoved","")}},this.At=t,this.UK=/@font-face\s*{[^}]*src:[^;]*url\([^)]*base64[^)]*\)[^}]*\}/g}RK(t){this.At.emit("clsDebug","base64FontRemover",void 0,"removed font data from "+t.nodeName+" node with _gbid "+(t._gbid||"not assigned"))}}class Mt{constructor(t,i){this.clone=t=>{let i;if(t.tagName&&(i=t.tagName.toUpperCase()),this.HK[i])try{let s,e;const h=t.outerHTML,r=this.qK[h];if(r)e=t.ownerDocument.createElement(i),e.setAttribute(this.nZ,r);else{for(this.qK[h]=this.oZ,e=t.ownerDocument.createElement(i),e.innerHTML=t.innerHTML,s=0;s<t.attributes.length;s++){const i=t.attributes[s];e.setAttribute(i.name,i.value)}e.setAttribute(this.aZ,this.oZ.toString()),this.oZ++}return e}catch(t){d.default.error("Error while handling repetitive element: "+t.message,t),this.ft.emit("clsDebug","error while handling repetitive element. Exception message: "+t.message)}},this.ft=t,this.WK=i,this.oZ=1,this.aZ="gb-proto",this.nZ="gb-clone",this.qK={},this.WK=i.map((t=>t.toUpperCase())),this.HK=e.default.N.apply(null,this.WK)}}class Dt{constructor(){this.acceptNode=t=>{if(!t.getAttribute||"OBJECT"!==t.tagName)return!1;const i=(t.getAttribute("data")||"").toLowerCase();return"text/html"===(t.getAttribute("type")||"").toLowerCase()||i.indexOf(".html")===i.length-5||i.indexOf(".htm")===i.length-4},this.apply=t=>{this.acceptNode(t)&&t.setAttribute("_gbObject","")}}}class Rt{constructor(t,i,s,h){this.apply=(t,i)=>{t&&("INPUT"===t.tagName||"SELECT"===t.tagName)&&e.default.isVisible(i)&&this.At.emit("newInputElement",{gbid:this.Ja.Nt(i),clone:t,GK:this.QL.kf(i),cssSelector:this.KL.kf(i)})},this.At=t,this.Ja=i,this.QL=h,this.KL=s}}class Pt{constructor(t,i){this.apply=(t,i)=>{let s=this.JK;var h;if(i.nodeType===i.ELEMENT_NODE)for(h=0;h<this.ZK.length;++h)if(e.default.vt(i,this.ZK[h])){var r=this.si.getComputedStyle(i);for(var n in s)if(r[n])if(s[n].KK&&s[n].KK!==r[n]){if(s[n].YK)break}else t.setAttribute(this.JK[n].QK,s[n].XK?r[n]:"");else if(s[n].YK)break;break}},this.si=t,this.ZK=i,this.JK={"-webkit-appearance":{QK:"_gb-apple-pay",XK:!1,KK:"-apple-pay-button",YK:!0},"-apple-pay-button-type":{QK:"_gb-apple-pay-type",XK:!0,KK:!1,YK:!1},"-apple-pay-button-style":{QK:"_gb-apple-pay-style",XK:!0,KK:!1,YK:!1}}}}class Lt{constructor(t,i,s,h,r,n,o,a,c,l,u,f,m){this.$K=()=>this.h.valueMaskingMode===this.Lr.gs.ce||(!!(this.h.maskBlacklistValueByClass.length||this.h.maskBlacklistValueById.length||this.h.valueMaskByCategories.length||this.h.valueBlacklistMaskSimpleSelector.length)||(this.h.valueEncryptionMode===this.Lr.gs.ce||!(!this.h.valueEncryptById.length&&!this.h.valueEncryptByClass.length))),this.tY=t=>new ft(t,this.iY),this.SJ=()=>new pt(this.NZ,new ut(this.YJ),{BZ:this.h.recordShadowDom,visitorAsyncMaxChunkTime:this.h.visitorAsyncMaxChunkTime}),this.Lr=s,this.h=u,this.h.renderSlotsInCustomElements=u.renderSlotsInCustomElements,this.NZ=new jt({kK:!u.domKeepComments,xK:["SCRIPT","NOSCRIPT","DOM-IF","CODE"],uK:u.domIgnoredFormElements?{INPUT:u.domIgnoredFormElements}:{},mK:u.domKeepScriptMatching?{SCRIPT:u.domKeepScriptMatching}:{},IK:["IFRAME","FRAME","FRAMESET"],SK:u.domMaskOmitById||u.domOmitById,TK:u.domMaskOmitByClass||u.domOmitByClass,MK:u.domOmitObjectElementsByType,CK:u.domOmitBySelector,tagsToCheckLength:u.tagsToCheckLength,vK:u.tagMaxLength,domOmitInvisibleElements:u.domOmitInvisibleElements,domOmitAnalyticsIframes:u.domOmitAnalyticsIframes}).accept,this.YJ=[],this.YJ.push(o.Mt(h)),this.YJ.push(a.Mt(h)),this.h.domRegexPatternForMasking.length&&this.h.domMaskContentByRegex.length&&this.YJ.push(c.Mt(h));var g=new vt(this.NZ,new ut(this.YJ),{BZ:u.recordShadowDom}),v=e.default.Qw(!0);u.domCompressRepetitiveElements.length&&v.add(new Mt(i,u.domCompressRepetitiveElements).clone),v.add(new xt);var p=new tt(u.domRecordStyleAttributes,u.removeCustomElementsDefinitionFromStyle);v.add(p.apply),u.struggleCaptureBlankPage&&v.add(n.Yg);var y=new bt(Z.default,a,c,this.h);if(v.add(y.apply),u.maskTitle){var w=new wt(Z.default,this.h);v.add(w.apply)}var b=e.default.Qw(!0).add(new kt("gbid",h.RP).apply);u.domRemoveAttributes&&u.domRemoveAttributes.length&&b.add(new ht(u.domRemoveAttributes).apply),u.removeUnnamedAttributesByTags&&u.removeUnnamedAttributesByTags.length&&b.add(new at(u.removeUnnamedAttributesByTags).apply),u.domRecordAbsoluteResourcesURLs&&b.add((new rt).apply),u.protocolsToSwitch&&b.add((new ot).apply),u.domRemoveDuplicatedSlashResourcesUrl&&b.add((new nt).apply);var T=new Et(r),E=new At(r);this.$K()&&(b.add(E.apply),v.add(T.apply)),u.domMaskAttributesByTag.length&&(u.domMaskedAttributes.length||u.domMaskDataAttributes)&&b.add(new Tt(Z.default,{domMaskedAttributes:u.domMaskedAttributes,Yy:u.domMaskAttributesByTag,domMaskIgnoreAttribute:u.domMaskIgnoreAttribute,domMaskDataAttributes:u.domMaskDataAttributes,attributeMaskingChar:u.attributeMaskingChar}).apply),u.recordCanvas&&b.add(new st(i,u).apply),u.htmlObjectRecordEnabled&&b.add((new Dt).apply),u.removeBase64ImageDataTagNames&&u.removeBase64ImageDataTagNames.length>0&&b.add(new It(i,e.default.N.apply(null,u.removeBase64ImageDataTagNames)).apply),u.removeBase64Fonts&&b.add(new St(i).apply),u.domFormAnalysisReporting&&b.add(new Rt(i,h,f,m).apply);let A=e.default.Qw(),C=u.applePaySelectors;C&&C.length&&(e.default.Oh()||e.default.pw())&&A.add(new Pt(t,C).apply);var k=new yt(i,{$Z:u.domFuseElementCount,XZ:u.domFuseDuration}),j=new gt(t,i,new Ct(t,i,u.forceRenderingFixForMultipleUA,u.importNodeWhenUrlContains),k,h,g,v.Kw(),b.Kw(),A.Kw(),u.enableAdoptedCss,l,u.checkForHtmlOnly,u.checkVisibility,u.framesetRecordEnabled,u.recordNonNativeShadowAsElementContainer,d.default,this.h.renderSlotsInCustomElements,u.domRecordInnerBody,u.customElementWrapperName,u.ignoreAdoptedForElements,u.enableAdoptedCss);this.iY=this.NZ,this.Hq=g.Hq,this.cloneNode=j.clone}}class Ot{constructor(t,i){this.sY=t=>{const i=t.insertRule,s=this;t.insertRule=function(){const t=i.apply(this,arguments);try{const i=arguments[0];this.pJ?this.pJ+=i:this.pJ=i;const e=s.Ja.Nt(this.ownerNode);s.WD.push({selector:""+e,type:"added",rule:i,index:t})}catch(t){d.default.error("Exception occurred during CSS insertRule interception. Error: "+t.message,t)}return t}},this.eY=t=>{const i=t.deleteRule,s=this;t.deleteRule=function(){try{const t=arguments[0];if(void 0!==this.cssRules[t]){const i=s.Ja.Nt(this.ownerNode);s.WD.push({selector:""+i,type:"deleted",index:t})}}catch(t){d.default.error("Exception occurred during CSS deleteRule interception. Error: "+t.message,t)}return i.apply(this,arguments)}},this.start=()=>{},this.track=()=>{const t={};return this.WD.length&&(t.cssRules={rules:this.WD}),this.WD=[],t},this.iW=()=>!1,this.hY=this.sY,this.rY=this.eY,this.si=t,this.Ja=i,this.WD=[],this.sY(this.si.CSSStyleSheet.prototype),this.eY(this.si.CSSStyleSheet.prototype)}}class Ft{constructor(){this.apply=(t,i)=>{t.rules&&t.rules.length>0&&(e.default.Vw(i,"cssRuleChanges").rules=t.rules)}}}class Nt{constructor(t,i){this.nY=t=>{const i=t.setProperty,s=this;t.setProperty=function(){const t=i.apply(this,arguments);try{if(this.parentRule&&this.parentRule.parentStyleSheet){const t=this.parentRule.parentStyleSheet.ownerNode;if(t){const i=s.Ja.Nt(t);s.WD.push({selector:""+i,type:"setProperty",selectorText:this.parentRule.selectorText,propertyName:arguments[0],value:arguments[1],priority:arguments[2]})}}}catch(t){d.default.error("Exception occurred during CSS set property interception. Error: "+t.message,t)}return t}},this.oY=t=>{const i=t.removeProperty,s=this;t.removeProperty=function(){const t=i.apply(this,arguments);try{if(this.parentRule&&this.parentRule.parentStyleSheet){const t=this.parentRule.parentStyleSheet.ownerNode;if(t){const i=s.Ja.Nt(t);s.WD.push({selector:""+i,type:"removeProperty",selectorText:this.parentRule.selectorText,propertyName:arguments[0]})}}}catch(t){d.default.error("Exception occurred during CSS remove property interception. Error: "+t.message,t)}return t}},this.start=()=>{},this.track=()=>{var t={};return this.WD.length&&(t.cssRules={rules:this.WD}),this.WD=[],t},this.iW=()=>!1,this.aY=this.nY,this.cY=this.oY,this.si=t,this.Ja=i,this.WD=[],this.nY(this.si.CSSStyleDeclaration.prototype),this.oY(this.si.CSSStyleDeclaration.prototype)}}class Bt{constructor(){this.apply=(t,i)=>{t.rules&&t.rules.length>0&&(e.default.Vw(i,"cssPropertyChanges").props=t.rules)}}}class _t{constructor(t,i,s){this.Vr=t,this.WD=i,this._I=s}lY(){try{this.WD.forEach((t=>{if("object"==typeof t)for(const[i,s]of Object.entries(t)){if(!i||!s)return void this.Vr.log("[Glassbox] Invalid or missing rule for domTrackStyleChanges");const t=document.querySelector(i);if(!t)return void this.Vr.log("[Glassbox] Element for domTrackStyleChanges not found:",i);let e=getComputedStyle(t)[s];setInterval((()=>{const i=getComputedStyle(t)[s];i!==e&&(t.style[s]=i,e=i)}),this._I)}else this.Vr.log('[Glassbox] Invalid style rule for domTrackStyleChanges - should be of form [{"el":"style"}]:',t)}))}catch(t){this.Vr.log("[Glassbox] Invalid rules provided for domTrackStyleChanges:",t)}}}class Vt{constructor(t,i,s,h,r){this.dY=(t,i)=>{let s,e=-1,h={uY:-1,fY:!1,mY:""};for(;s=t.next();)e++,s.nodeType!==window.Node.TEXT_NODE?h.fY=!0:h.mY+=s.textContent,s===i&&(h.uY=e);return h},this.apply=(t,i)=>{if(void 0!==t.GJ){let s=this.dY(this.gY(t.element),t.GJ);if(s.uY>=0){let h=s.fY?t.GJ.textContent:s.mY;this.JP&&this.JP.ab(t.element,A.default._t,E.default.Jg)?h=Z.default.xt(h):this.QP&&this.QP.ab(t.element,A.default._t)?h=Z.default.ie(h,this.h.domRegexPatternForMasking,this.h.domRegexMaskingChar):this.xq&&this.xq.Ct(t.element,A.default._t)&&(h=this.xq.encrypt(h));let r=e.default.Vw(i,"domChanges",t.id);return r.characterData={value:h,child:s.fY?s.uY:0},r}}},this.gY=t,this.JP=i,this.xq=h,this.QP=s,this.h=r}}class zt{constructor(t,i,s,h){this.apply=(t,i)=>{const s=t.attributes?Object.keys(t.attributes):[];if(s&&s.length>0){let h,r,n,o,a={};for(this.h&&this.h.removeBase64ImageDataTagNames&&this.h.removeBase64ImageDataTagNames.length>0&&(o=e.default.N.apply(null,this.h.removeBase64ImageDataTagNames),n=new It(this.At,o)),h=0;h<s.length;h++)r=t.element.getAttribute(s[h]),"INPUT"===t.element.tagName&&"value"===s[h]?r="password"===t.element.getAttribute("type")?Z.default.xt(r):this.jq.ot(t.element):this.JP.sb(t.element,s[h])?r=Z.default.xt(r):("style"===s[h]||"src"===s[h])&&n&&o[t.element.tagName]&&(r=n.apply(t.element,null,!0)),a[s[h]]={value:r,ordinal:t.attributes[s[h]]};const c=e.default.Vw(i,"domChanges",t.id);return c.attributes=a,c}},this.jq=t,this.JP=i,this.h=s,this.At=h}}class Ut{constructor(t,i,s,h,r,n,o){this.init=(t,i)=>{if(void 0!==t.JJ){if(this.JP.ab(t.element,A.default._t,E.default.Kg))return;let h,r,n,o=[],a=this.gY(t.element);if(e.default.childNodes(t.element).length>1&&"STYLE"===t.element.nodeName){const i=t.element.sheet.rules;let e="";for(var s=0;s<i.length;s++)e+=i[s].cssText+"\n";e=e.replace(/<svg.*svg>/gi,""),o.push("text:"+e)}else for(;h=a.next();)r=this.Ja.Nt(h),this.vY[h.tagName]||t.addedNodes&&t.addedNodes[r]||this.h.domChildListUpdateExistingElements&&this.pY(t,r)?(n=this.jJ.cloneNode(h),o.push(this.wY.yY(n))):o.push(this.wY.bY(h));"SELECT"!=t.element.nodeName||t.element.selectedIndex||t.element.querySelector("option[selected]")||(t.element.Qq=!0);const c=t.element.shadowRoot;if(c&&t.addedNodes[this.Ja.Nt(c)]&&o.push(this.wY.yY(this.jJ.cloneNode(c))),!c&&t.Gq&&t.Gq.length){let i=this;t.Gq.forEach((function(t){o.push(i.wY.yY(t))}))}const l=e.default.Vw(i,"domChanges",t.id);return l.children={ordinal:t.JJ,childList:o},l}},this.pY=(t,i)=>!(!t.GJ||t.GJ._gbid!==i||"#text"!==t.GJ.nodeName),this.jJ=t,this.Ja=i,this.wY=s,this.gY=h,this.JP=r,this.QP=n,this.h=o||{},this.vY=e.default.N.apply(null,this.h.domChildListUpdateExistingElementsList)}}class Ht{constructor(t){this.TY=t=>e.default.Bw(t),this.yY=t=>(t&&t.nodeType===window.Node.TEXT_NODE?"text:":"el:")+this.TY(t),this.bY=t=>t&&t.nodeType===window.Node.TEXT_NODE?"text-ref:"+e.default.Yv(t.textContent):"id:"+this.Ja.Nt(t),this.Ja=t}}class qt{constructor(t,i,s){var h=this;this.EY=()=>{setTimeout((()=>{this.AY={}}),this.h.CY)},this.Yg=(t,i)=>{let s;for(s=0;s<this.h.kY.length;s++)if(i instanceof this.si[this.h.kY[s]]){this.AY[this.h.kY[s]]||(this.AY[this.h.kY[s]]=[]),this.AY[this.h.kY[s]].push(i);break}},this.jY=function(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=h.AY[t];return i&&delete h.AY[t],s||[]},this.si=t,this.ft=i,this.h=e.default.ss(s,{CY:100,kY:[]}),this.AY={},this.ft.on("domTrackingStarted",this.EY)}}class Wt{constructor(t,i){this.si=t,this.Ja=i;let s=[],e={};function h(t){const s=t.animate;t.animate=function(){const t=s.apply(this,arguments);try{const t=i.Nt(this);e[t]=arguments[0]}catch(t){d.default.error("Exception occurred during animation interception. Error: "+t.message,t)}return t}}function r(t){const h=t.play;h&&(t.play=function(){const t=h.apply(this,arguments);try{if(this.effect){const t=i.Nt(this.effect.target);e[t]&&s.push({selector:""+t,type:"animate",rule:[e[t],this.effect.getTiming()]})}}catch(t){d.default.error("Exception occurred during animation interception. Error: "+t.message,t)}return t})}t.Animation&&(r(t.Animation.prototype),h(HTMLElement.prototype)),this.start=()=>{},this.track=()=>{let t={};return s.length&&(t.cssRules={rules:s}),s=[],t},this.iW=()=>!1,this.xY=h,this.IY=r}}class Gt{constructor(){this.apply=(t,i)=>{t.rules&&t.rules.length>0&&(e.default.Vw(i,"animationApply").rules=t.rules)}}}class Jt{constructor(t,i,s,h){this.SY=(t,i)=>{var s=Object.getOwnPropertyDescriptor(t,"adoptedStyleSheets")&&Object.getOwnPropertyDescriptor(t,"adoptedStyleSheets").set,e=Object.getOwnPropertyDescriptor(i,"adoptedStyleSheets")&&Object.getOwnPropertyDescriptor(i,"adoptedStyleSheets").set;let h=this;s&&Object.defineProperty(t,"adoptedStyleSheets",{set:function(){s.apply(this,arguments);try{h.MY(this,arguments)}catch(t){d.default.error("error during method 'adoptedStyleSheets' hook invocation. error: "+t.message,t)}}}),e&&Object.defineProperty(i,"adoptedStyleSheets",{set:function(){e.apply(this,arguments);try{h.MY(this,arguments)}catch(t){d.default.error("error during method 'adoptedStyleSheets' hook invocation. error: "+t.message,t)}}})},this.MY=(t,i)=>{if(!(t&&t.host&&this.sZ[t.host.nodeName])&&t&&i&&i[0]&&i[0].length){var s=i[0],h=[],r=t.nodeType===window.Node.DOCUMENT_NODE?t.getElementsByTagName("HEAD")[0]:t,n=this.Ja.Nt(r),o=t===r?n:this.Ja.Nt(t);s.forEach((t=>{var i=e.default.oC(t,n,o),s=this.Ja.Nt(i);t.$J&&i.setAttribute("gbRemoveId",t.$J),t.tZ=o,t.$J=s,i.setAttribute("gbid",t.$J),t.iZ&&!t.iZ[n]?t.iZ[n]=!0:t.iZ||(t.iZ={},t.iZ[n]=!0),h.push(i)})),this.DZ[n]=r,this.ft.emit("domMutation",{type:"childList",target:r,kW:r,addedNodes:h,removedNodes:[],ZJ:!0})}},this.ft=t,this.Ja=i,this.DZ=s,this.sZ=e.default.N.apply(null,h);let r=this;if(window.CSSStyleSheet){this.SY(window.Document.prototype,window.ShadowRoot.prototype);var n=window.CSSStyleSheet.prototype.replaceSync;n&&(window.CSSStyleSheet.prototype.replaceSync=function(){var t=n.apply(this,arguments);try{if(arguments){var i=this.iZ;if(i)for(var s in i)if(r.DZ[s]){var h=e.default.oC(this,s,this.tZ);h.setAttribute("gbremoveid",this.$J),this.$J=r.Ja.Nt(h),h.setAttribute("gbid",this.$J),r.ft.emit("domMutation",{type:"childList",kW:r.DZ[s],addedNodes:[h],removedNodes:[],ZJ:!0})}}}catch(t){d.default.error("error during method 'CSSStyleSheet.replaceSync' hook invocation. error: "+t.message,t)}return t});var o=window.CSSStyleSheet.prototype.replace;o&&(window.CSSStyleSheet.prototype.replace=function(){return Promise.resolve(o.apply(this,arguments).then((function(t){var i=t.iZ;if(i)for(var s in i)if(r.DZ[s]){var h=e.default.oC(t,s,t.tZ);h.setAttribute("gbremoveid",t.$J),t.$J=r.Ja.Nt(h),h.setAttribute("gbid",t.$J),r.ft.emit("domMutation",{type:"childList",kW:r.DZ[s],addedNodes:[h],removedNodes:[],ZJ:!0})}return t})).catch((function(t){return d.default.error("error during method 'CSSStyleSheet.replace' hook invocation. error: "+t),Promise.reject(t)})))})}}}class Zt{constructor(){this.apply=(t,i)=>{t.rules&&t.rules.length>0&&(e.default.Vw(i,"canvas").rules=t.rules)}}}class Kt{constructor(t,i,s,h){var r=this;this.DY=t=>{Object.keys(this.RY).length>0||this.PY(t)},this.PY=t=>{const i=t.querySelector("canvas");if(i){const s=this.Ja.Nt(i,!0);s&&(this.RY[s]={LY:s,node:i,shadowRoot:t}),this.OY(i)}},this.FY=(()=>{const t=this;return function(){const i=t.Ja.Nt(this.canvas,!0);i&&(t.NY[i]=!0)}})(),this.OY=t=>{f.default.zC(t).qC("getContext",this.BY,!0)},this.BY=function(){var t;const i=(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t],s=f.default.zC(i);s.qC("clearRect",r.FY),s.qC("strokeRect",r.FY),s.qC("beginPath",r.FY),s.qC("rect",r.FY),s.qC("fill",r.FY),s.qC("drawImage",r.FY),s.qC("fillRect",r.FY),s.qC("putImageData",r.FY),s.qC("scale",r.FY),s.qC("translate",r.FY),s.qC("enable",r.FY),s.qC("scissor",r.FY),s.qC("clearColor",r.FY),s.qC("clear",r.FY),s.qC("transferFromImageBitmap",r.FY),s.qC("transferToImageBitmap",r.FY)},this._Y=t=>{if(this.RY[t]){const i=this.RY[t];if(i.node&&"CANVAS"===i.node.tagName&&e.default.Gp(i.node))return e.default.fC(this.ft,i.node,this.h&&this.h.canvasQuality);delete this.RY[t]}const i=this.si.document.querySelectorAll("canvas");for(let s=0;s<i.length;s++)if(i[s]._gbid==t){const t=i[s];return e.default.fC(this.ft,t,this.h&&this.h.canvasQuality)}return null},this.start=function(){},this.track=()=>{const t=[],i={};for(let i in this.NY)if(Object.prototype.hasOwnProperty.call(this.NY,i)){const s=this._Y(i);s&&t.push({selector:i,type:"snapshot",rule:s})}return this.NY={},t.length&&(i.canvasRules={rules:t}),i},this.iW=()=>!1,this.VY=this.OY,this.zY=this._Y,this.si=t,this.Ja=i,this.ft=s,this.h=h,this.NY={},this.RY={},this.si.HTMLCanvasElement&&this.OY(this.si.HTMLCanvasElement.prototype),this.ft.on("shadow:rootDetected",this.DY)}}class Yt{constructor(t,i,s,e,h){this.UY=t=>{if(!t.sheet||!t.sheet.cssRules)return"";let i,s="";const e=t.sheet.cssRules;for(i=0;i<e.length;i++)e[i].cssText&&(s+=e[i].cssText);return s},this.HY=()=>{let t,i,s,e,h;const r=document.querySelectorAll("style");for(t=0;t<r.length;t++){if(e=r[t],!e.parentNode)return;if(s=this.Ja.Nt(e),i=this.UY(e),i&&i!==this.qY[s]){h=e.ownerDocument.createElement("STYLE"),h.textContent=i+e.textContent,h._gbid=s;const t={addedNodes:[h],type:"childList",PW:"childList",target:e.parentNode,kW:e.parentNode,removedNodes:[e]};this.qY[s]=i,this.At.emit("domMutation",t)}}},this.start=()=>{const t=this.si.setInterval(this.HY,this.WY);-1!==this.GY&&this.si.setTimeout((()=>{this.si.clearInterval(t)}),this.GY)},this.track=()=>{},this.iW=()=>!1,this.si=t,this.Ja=i,this.At=s,this.WY=e,this.GY=h,this.qY={}}}class Qt{constructor(t,i){this.si=t,this.Ja=i;let s=[];function e(t){var e=t.showModal;t.showModal=function(){const t=e.apply(this,arguments);try{const t=i.Nt(this);s.push({selector:""+t,type:"showModal",rule:["showModal"]})}catch(t){d.default.error("Exception occurred during showModal interception. Error: "+t.message,t)}return t}}"function"==typeof HTMLDialogElement&&e(HTMLDialogElement.prototype),this.start=()=>{},this.track=()=>{var t={};return s.length&&(t.cssRules={rules:s}),s=[],t},this.iW=()=>!1,this.JY=e}}class Xt{constructor(){this.apply=(t,i)=>{t.rules&&t.rules.length>0&&(e.default.Vw(i,"dialog").rules=t.rules)}}}class $t{constructor(t,i,s,h,r,n,o,a,c,l,u,f,m,g){var v=this;this.ZY=(t,i)=>{var s;for(s=0;s<i.length;s++)if(-1!==t.indexOf(i[s]))return!0;return!1},this.KY=()=>{var t=new Ht(this.GV),i=[{name:"DOM-mutations",aG:new dt(this.ke,this.GV),cG:[new Vt(this.YY.tY,this.QY,this.NV,this.LV,this.options).apply,new zt(this.XY,this.QY,{removeBase64ImageDataTagNames:this.options.removeBase64ImageDataTagNames},this.ft).apply,new Ut(this.YY,this.GV,t,this.YY.tY,this.QY,null,this.options).init]},{name:"property",aG:new M(this.document,this.GV,this.options.domIgnoredFormElements),cG:[new O(this.XY,{$W:this.options.domIgnoredFormElements}).apply]}];if(this.options.domRecordCssRules&&i.push({name:"css",aG:new Ot(this.window,this.GV),cG:[(new Ft).apply]}),this.options.domCaptureCssText&&i.push({name:"cssText",aG:new Yt(window,this.GV,this.ke,this.options.domCaptureCssTextInterval,this.options.domCaptureCssTextTermination),cG:[]}),this.options.domRecordCssProps&&i.push({name:"cssProp",aG:new Nt(this.window,this.GV),cG:[(new Bt).apply]}),this.options.domTrackStyleChanges&&this.options.domTrackStyleChanges.length>0){new _t(d.default,this.options.domTrackStyleChanges,this.options.domTrackStyleChangesInterval).lY()}return this.options.recordAnimation&&i.push({name:"animate",aG:new Wt(this.window,this.GV),cG:[(new Gt).apply]}),this.options.recordCanvas&&i.push({name:"canvas",aG:new Kt(this.window,this.GV,this.ke,this.options),cG:[(new Zt).apply]}),this.options.interceptDialogShowModal&&i.push({name:"dialog",aG:new Qt(this.window,this.GV),cG:[(new Xt).apply]}),i},this.reset=()=>{this.status.$Y=!1,this.status.tQ=!1,this.status.aborted=!1,this.status.iQ=0,this.status.sQ=!1},this.eQ=t=>{this.hQ=new Date,this.status.tQ=!0,this.rQ.AJ(this.status.nQ,!!t,this.oQ)},this.oQ=t=>(this.status.tQ=!1,t&&!t.error?(this.yk.snapshotDuration=new Date-this.hQ,this.status.nQ++,this.ke.emit("pageSnapshot:report",t),this.ke.emit("pageSnapshot:save",t),"hidden"===this.document.visibilityState&&this.ke.emit("clsDebug","Error: snapshot was taken while document was hidden"),this.aQ.start(),this.status.$Y=!0,this.ke.emit("domTrackingStarted")):(++this.status.iQ,this.cQ("pageSnapshotError("+this.status.iQ+")",this.rQ.PJ),this.status.iQ>=this.lQ?t.error&&t.error.visibility?this.dQ(!0):this.status.aborted=!0:this.options.reTakeSnapshotAfterTime&&this.options.reTakeSnapshotAfterTime>0&&setTimeout(this.dQ,this.options.reTakeSnapshotAfterTime)),this._w.Dd||(this.options.performanceDebugEnabled&&this.ke.emit("clsDebug",e.default.Od("_snapshotCallback: Attempting to send performance event via snapshot callback event. isPerformanceEventSent: {0}",this._w.Dd)),this._w.Ld()),this.options.performanceDebugEnabled&&!this._w.Dd&&this.ke.emit("clsDebug","_snapshotCallback: trySendPerformanceEvent was unable to send performance event"),t),this.uQ=()=>{this.reset(),this.status.sQ=!0,this.dQ(!0)},this.fQ=t=>()=>{var i;if(this.options.allowWaitForElementsUrls&&this.options.allowWaitForElementsUrls.length&&null===t)for(i=0;i<this.options.allowWaitForElementsUrls.length;++i)if(e.default.Nw(this.options.allowWaitForElementsUrls[i],e.default.ji(this.window.location.href))){t=!0;break}return t=!!t},this.mQ=()=>{var t=!1;this.status.gQ=!1,this.status.sQ=!0,this.options.delaySnapshotAfterElementFound&&this.options.delaySnapshotAfterElementFound>-1&&setTimeout((()=>{t||(t=!0,this.dQ())}),this.options.delaySnapshotAfterElementFound),this.options.delaySnapshotAfterElementFound&&-1!==this.options.delaySnapshotAfterElementFound||this.options.snapshotWaitForPageHidden||this.dQ(!0)},this.dQ=t=>{if(!(this.status.aborted||this.status.$Y||this.status.tQ||this.status.gQ))try{if(this.options.snapshotWaitForElement&&this.options.snapshotWaitForElement.length&&!this.status.sQ&&this.vQ())return e.default.Fi(this._w,this.options.snapshotWaitForElement,this.mQ,this.options.elMustBeShown),this.status.gQ=!0,!1;this.pQ&&(this.domObserver.start(),this.yQ&&(this.yQ.stop(),delete this.yQ)),this.eQ(t)}catch(t){this.cQ("startingError",t),d.default.error("error during DOM recording plugin starting. error: "+t)}return this.status.$Y},this.wQ=t=>{var i;if(this.status.bQ)for(i=0;i<this.options.domNewPageAjaxTriggers.length;i++)if(-1!==t.url.indexOf(this.options.domNewPageAjaxTriggers[i]))return void this.uQ()},this.TQ=t=>{this.status.bQ&&-1!==this.options.domNewPageTriggers.indexOf(t.EQ)&&this.uQ()},this.jr=()=>{this.pQ&&(this.options.startMutationObserverOnLoad?this.domObserver.start():this.yQ&&this.yQ.start(),!this.status.bQ||this.status.$Y||this.status.aborted||void 0===this.options.domStartAfter||-1===this.options.domStartAfter||setTimeout(this.dQ,this.options.domStartAfter))},this.AQ=()=>{var t;if(this.status.bQ&&this.options.snapshotImmediatePages&&this.options.snapshotImmediatePages.length){var i,s=e.default.ji(this.window.location.href);for(t=0;t<this.options.snapshotImmediatePages.length;++t)if(e.default.Nw(this.options.snapshotImmediatePages[t],s)){this.status.sQ=!0,(i=this.document.querySelector("BODY"))&&!e.default.qp(i)&&this.ke.emit("clsDebug","BODY element not visible during immediate snapshot"),this._w.Qj="immediate",this.dQ(!0);break}}},this.ra=()=>{this.domObserver&&(this.domObserver.stop(),this.domObserver=void 0),this.yQ&&(this.yQ.stop(),this.yQ=void 0)},this.CQ=()=>{++this.status.kQ%this.options.domUpdateEveryWsMsgIn==0&&(this.options.isWsSendCustom&&this.ke.emit("customEvent",{name:"customDomUpdate",q_:"WsDomUpdate",bg:void 0,ux:!0}),this.ke.emit("pageUpdate"))},this.initialize=t=>(t.on("event:mousedown",this.TQ),t.on("ajax:send",this.wQ),t.once("domInit:loaded",this.jr),t.on("session:new",this.uQ),t.once("domInit:domready",this.AQ),t.on("event:unload",this.ra),this.pQ,-1!==this.options.domUpdateEveryWsMsgIn&&(this.status.jQ=new J(this.window,this.CQ,this.options.isWsSupportOpener)),this.options.domCompress,this.xQ,this.options.enableAdoptedCss&&this.window.ShadowRoot&&this.window.ShadowRoot.prototype&&new Jt(t,this.GV,this.IQ,this.options.ignoreAdoptedForElements),this.status.bQ=!0,!0),this.gx=()=>{if(this.status.bQ&&!this.status.aborted&&this.dQ()&&this.pQ){var t=new Date,i=this.aQ.FJ();return this.yk.domUpdateDuration+=new Date-t,this.yk.domUpdateCount++,i}},this.SQ=()=>!this.pQ,this.Hj=()=>this.status.$Y,this.MQ=()=>this.YY,this.vx=()=>this.QY,this.Oq=()=>this.LV,this.mG=()=>this.YY,this.Pz=function(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return v.TA?v.TA.jY(t,i):[]},this.oG=()=>this.aQ;var p=g.valueMaskingMode===r.gs.ce,y=g.domMaskingMode===r.gs.ce;this.window=t,this.document=i,this._w=s,this.ke=h,this.cu=r,this.GV=n,this.XY=l,this.If=f,this.xf=u,this.cQ=m||function(){},this.options=g||{},this.IQ={},this.QY=new H.default(r,{valueMaskingMode:this.options.valueMaskingMode,zy:p?this.options.maskWhitelistValueById:this.options.maskBlacklistValueById,Gy:p?this.options.maskWhitelistValueByClass:this.options.maskBlacklistValueByClass,valueMaskIgnoreAttribute:this.options.valueMaskIgnoreAttribute,domMaskingMode:this.options.domMaskingMode,qy:y?this.options.domWhitelistMaskContentById:this.options.domBlacklistMaskContentById,Hy:y?this.options.domWhitelistMaskContentByClass:this.options.domBlacklistMaskContentByClass,Zy:this.options.domMaskOmitById||this.options.domOmitById,Xy:this.options.domMaskOmitByClass||this.options.domOmitByClass,domMaskedAttributes:this.options.domMaskedAttributes,Yy:this.options.domMaskAttributesByTag,domMaskIgnoreAttribute:this.options.domMaskIgnoreAttribute,domMaskSimpleSelector:y?this.options.domWhitelistMaskSimpleSelector:this.options.domBlacklistMaskSimpleSelector,recordShadowDom:this.options.recordShadowDom}),this.LV=new W.default(h,a,{Ut:this.options.domEncryptById,Vt:this.options.domEncryptByClass,domEncryptorMaskingChar:this.options.domEncryptorMaskingChar}),this.NV=new q.default(new G.default,{domMaskContentByRegex:this.options.domMaskContentByRegex,domRegexPatternForMasking:this.options.domRegexPatternForMasking,domRegexMaskingChar:this.options.domRegexMaskingChar}),this.YY=new Lt(this.window,h,r,this.GV,this.XY,c,this.QY,this.LV,this.NV,this.IQ,this.options,this.If,this.xf),!this.options.startMutationObserverOnLoad&&this.options.domTamperingDetectionEnabled&&(this.yQ=new L(this.window,h,this.document,this.YY.iY,this.GV,{semiDomEnabled:this.options.semiDomEnabled,domForceIEMutationEventsHandler:this.options.domForceIEMutationEventsHandler,domForceMutationEventsHandler:this.options.domForceMutationEventsHandler,domTamperingDetectionEnabled:this.options.domTamperingDetectionEnabled,qW:this.options.domThrottleChanges,WW:this.options.domThrottleChangesIE11Only,delayDomMutationEvent:this.options.delayDomMutationEvent,domDelayAddedNodesByClass:this.options.domDelayAddedNodesByClass,domFilterAttributes:this.options.domFilterAttributes,domIgnoreAttributes:this.options.domIgnoreAttributes,domIgnoreChangesById:this.options.domIgnoreChangesById,domIgnoreChangesByClass:this.options.domIgnoreChangesByClass,domIgnoreChangesByTag:this.options.domIgnoreChangesByTag,domOmitInvisibleElements:this.options.domOmitInvisibleElements,handleAttributeMutationsAsChunks:this.options.handleAttributeMutationsAsChunks,ignoreMutationsOnNotAttachedElements:this.options.ignoreMutationsOnNotAttachedElements,characterDataOnly:!0,reinstateNativeMutationObserver:this.options.reinstateNativeMutationObserver,initialObserverFirst:this.options.initialObserverFirst,addBaseDomainToRelativeUrls:this.options.addBaseDomainToRelativeUrls,domIgnoreSameValueAttributesModification:this.options.domIgnoreSameValueAttributesModification,domIgnoreLargeMutationsChunks:this.options.domIgnoreLargeMutationsChunks}).JW),this.sG=this.YY.iY,this.domObserver=new L(this.window,h,this.document,this.YY.iY,this.GV,{semiDomEnabled:this.options.semiDomEnabled,domForceIEMutationEventsHandler:this.options.domForceIEMutationEventsHandler,domForceMutationEventsHandler:this.options.domForceMutationEventsHandler,domTamperingDetectionEnabled:this.options.domTamperingDetectionEnabled,qW:this.options.domThrottleChanges,WW:this.options.domThrottleChangesIE11Only,delayDomMutationEvent:this.options.delayDomMutationEvent,domDelayAddedNodesByClass:this.options.domDelayAddedNodesByClass,domFilterAttributes:this.options.domFilterAttributes,domIgnoreAttributes:this.options.domIgnoreAttributes,domIgnoreChangesById:this.options.domIgnoreChangesById,domIgnoreChangesByClass:this.options.domIgnoreChangesByClass,domIgnoreChangesByTag:this.options.domIgnoreChangesByTag,domOmitInvisibleElements:this.options.domOmitInvisibleElements,handleAttributeMutationsAsChunks:this.options.handleAttributeMutationsAsChunks,ignoreMutationsOnNotAttachedElements:this.options.ignoreMutationsOnNotAttachedElements,reinstateNativeMutationObserver:this.options.reinstateNativeMutationObserver,initialObserverFirst:this.options.initialObserverFirst,addBaseDomainToRelativeUrls:this.options.addBaseDomainToRelativeUrls,domIgnoreSameValueAttributesModification:this.options.domIgnoreSameValueAttributesModification,domIgnoreLargeMutationsChunks:this.options.domIgnoreLargeMutationsChunks}).JW,this.xQ=this.ZY(e.default.ji(this.document.location.href),this.options.domPartialWhenLocationContains||[]);var w=this.KY();(this.options.recordShadowDom&&this.window.ShadowRoot||e.default.Wp(this.options.forceShadowDomTrackingWhenUrlContains,e.default.ji(this.window.location.href)))&&(this.TA=new qt(this.window,h,{kY:["ShadowRoot"]})),this.aQ=new lt(w,this.options.domIncludeSelectorOnUpdate?u:{kf:function(){return{}}},r,{BJ:"2",setSelectorToAttributes:this.options.setSelectorToAttributes}),this.rQ=new ct(this.window,this.document,h,this.YY,o,this.TA,this.options),this.yk={snapshotDuration:-1,domUpdateDuration:-1,domUpdateCount:0,domObserver:this.domObserver?this.domObserver.MW():"NONE"},this.stats=()=>this.yk,this.pQ=!!this.domObserver||!!this.yQ,this.lQ=3,this.hQ=0,this.status={bQ:!1,$Y:!1,tQ:!1,aborted:!1,gQ:!1,sQ:!1,iQ:0,nQ:0,kQ:0,jQ:void 0},this.ke.on("stopDomRecording",(()=>{this.status.aborted=!0})),this.vQ=this.fQ(null)}}class ti{constructor(t,i,s,h,r,n){this.DQ=t=>{let i,s=[];for(i=0;i<t.length;i++)s.push(t[i].toLowerCase());return s},this.Jz=t=>{for(;t;){if("FORM"===t.tagName||this.RQ[t.tagName])return e.default.isVisible(t)?t:null;t=e.default.parentNode(t)||t.host}return null},this.PQ=(t,i)=>{const s=this;setTimeout((()=>{s.ft.emit("formValidationError",{element:t,message:i})}),0)},this.LQ=t=>"childList"===t.type?t.addedNodes:"attributes"===t.type?[t.kW]:[],this.OQ=t=>{const i=this.si.getComputedStyle(t);return e.default.isVisible(t)&&"hidden"!==i.visibility&&i.opacity>this.h.minVisibleElementOpacity},this.FQ=t=>{let i=this.h.domFormValidationTraverseParentsForVisibility;for(;i&&t;){if(!this.OQ(t))return!1;t=t.parentElement||t.host,i--}return!0},this.NQ=(t,i)=>{if(t.nodeType===this.si.Node.ELEMENT_NODE&&!this.h.ignoreNodesVisibility&&!this.FQ(t))return!1;t.nodeType===this.si.Node.TEXT_NODE?e.default.parentNode(t)&&this.BQ(t)&&(this.h.ignoreNodesVisibility||!this.h.ignoreNodesVisibility&&this.FQ(e.default.parentNode(t)))&&i.push(t):this.qq.Hq(t,(t=>{if(t)if(t.nodeType===this.si.Node.TEXT_NODE&&this.BQ(t))i.push(t);else if(t.nodeType===this.si.Node.ELEMENT_NODE&&!this.h.ignoreNodesVisibility&&!this.OQ(t))return!1}),!1,!0)},this._Q=t=>{try{let i=e.default.parentNode(t);if(i&&i.nodeType===this.si.Node.ELEMENT_NODE){const t=this.si.getComputedStyle(i).color,s=/\d+/g;return t.match(s).join(",")}}catch(t){this.ft.emit("clsDebug","failed getting text color:"+t.message)}return null},this.VQ=t=>{if(this.zQ[e.default.parentNode(t).tagName])return!1;if(this.UQ.length&&e.default.Wp(this.UQ,t.textContent.toLowerCase()))return!0;if(this.HQ){let i=this._Q(t);return!(null===i||!this.qQ[i])}this.WQ=t=>{const i=t.match(/\d+/g);return i&&parseInt(i[0])>this.h.GQ&&i[0]>Math.max(parseInt(i[1]),parseInt(i[2]))+this.h.JQ};let i=e.default.parentNode(t);if(i&&i.nodeType===this.si.Node.ELEMENT_NODE){const t=this.si.getComputedStyle(i);return this.WQ(t.color)||this.h.ZQ&&this.WQ(t.backgroundColor)}return!1},this.KQ=t=>{let i;for(i=0;i<this.h.ignorableTextRegex.length;i++)if(new RegExp(this.h.ignorableTextRegex[i]).test(t))return!0;for(t=t.replace(/\s+/g," ").toLowerCase(),i=0;i<this.YQ.length;i++)if(-1!==t.indexOf(this.YQ[i]))return!0;return!1},this.QQ=t=>!this.KQ(t.textContent)&&t.textContent.trim().length>this.h.XQ,this.$Q=(t,i)=>{let s=e.default.parentNode(t),h=s.previousElementSibling;for(;h;){if(this.tX[h.tagName])return h;h=h.previousElementSibling}let r,n=this.iX,o=s.parentElement;for(;o&&n--;){if(r=o.querySelectorAll(this.sX),1===r.length)return r[0];if(r.length>1)break;if(o===i)break;o=e.default.parentNode(o)}return i},this.BQ=t=>!this.eX[this.Ja.Nt(t)]&&this.QQ(t)&&this.VQ(t),this.hX=t=>{const i=this.Ja.Nt(t),s=void 0===this.rX[i]||this.rX[i]!==t.value;return this.rX[i]=t.value,!s},this.Uq=t=>{if(!this.nX)return;const i=this.Jz(t.kW);i&&setTimeout((()=>{let s,e,h=this.LQ(t),r=[];for(s=0;s<h.length;s++)this.NQ(h[s],r);for(s=0;s<r.length;s++){if(e=this.$Q(r[s],i),!this.h.oX&&e===i)continue;const t=!this.hX(e);this.tX[e.tagName]&&!t||(this.eX[this.Ja.Nt(r[s])]=!0,this.PQ(e,r[s].textContent.trim()))}}),this.h.aX)},this.intercept=t=>{var i=!1;if(this.h.cX.length>0)for(let s=0;s<this.h.cX.length;s++)if(this.uz.matches(t,this.h.cX[s])){i=!0;break}this.nX=this.lX[t.id]||!!this.Jz(t)||i,this.nX&&(this.eX={})},this.dX=()=>{let t;if(this.h.uX.length)for(t=0;t<this.h.uX.length;++t)if(e.default.Nw(this.h.uX[t],e.default.ji(this.si.location.href)))return void this.PQ(document.body,"url contain form validation signs: "+this.h.uX[t]);if(this.h.fX.length)for(t=0;t<this.h.fX.length;++t)if(e.default.Nw(this.h.fX[t],this.si.document.title))return void this.PQ(document.body,"title contain form validation signs: "+this.h.fX[t])},this.si=t,this.ft=i,this.Ja=s,this.qq=h,this.uz=r,this.h=e.default.ss(n,{GQ:120,JQ:80,XQ:10,mX:[],cX:[],ignoreNodesVisibility:!1,oX:!0,ZQ:!0,gX:[],ignorableText:["characters left","characters remaining"],ignorableTextRegex:[],uX:[],fX:[],domFormValidationErrorRelatedText:[],domFormValidationTraverseParentsForVisibility:1,minVisibleElementOpacity:.5,aX:1}),this.YQ=this.DQ(this.h.ignorableText),this.lX=e.default.N.apply(null,this.h.mX),this.RQ=e.default.N.apply(null,this.h.gX),this.zQ=e.default.N.apply(null,this.h.hJ),this.tX=e.default.N("INPUT","SELECT","TEXTAREA"),this.sX='input:not([type="hidden"]),select,textarea',this.iX=2,this.nX=!1,this.eX={},this.rX={},this.UQ=e.default.$t(this.h.domFormValidationErrorRelatedText),this.qQ=e.default.N.apply(null,this.h.domFormValidationTextByRGB),this.HQ=!e.default.Za(this.qQ),this.ft.on("domMutation",this.Uq)}}var ii=s("./src/js/libs/lru.js");class si{constructor(t,i){this.KQ=t=>{for(let i=0;i<this.h.ignorableTextRegex.length;i++)if(new RegExp(this.h.ignorableTextRegex[i]).test(t))return!0;t=t.replace(/\s+/g," ").toLowerCase();for(let i=0;i<this.YQ.length;i++)if(-1!==t.indexOf(this.YQ[i]))return!0;return!1},this.intercept=()=>{const t=jQuery.validator.prototype.showErrors,i=this;jQuery.validator.prototype.showErrors=function(s){try{if(this.errorList&&this.errorList.length>0)for(let t of this.errorList){const s=t.element,h=t.message;if(!i.KQ(h)){let t="SAME - NOT REPORTING";s.gbLocalId||(s.gbLocalId=i.vX++);const r=i.pX.Ls(s.gbLocalId,h);if(null===r||e.default.xn(r))t="NEW";else if(r!==h)t="UPDATE";else if(r===h){const i=this.yX(s);i&&i.length>0&&!e.default.xn(i[0].innerHTML)&&(i[0].innerHTML===h&&jQuery(i[0]).is(":visible")||(t="SHOW"))}"NEW"!==t&&"UPDATE"!==t&&"SHOW"!==t||i.ft.emit("formValidationError",{element:s,message:h.length>0?h:"NONE"})}}}catch(t){d.default.error("Failed intercepting showErrors for validation error report. "+t.message,t)}t.call(this,s)}},this.ft=t,this.h=e.default.ss(i,{ignorableText:[],ignorableTextRegex:[]}),this.YQ=e.default.$t(this.h.ignorableText),this.vX=1,this.pX=new ii.default(20)}}var ei=s("./src/js/ajaxRecorder/AjaxPredicateFactory.js");class hi{constructor(t,i){this.KQ=t=>{for(let i=0;i<this.h.ignorableTextRegex.length;i++)if(new RegExp(this.h.ignorableTextRegex[i]).test(t))return!0;t=t.replace(/\s+/g," ").toLowerCase();for(let i=0;i<this.YQ.length;i++)if(-1!==t.indexOf(this.YQ[i]))return!0;return!1},this.wX=t=>{if(e.default.rr()-this.bX<1e3)return;const i=t.target.validationMessage||"NONE";this.KQ(i)||(this.bX=e.default.rr(),this.At.emit("formValidationError",{element:t.target,message:i}))},this.TX=t=>{for(var i=0;i<t.addedNodes.length;i++)if(window.Node.ELEMENT_NODE==t.addedNodes[i].nodeType){if(t.addedNodes[i][this.EX]||!t.addedNodes[i].matches(this.AX))continue;t.addedNodes[i].addEventListener("invalid",this.wX),t.addedNodes[i][this.EX]=!0}},this.init=()=>{this.At.on("html5FormValidation:invalid",this.wX),this.At.on("domMutation",(t=>{setTimeout((()=>{this.TX(t)}),0)}))},this.At=t,this.h=e.default.ss(i,{ignorableText:[],ignorableTextRegex:[]}),this.YQ=e.default.$t(this.h.ignorableText),this.bX=0,this.AX="input, textarea, select",this.EX="_gb_hasValidationListener"}}class ri{constructor(t,i,s,h,r){this.wO=()=>{const t=["always","never","fqdn","tld","statusGte"];let i;this.CX=()=>"undefined"!=typeof jQuery&&void 0!==jQuery.validator,this.kX=()=>{const i=this.h.jX.filter((i=>{for(let s=0;s<t.length;++s)if(-1!==i.indexOf(t[s]))return!1;return!0}));let s;if(i&&i.length){const t=new ei.default(this.si.location.hostname);for(s=0;s<i.length;++s){if(t.create(i[s])({url:e.default.ji(this.si.location.href)}))return!1}}return!0},this.ft.once("domInit:loaded",(()=>{if(i&&(i.dX(),this.h.domFormValidationCheckAfterPageLoad)){let t=document.querySelector("FORM");t&&i.intercept(t)}if(this.h.jQueryFormValidationEnabled&&this.CX()){new si(this.ft,{ignorableText:this.h.ignorableText,ignorableTextRegex:this.h.ignorableTextRegex}).intercept()}})),this.ft.once("domInit:preloaded",(()=>{if(this.h.html5FormValidation){new hi(this.ft,{ignorableText:this.h.ignorableText,ignorableTextRegex:this.h.ignorableTextRegex}).init()}this.h.domFormValidationTracking&&this.kX()&&(i=new ti(this.si,this.ft,this.Ja,this.qq,new l.default(this.si.document),{GQ:this.h.GQ,JQ:this.h.JQ,mX:this.h.mX,cX:this.h.cX,oX:this.h.oX,ZQ:this.h.ZQ,gX:this.h.gX,ignorableText:this.h.ignorableText,ignorableTextRegex:this.h.ignorableTextRegex,hJ:this.h.hJ,uX:this.h.uX,fX:this.h.fX,domFormValidationErrorRelatedText:this.h.domFormValidationErrorRelatedText,domFormValidationTraverseParentsForVisibility:this.h.domFormValidationTraverseParentsForVisibility,minVisibleElementOpacity:this.h.minVisibleElementOpacity,domFormValidationTextByRGB:this.h.domFormValidationTextByRGB,aX:this.h.domFormValidationMutationDelay}),this.ft.on("event:mousedown",(t=>i.intercept(t.element))),this.ft.on("element:focus",(t=>i.intercept(t))))}))},this.initialize=()=>{},this.si=t,this.ft=i,this.Ja=s,this.qq=h,this.h=r,this.wO()}}s("./node_modules/core-js/modules/es.array-buffer.detached.js"),s("./node_modules/core-js/modules/es.array-buffer.transfer.js"),s("./node_modules/core-js/modules/es.array-buffer.transfer-to-fixed-length.js"),s("./node_modules/core-js/modules/es.typed-array.at.js"),s("./node_modules/core-js/modules/es.typed-array.find-last.js"),s("./node_modules/core-js/modules/es.typed-array.find-last-index.js"),s("./node_modules/core-js/modules/es.typed-array.set.js"),s("./node_modules/core-js/modules/es.typed-array.to-reversed.js"),s("./node_modules/core-js/modules/es.typed-array.to-sorted.js"),s("./node_modules/core-js/modules/es.typed-array.with.js");class ni{constructor(){this.fetch=(t,i,s,r)=>{const n={url:t};if(r.reportByFetch&&window.fetch)try{let e=new Headers,r=new Request(t,{method:"GET",headers:e,mode:"cors",credentials:"include",cls_own:!0});fetch(r).then((function(e){e.ok?e.headers&&(n.headers=Object.fromEntries(e.headers.entries()),n.type=e.headers.get("Content-Type"),e.text().then((t=>{n.content=h.default.S_.E_(t),i(n)})).catch((()=>{d.default.error("Failed to read resource text by fetch for url : "+t)}))):s(t)})).catch((function(s){d.default.error("Failed getting resource data by fetch for url : "+t),n.error=s,i(n)}))}catch(i){return d.default.error("error was detected "+i.message,i),console.log("Failed getting resource data by Ajax for url: "+t+": "+i.message,i),!1}else{const o=new XMLHttpRequest;if(!o)return!1;try{const a=()=>{if(4===o.readyState)if(200===o.status){n.type=o.getResponseHeader("Content-Type"),n.headers={};const s=o.getAllResponseHeaders().split("\n");for(let t=0;t<s.length;t++){const i=s[t].split(":");let e=i[0];if(e&&(e=e.trim()),e){i.splice(0,1);const t=i.join(":");n.headers[e]=t.trim()}}let e=o.response;if(o.response instanceof ArrayBuffer){const i=n.type||"";if(/text\/|application\/(javascript|json|xml|.*\+xml|.*\+json)/i.test(i)||/\.(css|js|html|xml|json|txt)$/i.test(t))try{const s=new Uint8Array(o.response);let h="utf-8";s.length>=2&&(254===s[0]&&255===s[1]?h="utf-16be":255===s[0]&&254===s[1]?h="utf-16le":s.length>=3&&239===s[0]&&187===s[1]&&191===s[2]&&(h="utf-8"));const r=i.match(/charset=([^;\s]+)/i);if(r&&(h=r[1].toLowerCase()),"undefined"!=typeof TextDecoder&&"undefined"!=typeof TextEncoder){const t=new TextDecoder(h).decode(o.response);e=(new TextEncoder).encode(t)}else d.default.error("TextDecoder/TextEncoder not available, using ArrayBuffer directly for: "+t),e=s}catch(t){d.default.error("Error decoding text resource: "+t.message),e=new Uint8Array(o.response)}else e=new Uint8Array(o.response)}n.content=h.default.S_.E_(e),i(n)}else 0===o.status?s(n.url):(d.default.error("Failed getting resource data by Ajax for url : "+t+" status:"+o.status+"  "+o.statusText),n.error="status: "+o.statusText+" ("+o.status+")",i(n))};return r.xhrBypassOnReadyStateChange?(e.default.ii(o,"load",a),e.default.ii(o,"error",a),e.default.ii(o,"abort",a)):o.onreadystatechange=a,o.cls_own=!0,o.open("GET",t,!0),o.responseType="arraybuffer",o.send(),!0}catch(i){return d.default.error("error was detected "+i.message,i),console.log("Failed getting resource data by Ajax for url: "+t+": "+i.message,i),!1}}}}}class oi{constructor(t,i){this.apply=t=>{if(t.match(this.xX))return!0;if(!e.default.startsWith(t,"http")||!this.IX&&e.default.ny(t)!==window.location.origin)return!0;for(let i=0;i<this.SX.length;i++)if(-1!==t.indexOf(this.SX[i]))return!0;return!1},this.IX=t,this.SX=i||[],this.xX=new RegExp(/.js$/i)}}var ai=s("./src/js/utils/Base64JsonCodec.js");class ci{constructor(t,i,s,h,r,n){if(this.getStats=t=>(t.countRecorded=0,t.countCorsDenied=0,t.recordingAll=!!this.qO.Ds("res.all"),t),this.MX=t=>{const i=this.qO.Ds(t?this.DX:this.LN);let s;if(this.qO.remove(t?this.DX:this.LN),i)try{s=this.kO.decode(i)}catch(t){d.default.error("Failed parsing JSON for pending resources: "+t.message,t)}return s},this.RX=(t,i)=>{let s=[];for(let e=0;e<t.length;e++){const h=t[e];!i&&this.PX(h.name)||(i&&this.LX(h.name)||("fetch"!==t[e].initiatorType||this.OX(h.name))&&(("xmlhttprequest"===h.initiatorType||"other"===h.initiatorType)&&h.name.indexOf(".svg")>-1?!i&&this.h.resourceRecordCssOnly||s.push(h):(i&&this.FX[h.initiatorType]||!i&&this.NX[h.initiatorType])&&s.push(h)))}return s},this.BX=t=>{const i=[];for(let s=0;s<t.length;s++)i.indexOf(t[s])<0&&i.push(t[s]);return i},this._X=t=>{var i;if(t.error||t.content&&t.content.length){if((null==t||null===(i=t.content)||void 0===i?void 0:i.byteLength)>this.h.VX){var s,e=null==t||null===(s=t.content)||void 0===s?void 0:s.byteLength;return t.content=`*** REMOVED because content length of ${e} bytes exceeded the configured max payload size of ${this.h.VX} bytes ***`,void this.ft.emit("clsDebug",`Data not sent because request would result in 413 Entity Too Large. DATA: ${JSON.stringify(t)}`)}this.stats.countRecorded++,this.ft.emit("saveResourceEvent",t)}},this.zX=t=>{this.stats.countCorsDenied++,this.ft.emit("saveCorsDeniedEvent",t)},this.UX=t=>{this.ft.emit("saveResourceUrls",t)},this.HX=()=>{let t;if(this.h.qX&&(t=this.MX(),t))for(let i=0;i<t.length;i++)if(!this.WX.fetch(t[i],this._X,this.zX,this.h)){d.default.error("Failed executing an XHR request for fetching a resource. Breaking the fetch loop.");break}this.h.GX&&(t=this.MX(!0),t&&this.UX(this.BX(t)))},this.JX=()=>{let t,i=!1,s=!1,e=this.h.ZX,h=this.h.KX;if(this.qO.Ds("res.all")&&(i=!0,s=!0,e=Number.MAX_VALUE,h=Number.MAX_VALUE),i|=this.h.qX&&Math.random()<this.h.YX,s|=this.h.GX&&Math.random()<this.h.QX,i||s){const r=this.dA.performance.getEntriesByType("resource");let n=[],o=[];i&&(n=this.RX(r,!1)),s&&(o=this.RX(r,!0));let a,c=this.MX(!1)||[],l=this.MX(!0)||[];if(i){for(t=0;t<e&&n.length>0&&!(c.length>=h);t++)a=Math.floor(Math.random()*n.length),c.push(n[a].name),n.splice(a,1);this.qO.Ls(this.LN,this.kO.encode(c))}if(s){for(t=0;t<o.length;t++)l.indexOf(o[t].name)<0&&l.push(o[t].name);this.qO.Ls(this.DX,this.kO.encode(l))}}},this.XX=()=>{this.qO.Ls("res.all","true")},this.$X=()=>{this.qO.remove("res.all")},this.t$=this._X,this.dA=t,this.ft=s,this.qO=n,this.WX=new ni,this.PX=new oi(h.resourcesRecordAllowCors,h.resourceIgnoreWhenUrlContains).apply,this.LX=new oi(!0,h.resourceIgnoreWhenUrlContains).apply,this.kO=new ai.default(i.Xt),this.stats=this.getStats(r||{}),this.LN="res.pending",this.DX="resurl.pending",this.h=h,h.resourceRecordCssOnly?this.NX=e.default.N("link","css"):this.NX=e.default.N("link","css","font","img","input","use","fetch"),this.FX=e.default.N("link","css","font","img","input","use","fetch"),h.electResourcesOnClear)if(this.dA.Performance.prototype.clearResourceTimings){const t=this.dA.Performance.prototype.clearResourceTimings,i=this;this.dA.Performance.prototype.clearResourceTimings=function(){try{i.JX()}catch(t){d.default.error("faild to run hook on Performance.clearResourceTimings: "+t)}t.apply(this,arguments)}}else if(this.dA.Performance.prototype.webkitClearResourceTimings){const t=this.dA.Performance.prototype.webkitClearResourceTimings,i=this;this.dA.Performance.prototype.webkitClearResourceTimings=function(){try{i.JX()}catch(t){d.default.error("faild to run hook on Performance.webkitClearResourceTimings: "+t)}t.apply(this,arguments)}}this.OX=t=>/\.(jpg|jpeg|png|webp|avif|gif|svg)$/.test(t)}}class li{constructor(t,i,s,h){this.i$=t=>this.s$[t]?this.e$:this.h$[t]?this.r$:this.n$[t]?this.o$:this.a$,this.c$=(t,i)=>{const s=t.split(".");let e=s[s.length-1].toLowerCase();return e.indexOf("?")>-1&&(e=e.split("?")[0]),"script"===i?this.l$:"video"===i||"audio"===i?this.d$:"img"===i||"svg"===i?this.e$:this.u$[i]?this.f$:"link"===i||"css"===i||"other"!==i?this.i$(e):this.a$},this.m$=t=>{let i;t.hostname=e.default.W(t.name),t.path=e.default.yb(t.name),i=t.path.split("/"),t.fileName=i[i.length-1]},this.g$=t=>{if(t.name){if(!t.resourceType){const i=this.c$(t.name,t.initiatorType);i&&(t.resourceType=i.toLowerCase())}this.m$(t),t.isSameTLD=e.default.V(this.si.location.host)===e.default.V(t.hostname)}t.nextHopProtocol&&(t.protocol=t.nextHopProtocol),delete t.nextHopProtocol,t.isFromCache=0===t.transferSize&&window.location.host===t.hostname},this.v$=t=>{delete t.loadMode,delete t.isSuccessful,delete t.resourceType},this.p$=(t,i,s)=>{const e={};for(let s=0;s<i.length;s++)void 0!==t[i[s]]&&(e[i[s]]=t[i[s]]);return"resource"===s&&"document"!==e.name&&this.g$(e),this.v$(t),e},this.y$=()=>{const t={},i=this.si.document.querySelectorAll('script[src][async],script[src][defer],link[rel="preload"],img[loading]');for(let s=0;s<i.length;s++)switch(i[s].tagName){case"SCRIPT":t[i[s].src]=i[s].async?"async":i[s].defer?"defer":"sync";break;case"LINK":t[i[s].href]="preload";break;case"IMG":t[i[s].src]="lazy"}return t},this.w$=()=>{let t,i;const s=this.si.document.querySelectorAll('link[rel="stylesheet"]');for(t=0;t<s.length;t++)i=s[t].href||s[t].name,this.b$[i]=!0},this.T$=t=>{if(!t)return!1;const i=t.name;return-1===i.indexOf(this.Nk)&&(!this.E$[i]||this.E$[i].startTime!==t.startTime)},this.A$=t=>{t.initiatorType=t.initiatorType||t.entryType,t.isSuccessful=!0,t.isSameTLD=!0,t.resourceType="other",t.duration=t.duration||t.responseEnd-t.redirectStart,"document"===t.name&&(t.name=e.default.ji(window.location.href)||t.name,this.m$(t))},this.C$=t=>({startTime:0,connectEnd:t.connectEnd,connectStart:t.connectStart,domainLookupEnd:t.domainLookupEnd,domainLookupStart:t.domainLookupStart,entryType:"navigation",fetchStart:t.fetchStart,initiatorType:"navigation",name:e.default.ji(window.location.href),redirectEnd:t.redirectEnd,redirectStart:t.redirectStart,requestStart:t.requestStart,responseEnd:t.responseEnd,responseStart:t.responseStart,secureConnectionStart:t.secureConnectionStart}),this.k$=(t,i,s,h,r)=>{let n=[];const o=this.si.performance.getEntriesByType(i);let a,c;if(n=h&&r?o.filter((t=>void 0!==r[t[h]])):o,"resource"===i){let t=this.y$();for(this.w$(),"function"==typeof this.si.performance.getEntriesByType&&this.si.performance.getEntriesByType("navigation")[0]?n.push(this.si.performance.getEntriesByType("navigation")[0]):e.default.Oh(this.si.navigator.userAgent)&&n.push(this.C$(this.si.performance.timing)),a=0;a<n.length;a++)this.T$(n[a])&&(c=n[a],"script"===c.initiatorType?c.loadMode=t[c.name]||"sync":"link"!==c.initiatorType&&"img"!==c.initiatorType||(t[c.name]&&(c.loadMode=t[c.name]),"link"===c.initiatorType&&this.b$[c.name]&&(c.resourceType=this.o$)),c.isSuccessful=!(c.transferSize>0&&0===c.duration));this.b$={}}for(t[i]=[],a=0;a<n.length;a++){const e=n[a];let h;this.T$(e)&&(h=this.p$(e,s,i),this.E$[e.name]={startTime:e.startTime},"navigation"!==h.initiatorType&&"navigation"!==h.entryType||this.A$(h),t[i].push(h))}},this.j$=()=>this.si.performance.timing,this.x$=(t,i)=>{if(!t||0===t.length)return;const s=(t,i)=>{try{const s=this.p$(t,this.Oe[0].properties,"resource"),h=e.default.rr();let r;r=t.duration>0?200:0===t.duration?404:0;const n={url:t.name,method:"GET",status:r,startedAt:Math.round(h-s.duration),T_:h,duration:Math.round(s.duration),transferSize:s.transferSize||s.decodedBodySize||0,initiatorType:s.initiatorType,resourceType:s.resourceType,I$:i,S$:h,sn:0,M$:"xhr"};this.ft.emit("ajax:loadend",n)}catch(t){d.default.error(`Error processing script entry: ${t.message}`,t)}},h=i=>{for(let e of i)if("resource"===e.entryType&&"script"===e.initiatorType){const i=t.find((t=>e.name.includes(t)));i&&s(e,i)}};for(const i of t){const t=this.si.performance.getEntriesByName(i);h(t)}let r=null;if(this.si.PerformanceObserver)try{r=new PerformanceObserver((t=>{const s=t.getEntries();h(s),-1!==i&&setTimeout((()=>{r.disconnect()}),i)}));try{r.observe({D$:["resource"]})}catch(t){r.observe({type:"resource"})}}catch(t){d.default.error(`Error setting up PerformanceObserver: ${t.message}`,t)}},this.R$=(t,i)=>{try{const s={};this.P$="pageload"===i;for(let t=0;t<this.Oe.length;t++)this.k$(s,this.Oe[t].type,this.Oe[t].properties,this.Oe[t].L$,this.Oe[t].O$);if(0===Object.keys(s).length||s.resource&&0===s.resource.length)return;t&&(this.E$={}),this.P$=!1,this.F$&&(s.ect=this.F$),this.N$&&(s.rtt=this.N$),s.pagePerformance=this.j$(),s.version=this.B$,s.causedBy=i,this.ft.emit("resourcesWaterfall",s)}catch(t){d.default.error("Exception while trying to report resources waterfall. Error: "+t.message,t),this.ft.emit("clsDebug","error trying to report resources waterfall. Exception message: "+t.message)}},this.si=t,this.ft=i,this.Oe=s,this.Nk=h,this.E$={},this.b$={},this.P$=!1,this.F$=void 0,this.N$=void 0,this.B$=1,this.d$="media",this.e$="img",this.r$="font",this.o$="css",this.l$="js",this.f$="ajax",this.a$="other",this.s$=e.default.N("png","gif","jpg","jpeg","svg","tif","tiff","bmp","webp"),this.h$=e.default.N("woff","woff2","ttf","otf","eot"),this.u$=e.default.N("xmlhttprequest","fetch","beacon"),this.n$=e.default.N("css"),this.si.navigator.connection&&(this.F$=this.si.navigator.connection.effectiveType,this.N$=this.si.navigator.connection.rtt),this._$=this.c$,this.x$(s[0].recordMFEAsAjax,s[0].recordMFEAsAjaxTimeout)}}var di=s("./src/js/config/enableByChances.js");class ui{constructor(t,i){if(this.V$=()=>{const t=this.si.performance.getEntriesByType("resource");t&&t.length>=this.z$&&this.U$()},this.U$=()=>{if(this.h.resourceBufferIncreaseBy&&this.h.resourceBufferIncreaseBy>0&&this.si.performance.setResourceTimingBufferSize){const t=this.si.performance.getEntriesByType("resource").length;t>this.H$&&(this.H$=t),this.H$+=this.h.resourceBufferIncreaseBy,this.z$+=this.h.resourceBufferIncreaseBy,this.si.performance.setResourceTimingBufferSize(this.H$)}else this.si.performance.clearResourceTimings()},this.si=t,this.h=e.default.ss(i,{resourceBufferCheckTime:5e3,q$:140,resourceBufferIncreaseBy:100}),this.H$=150,this.z$=this.h.maxResourcesBeforeFlush,this.si.performance)if(Object.getOwnPropertyDescriptor(this.si.Performance.prototype,"onresourcetimingbufferfull"))this.si.performance.onresourcetimingbufferfull=this.U$;else if(this.si.PerformanceObserver){new this.si.PerformanceObserver(this.V$).observe({D$:["resource"]})}else setInterval(this.V$,this.h.resourceBufferCheckTime)}}class fi{constructor(t,i,s,h,r,n,o){this.ei=()=>{const t=this.h.versionResources&&!this.h.resourceTimingRecordEnabled;if(t||this.h.resourcesRecordEnabled&&void 0!==window.XMLHttpRequest){const i=5e3;this.W$=new ci(this.si,this.Lr,this.ft,{YX:this.h.resourcesRecordChance,QX:this.h.versionResourcesEnabledByChance,ZX:this.h.resourcesRecordCount,KX:5,resourceRecordCssOnly:this.h.resourceRecordCssOnly,qX:this.h.resourcesRecordEnabled,GX:t,electResourcesOnClear:this.h.electResourcesOnClear,resourcesRecordAllowCors:this.h.resourcesRecordAllowCors,resourceIgnoreWhenUrlContains:this.h.resourceIgnoreWhenUrlContains,reportByFetch:this.h.reportByFetch,xhrBypassOnReadyStateChange:this.h.xhrBypassOnReadyStateChange,VX:this.Lr.G$},this.yk,this.qO),this.ft.once("domInit:loaded",(()=>{setTimeout(this.W$.HX,i)})),this.ft.on("event:unload",this.W$.JX)}if(this.h.resourceTimingRecordEnabled&&(new di.default).apply(this.h.resourceTimingRecordEnabledByChance,this.J$,this._o,"performanceRecord",this.h.saveChancesByCookie)&&(this.Z$=new li(this.si,this.ft,[{type:"resource",properties:["name","startTime","requestStart","responseStart","responseEnd","duration","decodedBodySize","loadMode","nextHopProtocol","initiatorType","transferSize","redirectStart","fetchStart","domainLookupStart","domainLookupEnd","redirectEnd","connectStart","resourceType","entryType","connectEnd","secureConnectionStart","isSuccessful"],L$:"initiatorType",O$:this.h.resourceTimingRecordAjax?e.default.N("link","css","font","img","input","script","xmlhttprequest","fetch","beacon"):e.default.N("link","css","font","img","input","body","script"),recordMFEAsAjax:this.h.recordMFEAsAjax,recordMFEAsAjaxTimeout:this.h.recordMFEAsAjaxTimeout}],this.h.reportURI),this.ft.once("domInit:loaded",(()=>this.Z$.R$(!1,"pageload"))),this.ft.on("segmentChanged",(()=>this.Z$.R$(!1,"segment"))),this.ft.on("event:unload",(()=>this.Z$.R$(!1,"unload")))),this.Z$||this.W$){if(this.h.electResourcesOnClear)if(this.si.Performance.prototype.clearResourceTimings){const t=this.si.Performance.prototype.clearResourceTimings,i=this;this.si.Performance.prototype.clearResourceTimings=function(){try{i.Z$&&i.Z$.R$(!0,"clearResources"),i.W$&&i.W$.JX()}catch(t){d.default.error("failed to run hook on Performance.clearResourceTimings: "+t)}t.apply(this,arguments)}}else if(this.si.Performance.prototype.webkitClearResourceTimings){const t=i.si.Performance.prototype.webkitClearResourceTimings,i=this;this.si.Performance.prototype.webkitClearResourceTimings=function(){try{i.Z$&&i.Z$.R$(!0,"clearResources"),i.W$&&i.W$.JX()}catch(t){d.default.error("failed to run hook on Performance.webkitClearResourceTimings: "+t)}t.apply(this,arguments)}}this.h.isCheckResourceBuffer&&new ui(this.si,{resourceBufferCheckTime:this.h.resourceBufferCheckTime,maxResourcesBeforeFlush:this.h.maxResourcesBeforeFlush,resourceBufferIncreaseBy:this.h.resourceBufferIncreaseBy})}},this.K$=()=>{this.W$?(console.log("Exiting full resources recording mode."),this.W$.$X()):console.log("Please allow resource recording first.")},this.Y$=()=>{this.W$?(console.log("Entering full resources recording mode."),this.W$.XX()):console.log("Please allow resource recording first.")},this.initialize=()=>{},this.si=t,this.ft=i,this.J$=s,this.qO=h,this.Lr=r,this._o=n,this.h=o,this.W$=void 0,this.Z$=void 0,this.yk={},this.ei(),this.startRecordingAll=this.Y$,this.stopRecordingAll=this.K$,this.stats=()=>this.yk}}var mi=s("./src/js/libs/asmcrypto.aes.cbc.js"),gi=s("./src/js/censor/CompositeValueCensor.js"),vi=s("./src/js/censor/valueCensorScheme.js");class pi{constructor(t,i,s){this.Q$=(()=>{let t=0;return{X$:()=>++t,$$:()=>--t}})(),this.t0=t=>{let i;for(i=0;i<this.h.i0.length;i++)if(t.indexOf(this.h.i0[i])>=0)return!0;return!1},this.s0=t=>{t.visible?this.e0(t):this.h0(t)},this.e0=t=>{!0===t.visible&&this.r0.ci()||t.n0&&this.t0(t.frame.contentWindow.location.href)&&1===this.Q$.X$()&&this.ft.emit("frame:blackoutEnter",t.frame)},this.h0=t=>{(!1!==t.visible||this.r0.ci())&&t.n0&&this.t0(t.frame.contentWindow.location.href)&&0===this.Q$.$$()&&this.ft.emit("frame:blackoutLeave",t.frame)},this.ft=t,this.r0=i,this.h=e.default.ss(s,{i0:[]}),this.ft.on("frame:wired",this.e0),this.ft.on("frame:load",this.e0),this.ft.on("frame:unload",this.h0),this.ft.on("frame:visibilityChange",this.s0)}}class yi{constructor(t,i,s,h,r,n,o,a,c,l,d,u,f,m,g){this.o0=()=>{const t=this;this.a0&&this.a0.o0((function(i,s){s?t.yk.injected++:t.yk.injectionFailed++}))},this.c0=t=>{this.l0(t);const i=this.u0.d0(t);let s;const e=()=>{t.id?t.id:t.name&&t.name;clearTimeout(s),t.removeEventListener("load",e),this.options.f0&&this.a0&&i&&this.a0.m0(t),this.yk.detected++};t.g0?(t.addEventListener("load",e),s=setTimeout((()=>{e()}),1e3)):e()},this.v0=()=>{this.ke.emit("pageUpdate"),this.p0()},this.p0=()=>{this.domTrackingStarted&&this.w0.y0({type:"pageUpdate"})},this.b0=(t,i)=>{this.T0=t,this.T0.origin=i,this.T0.Lo&&this.ke.emit("clseUpdate",this.T0.Lo),this.T0.E0&&this.ke.emit("rtoUpdate",this.T0.E0),this.ke.emit("parentWindowInfo",this.T0),t.A0&&this.blackoutManager.forceBlackoutEnter(),this.yk.handshakeWithParent.completedAt=e.default.rr(),this.yk.handshakeWithParent.info=this.T0,this.w0.C0(),this.k0(t.parentPageId,t.containerId),this.ke.emit("iframesHandshakeDone",this.T0)},this.j0=()=>{this.ke.emit("clsDebug","handshake timeout"),this.yk.handshakeWithParent.timeout=!0,this.k0()},this.nd=()=>{this.x0.start(),this.FH&&(this.yk.handshakeWithParent.startedAt=e.default.rr(),this.S0.I0(this.window.parent,this.b0,this.j0))},this.M0=()=>{this.domTrackingStarted=!0,this.D0({type:"domTrackingStarted"})},this.D0=t=>{this.T0&&this.w0.notify(this.window.parent,t,this.T0.origin)},this.R0=t=>{this.domTrackingStarted&&"pageUpdate"!==t.type&&-1!==this.cu.bv.indexOf(t.type)&&this.p0()},this.P0=t=>{t.frame.L0=!1,setTimeout((()=>{this.ke.emit("sendStoragePendingReports")}),1e3)},this.O0=t=>{var i=t.frame;this.a0&&this.options.f0&&t.n0&&this.a0.m0(i)},this.F0=t=>{this.options.f0&&!t.frame.L0&&t.visible&&this.a0.m0(t.frame)},this.N0=()=>{this.ke.emit("local:forceBlackoutEnter"),this.w0.y0({type:"forceBlackoutEnter"})},this.B0=()=>{this.ke.emit("local:forceBlackoutLeave"),this.w0.y0({type:"forceBlackoutLeave"})},this._0=()=>{this.window===this.window.top?this.V0.onPossibleBlackoutEnter():this.w0.notify(this.window.top,{type:"onPossibleBlackoutEnter"})},this.z0=()=>{this.window===this.window.top?this.V0.onPossibleBlackoutLeave():this.w0.notify(this.window.top,{type:"onPossibleBlackoutLeave"})},this.onFramePort=t=>{this.w0.notify(this.window.top,{type:"onFramePort",TI:t.TI,FR:t.FR})},this.U0=t=>{this.w0.y0({type:"queryParamUpdate",TI:t})},this.H0=t=>{this.w0.y0({type:"clseUpdate",TI:t})},this.q0=t=>{this.w0.y0({type:"rtoUpdate",TI:t})},this.W0=()=>{this.w0.y0({type:"notifyStopRecording"})},this.G0=()=>{this.w0.y0({type:"notifyStartRecording"})},this.HG=t=>{this.w0.y0({type:"onLanguageChanged",TI:t})},this.forceFlush=()=>{this.w0.y0({type:"forceFlush"})},this.J0=()=>{this.ke.on("frame:visibilityChange",this.F0)},this.Z0=t=>{this.T0=t},this.K0=()=>this.domTrackingStarted,this.Y0=()=>{this.domTrackingStarted=!0},this.Q0=()=>{this.FH=!0},this.X0=()=>{this.FH=!1},this.window=t,this.ke=i,this._w=s,this.cu=h,this.options={},this.options.$0=g.iframesSkipHidden,this.options.f0=g.iframesAutoInject,this.V0=r,this.x0=n,this.u0=o,this.a0=a,this.w0=c,this.blackoutManager=l,this.S0=d,this.t1=u,this.l0=f,this.k0=m,new pi(i,l,{i0:g.iframesBlackoutWhenLocationContains}),this.yk={detected:0,injected:0,injectionFailed:0,handshakesWithChildren:{success:0,error:0},handshakeWithParent:{startedAt:-1,completedAt:-1,timeout:!1}},this.T0,this.FH=t.top!==t,this.o0(),this.domTrackingStarted,this.S0.i1((t=>{this.yk.handshakesWithChildren.success+=t?1:0,this.yk.handshakesWithChildren.error+=t?0:1,this.domTrackingStarted&&i.emit("pageUpdate")})),this.initialize=()=>{this.FH||this.k0()},this.stats=()=>this.yk,this.a0&&this.options.$0&&i.on("frame:visibilityChange",this.F0),i.on("saveEvent",this.R0),i.on("frame:detected",this.c0),i.on("frame:domChange",this.v0),i.once("domInit:loaded",this.nd),i.on("domTrackingStarted",this.M0),i.on("frame:unload",this.P0),i.on("frame:load",this.O0),i.on("frame:blackoutEnter",this._0),i.on("frame:blackoutLeave",this.z0),i.on("frame:port",this.onFramePort),i.on("notifyAll:blackoutEnter",this.N0),i.on("notifyAll:blackoutLeave",this.B0),i.on("iFramesForceFlush",this.forceFlush),i.on("session:new",this.U0),i.on("remoteClseConf",this.H0),i.on("remoteRtoConf",this.q0),i.on("recordingStopped",this.W0),i.on("recordingStarted",this.G0),i.on("onLanguageChanged",this.HG)}}class wi{constructor(t,i,s,h,r){this.wO=()=>{try{const t=this.ld.hd(!0);t||this.s1("Failed creating XHR object for fetching external configuration");const i=()=>{if(4===t.readyState)if(200===t.status){const i=t.getResponseHeader("Content-Type");i&&-1!==i.indexOf("application/json")&&this.e1(t.response)}else{const i="Failed getting external configuration for url : "+this.$+" status:"+t.status+"  "+t.statusText;this.s1(i)}};this.h.xhrBypassOnReadyStateChange?(e.default.ii(t,"load",i),e.default.ii(t,"error",i),e.default.ii(t,"abort",i)):t.onreadystatechange=i,t.open("GET",this.$,!0),setTimeout((()=>{try{t.send()}catch(t){d.default.error("Failed sending request to url "+this.$+": "+t.message,t)}}),0)}catch(t){d.default.error("error was detected "+t.message,t),console.log("Failed getting external configuration for url: "+this.$+": "+t.message,t),this.s1(t.message)}},this.ld=t,this.$=i,this.h=s,this.e1=h,this.s1=r,this.wO()}}class bi{constructor(t,i,s,h,r,n){if(this.h1=t=>{var i;try{i=JSON.parse(t)}catch(t){return void d.default.error("Failed parsing external configuration JSON: "+t.message,t)}void 0!==this.n1&&void 0!==i["hash "]&&this.n1===i.hash||(this.Lg.Ls("js.conf",this.SI.encode(i)),this.o1(i),this.n1=i.hash)},this.cu=t,this.Lg=s,this.SI=h,this.options=n,this.a1=wi,this.ke=r,this.n1,this.cu._v&&this.cu._v.src&&this.options.configPath){this.c1();var o=e.default.ny(this.cu._v.src);new this.a1(i,e.default.er(o,this.options.configPath),this.options,this.h1,this.l1.bind(this))}}l1(t){this.ke.emit("clsDebug",t)}c1(){var t,i=this.Lg.Ds("js.conf");if(i)try{t=this.SI.decode(i),this.n1=t.hash,this.o1(t)}catch(t){d.default.error("failed parsing JSON of external configuration: "+t.message,t)}}o1(t){if(t){for(var i in t)"hash"!==i&&(this.options[i]=t[i])}}}var Ti=s("./src/js/censor/mask/UriMasker.js"),Ei=s("./src/js/dom/cloners/DomCloningHook.js"),Ai=s("./src/js/censor/encrypt/encryptionUtils.js");class Ci{constructor(t,i,s,e,h){this.d1=()=>{var t,i,s,e,h={passive:!0,capture:!0},r=new Date,n=function(){e=[],i=-1,t=null,l(addEventListener)},o=function(e,h){t||(t=h,i=e,s=new Date,l(removeEventListener),a())},a=function(){if(i>=0&&i<s-r){var h={entryType:"first-input",name:t.type,target:t.target,cancelable:t.cancelable,startTime:t.timeStamp,processingStart:t.timeStamp+i};e.forEach((function(t){t(h)})),e=[]}},c=function(t){if(t.cancelable){var i=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,i){var s=function(){o(t,i),r()},e=function(){r()},r=function(){removeEventListener("pointerup",s,h),removeEventListener("pointercancel",e,h)};addEventListener("pointerup",s,h),addEventListener("pointercancel",e,h)}(i,t):o(i,t)}},l=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(i){return t(i,c,h)}))},d="hidden"===document.visibilityState?0:1/0;addEventListener("visibilitychange",(function t(i){"hidden"===document.visibilityState&&(d=i.timeStamp,removeEventListener("visibilitychange",t,!0))}),!0),n(),this.u1=this.u1||{},this.u1.f1=function(t){e.push(t),a()},this.u1.m1=n,Object.defineProperty(this.u1,"g1",{get:function(){return d},enumerable:!0,configurable:!0})},this.track=()=>{try{this.u1.v1((t=>{this.w1++,void 0!==t.value&&(this.b1[t.name]=t.value)}),!0)}catch(t){d.default.error("failed getting CLS. Is browser supported by lib? "+t.message,t)}try{this.u1.T1((t=>{void 0!==t.value&&t.value<this.E1&&(this.b1[t.name]=t.value)}))}catch(t){d.default.error("failed getting FCP. Is browser supported by lib? "+t.message,t)}try{this.u1.A1((t=>{this.C1++,t.value>this.j1&&void 0!==t.value&&t.value<this.I1&&(this.b1[t.name]=t.value)}),!0)}catch(t){d.default.error("failed getting LCP. Is browser supported by lib? "+t.message,t)}try{this.u1.S1((t=>{void 0!==t.value&&(this.b1[t.name]=t.value)}))}catch(t){d.default.error("failed getting TTFB. Is browser supported by lib? "+t.message,t)}try{this.u1.M1((t=>{void 0!==t.value&&(this.b1[t.name]=t.value)}),{D1:!0,R1:0})}catch(t){d.default.error("failed getting INP. Is browser supported by lib? "+t.message,t)}},this.Pf=()=>{const t={};this.b1.NCLS=this.w1,this.b1.NLCP=this.C1,this.b1.FID&&delete this.b1.FID,this.F$&&(t.ect=this.F$),this.N$&&(t.rtt=this.N$),t.xg=JSON.stringify(this.b1),this.ft.emit("webVitals",t)},this.si=t,this.ft=i,this.E1=e,this.I1=h,this.b1={},this.j1=0,this.w1=0,this.C1=0,this.u1=s,this.si.navigator.connection&&(this.F$=this.si.navigator.connection.effectiveType,this.N$=t.navigator.connection.rtt)}}var ki,ji,xi,Ii,Si,Mi=-1,Di=function(t){addEventListener("pageshow",(function(i){i.persisted&&(Mi=i.timeStamp,t(i))}),!0)},Ri=function(){var t=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},Pi=function(){var t=Ri();return t&&t.P1||0},Li=function(t,i){var s=Ri(),e="navigate";return Mi>=0?e="back-forward-cache":s&&(document.prerendering||Pi()>0?e="prerender":document.wasDiscarded?e="restore":s.type&&(e=s.type.replace(/_/g,"-"))),{name:t,value:void 0===i?-1:i,L1:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),O1:e}},Oi=function(t,i,s){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var e=new PerformanceObserver((function(t){Promise.resolve().then((function(){i(t.getEntries())}))}));return e.observe(Object.assign({type:t,buffered:!0},s||{})),e}}catch(t){}},Fi=function(t,i,s,e){var h,r;return function(n){i.value>=0&&(n||e)&&((r=i.value-(h||0))||void 0===h)&&(h=i.value,i.delta=r,i.L1=function(t,i){return t>i[1]?"poor":t>i[0]?"needs-improvement":"good"}(i.value,s),t(i))}},Ni=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},Bi=function(t){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t()}))},_i=function(t){var i=!1;return function(){i||(t(),i=!0)}},Vi=-1,zi=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Ui=function(t){"hidden"===document.visibilityState&&Vi>-1&&(Vi="visibilitychange"===t.type?t.timeStamp:0,qi())},Hi=function(){addEventListener("visibilitychange",Ui,!0),addEventListener("prerenderingchange",Ui,!0)},qi=function(){removeEventListener("visibilitychange",Ui,!0),removeEventListener("prerenderingchange",Ui,!0)},Wi=function(){return Vi<0&&(Vi=zi(),Hi(),Di((function(){setTimeout((function(){Vi=zi(),Hi()}),0)}))),{get g1(){return Vi}}},Gi=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},Ji=[1800,3e3],Zi=function(t,i){i=i||{},Gi((function(){var s,e=Wi(),h=Li("FCP"),r=Oi("paint",(function(t){t.forEach((function(t){"first-contentful-paint"===t.name&&(r.disconnect(),t.startTime<e.g1&&(h.value=Math.max(t.startTime-Pi(),0),h.entries.push(t),s(!0)))}))}));r&&(s=Fi(t,h,Ji,i.D1),Di((function(e){h=Li("FCP"),s=Fi(t,h,Ji,i.D1),Ni((function(){h.value=performance.now()-e.timeStamp,s(!0)}))})))}))},Ki=[.1,.25],Yi=0,Qi=1/0,Xi=0,$i=function(t){t.forEach((function(t){t.F1&&(Qi=Math.min(Qi,t.F1),Xi=Math.max(Xi,t.F1),Yi=Xi?(Xi-Qi)/7+1:0)}))},ts=function(){"N1"in performance||ki||(ki=Oi("event",$i,{type:"event",buffered:!0,R1:0}))},is=[],ss=new Map,es=0,hs=function(){return(ki?Yi:performance.N1||0)-es},rs=[],ns=function(t){if(rs.forEach((function(i){return i(t)})),t.F1||"first-input"===t.entryType){var i=is[is.length-1],s=ss.get(t.F1);if(s||is.length<10||t.duration>i.B1){if(s)t.duration>s.B1?(s.entries=[t],s.B1=t.duration):t.duration===s.B1&&t.startTime===s.entries[0].startTime&&s.entries.push(t);else{var e={id:t.F1,B1:t.duration,entries:[t]};ss.set(e.id,e),is.push(e)}is.sort((function(t,i){return i.B1-t.B1})),is.length>10&&is.splice(10).forEach((function(t){return ss.delete(t.id)}))}}},os=function(t){var i=self.requestIdleCallback||self.setTimeout,s=-1;return t=_i(t),"hidden"===document.visibilityState?t():(s=i(t),Bi(t)),s},as=[200,500],cs=[2500,4e3],ls={},ds=[800,1800],us=function t(i){document.prerendering?Gi((function(){return t(i)})):"complete"!==document.readyState?addEventListener("load",(function(){return t(i)}),!0):setTimeout(i,0)},fs={passive:!0,capture:!0},ms=new Date,gs=function(t,i){ji||(ji=i,xi=t,Ii=new Date,ys(removeEventListener),vs())},vs=function(){if(xi>=0&&xi<Ii-ms){var t={entryType:"first-input",name:ji.type,target:ji.target,cancelable:ji.cancelable,startTime:ji.timeStamp,processingStart:ji.timeStamp+xi};Si.forEach((function(i){i(t)})),Si=[]}},ps=function(t){if(t.cancelable){var i=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,i){var s=function(){gs(t,i),h()},e=function(){h()},h=function(){removeEventListener("pointerup",s,fs),removeEventListener("pointercancel",e,fs)};addEventListener("pointerup",s,fs),addEventListener("pointercancel",e,fs)}(i,t):gs(i,t)}},ys=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(i){return t(i,ps,fs)}))},ws=[100,300],bs={v1:function(t,i){i=i||{},Zi(_i((function(){var s,e=Li("CLS",0),h=0,r=[],n=function(t){t.forEach((function(t){if(!t.hadRecentInput){var i=r[0],s=r[r.length-1];h&&t.startTime-s.startTime<1e3&&t.startTime-i.startTime<5e3?(h+=t.value,r.push(t)):(h=t.value,r=[t])}})),h>e.value&&(e.value=h,e.entries=r,s())},o=Oi("layout-shift",n);o&&(s=Fi(t,e,Ki,i.D1),Bi((function(){n(o.takeRecords()),s(!0)})),Di((function(){h=0,e=Li("CLS",0),s=Fi(t,e,Ki,i.D1),Ni((function(){return s()}))})),setTimeout(s,0))})))},T1:Zi,_1:function(t,i){i=i||{},Gi((function(){var s,e=Wi(),h=Li("FID"),r=function(t){t.startTime<e.g1&&(h.value=t.processingStart-t.startTime,h.entries.push(t),s(!0))},n=function(t){t.forEach(r)},o=Oi("first-input",n);s=Fi(t,h,ws,i.D1),o&&(Bi(_i((function(){n(o.takeRecords()),o.disconnect()}))),Di((function(){var e;h=Li("FID"),s=Fi(t,h,ws,i.D1),Si=[],xi=-1,ji=null,ys(addEventListener),e=r,Si.push(e),vs()})))}))},M1:function(t,i){"PerformanceEventTiming"in self&&"F1"in PerformanceEventTiming.prototype&&(i=i||{},Gi((function(){var s;ts();var e,h=Li("INP"),r=function(t){os((function(){t.forEach(ns);var i,s=(i=Math.min(is.length-1,Math.floor(hs()/50)),is[i]);s&&s.B1!==h.value&&(h.value=s.B1,h.entries=s.entries,e())}))},n=Oi("event",r,{R1:null!==(s=i.R1)&&void 0!==s?s:40});e=Fi(t,h,as,i.D1),n&&(n.observe({type:"first-input",buffered:!0}),Bi((function(){r(n.takeRecords()),e(!0)})),Di((function(){es=0,is.length=0,ss.clear(),h=Li("INP"),e=Fi(t,h,as,i.D1)})))})))},A1:function(t,i){i=i||{},Gi((function(){var s,e=Wi(),h=Li("LCP"),r=function(t){i.D1||(t=t.slice(-1)),t.forEach((function(t){t.startTime<e.g1&&(h.value=Math.max(t.startTime-Pi(),0),h.entries=[t],s())}))},n=Oi("largest-contentful-paint",r);if(n){s=Fi(t,h,cs,i.D1);var o=_i((function(){ls[h.id]||(r(n.takeRecords()),n.disconnect(),ls[h.id]=!0,s(!0))}));["keydown","click"].forEach((function(t){addEventListener(t,(function(){return os(o)}),!0)})),Bi(o),Di((function(e){h=Li("LCP"),s=Fi(t,h,cs,i.D1),Ni((function(){h.value=performance.now()-e.timeStamp,ls[h.id]=!0,s(!0)}))}))}}))},S1:function(t,i){i=i||{};var s=Li("TTFB"),e=Fi(t,s,ds,i.D1);us((function(){var h=Ri();h&&(s.value=Math.max(h.responseStart-Pi(),0),s.entries=[h],e(!0),Di((function(){s=Li("TTFB",0),(e=Fi(t,s,ds,i.D1))(!0)})))}))}};class Ts{constructor(t,i,s,e){this.initialize=()=>{},this.ft=t,this.V1=i,this.z1=new Ci(window,t,bs,s,e),this.z1.d1(),this.U1,this.H1=()=>{this.U1&&clearTimeout(this.U1),t.off("event:unload",this.H1),t.off("event:visibilitychange",this.H1),this.z1.Pf()},this.q1=()=>{this.z1.track(),t.on("event:unload",this.H1),t.on("event:visibilitychange",this.H1),this.U1=setTimeout(this.H1,this.V1)},this.ft.on("domInit:loaded",this.q1)}}class Es{constructor(t,i,s){this.W1=()=>{this.G1=this.J1?e.default.kt(this.Oi.title,(t=>{this.Z1(t)})):this.Oi.title},this.Pe=()=>{this.K1()||setTimeout((()=>{this.ft.emit("titleChanged")}),0)},this.Z1=(t,i)=>Z.default.xt(t,null,i),this.K1=()=>{const t=!this.G1||this.G1===document.title||this.J1&&e.default.kt(this.Oi.title,(t=>{this.Z1(t,this.Oi.title)}))===this.G1;return this.G1=this.J1?e.default.kt(this.Oi.title,this.Z1):this.Oi.title,t},this.Y1=()=>this.G1,this.Oi=t,this.ft=i,this.J1=s,this.G1=void 0,this.ft.once("init:loaded",this.W1),this.ft.on("domMutation",this.Pe)}}var As=s("./src/js/detectorState.js");class Cs{static Q1(t,i,s){new Es(t,i,s.maskTitle)}static init(t,i,s,e,h){var r=this;s.on("domInit:plugins",(()=>{e(),i.fd()})),As.default.Wu?s.emit("domInit:plugins"):s.once("init:plugins",(()=>{s.emit("domInit:plugins")})),As.default.Yf?s.emit("domInit:domready"):s.once("init:domready",(function(){s.emit("domInit:domready")})),As.default.sd?s.emit("domInit:preloaded"):s.once("init:preloaded",(function(){s.emit("domInit:preloaded")})),As.default.loaded?(r.Q1(t,s,h),s.emit("domInit:loaded")):s.once("init:loaded",(function(){r.Q1(t,s,h),s.emit("domInit:loaded")}))}}class ks{constructor(t,i,s){this.X1=()=>{const t={lastConfAt:this.Dq,pageLoaded:this.t2,initPreloadedCalled:this.i2,resolvedForCurrentContext:this.s2};return this.h2.e2(t),t},this.n2=t=>{this.Dq||this.Sq(t)},this.Sq=t=>{t.pageAttributeRules&&this.h2.fq(t.pageAttributeRules),this.Dq=e.default.rr(),this.o2()},this.o2=()=>{if(void 0===this.Dq||this.s2)return;const t=this.h2.resolve();(t.length>0||this.t2)&&(t.length>0&&this.At.emit("pageAttributes",t),this.s2=!0)},this.initialize=()=>{},this.resolve=this.o2,this.At=t,this.h2=i,this.a2=1500,this.t2=!1,this.i2=!1,this.s2=!1,this.Dq=void 0,this.stats=this.X1,this.At.once("plugin:newRemoteConfig",this.n2),this.At.on("newRemoteConfig",this.Sq),this.At.on("segmentChanged",(()=>{this.s2=!1,this.o2()}),void 0,-1),this.At.once("init:preloaded",(()=>{this.i2=!0,this.o2()})),this.At.once("init:loaded",(()=>{this.t2=!0,this.o2()}));const h=()=>{const t=window.utag.view;"function"==typeof t&&(window.utag.view=i=>(i&&this.o2(),t.apply(window.utag,arguments)))};var r,n;s&&(window.utag?h():(r=h,n=this.a2,setTimeout((()=>{window.utag&&r()}),n)))}}class js{constructor(t,i,s,e,h,r){this.c2=t=>this.pq.test(t),this.l2=()=>this.$x,this.d2=()=>this.u2,this.f2=t=>{if(!this.c2(t))return;let i,s;const e=[];for(i=0;i<this.m2.length;i++)s=this.m2[i](),void 0!==s&&(!this.g2&&s.includes(this.v2)&&(s=s.split(this.v2).pop()),e.push(s));return e.length?e.join(this.v2||","):void 0},this.$x=t,this.u2=i,this.pq=s,this.v2=e,this.m2=h,this.g2=r}}class xs{constructor(t,i,s,h){this.w2=t=>{if(!(t.id&&t.pageUrl&&t.rules&&t.rules.length))return void this.yk.badAttributeConf++;let i,s,e,h=t.pageUrl;t.pageHash&&(h+=("#"===t.pageHash.charAt(0)?"":"#")+t.pageHash);try{i=new RegExp("^"+h.split("*").join(".*")+"$")}catch(t){return d.default.error("Exception occurred during parsing regular expression. Error: "+t.message,t),void this.yk.badAttributePattern++}const r=[];for(s=0;s<t.rules.length;s++)e=this.b2[t.rules[s].type],e&&r.push(e(t.rules[s]));if(r.length)return new js(t.id,t.name,i,t.T2||",",r,this.g2);this.yk.badRules++},this.E2=()=>{const t=[];let i,s,h;const r=e.default.ji(this.si.location.href);let n;for(n=0;n<this.A2.length;n++)try{h=this.A2[n].f2(r),void 0!==h&&(i=this.A2[n].l2(),s=this.A2[n].d2(),t.push({id:i,name:s,value:h}),this.yk.resolved++,this.yk.reportsByRule[i]=(this.yk.reportsByRule[i]||0)+1)}catch(t){d.default.error("Error while resolving page attribute attribute. id: "+this.A2[n].l2()+"  error: "+t.message,t),this.C2||(this.C2=!0,this.At.emit("clsDebug","page attribute error (id="+this.A2[n].l2()+"): "+t.message))}return t},this.fq=t=>{let i,s;for(this.yk.configurationLastUpdatedAt=e.default.rr(),this.A2=[],i=0;i<t.length;i++)s=this.w2(t[i]),s&&(this.A2.push(s),this.yk.configured++);return this.A2.length>0},this.resolve=()=>this.E2(),this.e2=t=>{e.default.Ww(t,this.yk)},this.si=t,this.At=i,this.b2=s,this.A2=[],this.yk={resolved:0,configured:0,configurationLastUpdatedAt:0,badAttributeConf:0,badAttributePattern:0,reportsByRule:{},rulesList:[]},this.C2=!1,this.g2=h}}var Is=s("./src/js/3rdPartyIntegration/objectCaptor.js");class Ss{constructor(t,i,s,r,n){this.j2=()=>{this.I2=[{body:{selector:"-",cssSelector:"body",name:"BODY",submitted:!1},S2:{}}]},this.M2=(t,i)=>{d.default.error(t+". Message: "+i.message,i),this.At.emit("clsDebug",t+". Message: "+i.message)},this.D2=t=>{const i=this.Ja.Nt(this.si.document.querySelector("BODY"));t[0].body.gbid=i.toString();for(let i=0;i<t.length;i++){const s=t[i].S2;if(Object.keys(s).length){t[i].inputs=[];for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t[i].inputs.push(s[e]),s[e].gbid=s[e].gbid.toString()}delete t[i].S2}return t},this.R2=()=>{let t;for(t=0;t<this.I2.length;t++)if(!e.default.Za(this.I2[t].S2))return!0;return!1},this.P2=()=>{try{this.L2&&(this.I2[0].body.lastInput=this.L2.toString()),this.R2()&&this.At.emit("formAnalysis",this.D2(this.I2)),this.j2()}catch(t){this.M2("Exception while sending Form Analysis",t)}},this.O2=t=>{try{const i=t.element.type&&t.element.type.toLowerCase(),s=this.Ja.Nt(t.element);if("SELECT"===t.element.tagName||"radio"===i||"checkbox"===i)this.I2[0].S2[s]||this.F2(t.element,s,t.cssSelector),this.I2[0].S2[s].metrics.entries++;else{const t=this.I2[0].S2[s];if("number"==typeof this.N2[s]){const i=e.default.rr()-this.N2[s];i<0?this.At.emit("clsDebug","form analysis - negative duration. Element gbid: "+s):t.metrics.duration+=i}}this.L2=s}catch(t){this.M2("Exception while handling focus lost",t)}},this.B2=t=>("INPUT"===t.tagName&&t.type||t.tagName).toLowerCase(),this.F2=(t,i,s,e)=>{if(this.I2[0].S2[i]||"submit"===t.type.toLowerCase())return;const h={type:this.B2(t),gbid:i,metrics:{entries:0,duration:0,validationErrors:0}};try{this._2(t,h,s,e),h.name=this.V2.Wf(t),this.I2[0].S2[i]=h}catch(t){this.M2("Exception while adding a new input",t)}},this.z2=t=>{try{const i=this.Ja.Nt(t.element);this.N2[i]=e.default.rr();const s=this.I2[0].S2;s[i]||this.F2(t.element,i,t.cssSelector),s[i].metrics.entries++}catch(t){this.M2("Exception while handling focus in",t)}},this._2=(t,i,s,e)=>{e||(e=this.QL.kf(t)),i.selector=e.selector||h.default.encoding.Rf,i.cssSelector=s,e.hostSelectorPath&&(i.shadowHostPath=e.hostSelectorPath),s&&"-"!==s&&(i.cssSelector=s)},this.U2=t=>{this.F2(t.clone,t.gbid,t.cssSelector,t.GK)},this.H2=t=>{const i=this.Ja.Nt(t.element);try{this.I2[0].S2[i]&&this.I2[0].S2[i].metrics.validationErrors++}catch(t){this.M2("Exception while updating validation error",t)}},this.si=t,this.At=i,this.Ja=r,this.QL=n,this.I2=void 0,this.L2=void 0,this.N2={},this.V2=s,this.j2(),this.At.on("event:elementChange",this.O2),this.At.on("event:focus",this.z2),this.At.on("event:unload",this.P2),this.At.on("segmentChanged",this.P2),this.At.on("newInputElement",this.U2),this.At.on("formValidationError",this.H2)}}class Ms{constructor(t,i,s,e,h){this.q2=()=>{new Ss(this.si,this.At,this.V2,this.Ja,this.QL)},this.initialize=()=>{},this.si=t,this.At=i,this.Ja=e,this.QL=h,this.V2=s,this.At.once("domInit:preloaded",this.q2)}}class Ds{constructor(t,i,s,h,r,n,o){this.W2=(t,i)=>{if(!this.DW.recordClipboardContent)return"";let s;const h=t.target;if("paste"===t.type?(s=(t.clipboardData||this.si.clipboardData).getData("text"),!s&&e.default.mw()&&this.G2&&this.G2.content&&(s=this.G2.content)):s=(e.default.ri()||e.default.mw())&&t.target.value?t.target.value:this.Oi.getSelection().toString(),s&&s.length&&(i.F_=s.length,s=s.slice(0,this.DW.clipboardMaxValue)),this.J2[h.nodeName]&&this.jq.ct(h)||this.JP.ab(h,A.default._t,E.default.Jg))s=this.It.xt(s);else if(/\d/.test(s)){const t=s.match(/\d+/gm);s=this.It.xt(s,0,"*",t)}s&&(i.content=s)},this.Z2=()=>{this.K2&&clearTimeout(this.K2);const t=this;setTimeout((function(){t.G2=null}),this.DW.clipboardMaxDuration)},this.Y2=t=>{this.Z2();const i={type:t.type,timestamp:e.default.rr(),element:t.target};this.G2={type:i.type,timestamp:i.timestamp,element:i.element},this.W2(t,i),i.content&&(this.G2.content=i.content),this.ft.emit("clipboardEvent",{data:i,element:t.target})},this.Q2=t=>{this.Z2();const i={type:t.type,timestamp:e.default.rr(),element:t.target};this.G2={type:i.type,timestamp:i.timestamp,element:i.element},this.W2(t,i),i.content&&(this.G2.content=i.content),this.ft.emit("clipboardEvent",{data:i,element:t.target})},this.X2=t=>{const i={type:t.type,timestamp:e.default.rr()},s=(t.clipboardData||this.si.clipboardData).items;if(s&&s.length){i.contentType=s[0].kind;for(let t=0;t<s.length;++t)i.contentType!==s[t].kind&&(i.contentType="mix")}if(i.contentType=this.t5[i.contentType],this.W2(t,i),i.content){const t=e.default.mw()&&this.G2&&this.G2.content&&i.content===this.G2.content;this.G2&&(i.content===this.G2.content||t)&&(delete this.G2.content,i.sourceData={type:this.G2.type,timestamp:this.G2.timestamp,element:this.G2.element},this.G2.content&&(i.sourceData.content=this.G2.content))}this.ft.emit("clipboardEvent",{data:i,element:t.target})},this.si=t,this.Oi=i,this.ft=s,this.jq=h,this.JP=r,this.It=n,this.DW=o,this.G2=void 0,this.K2=void 0,this.J2={TEXTAREA:!0,INPUT:!0,SELECT:!0},this.t5={file:"binary",string:"text",mix:"mix"}}}var Rs=s("./src/js/mask/CreateDomMasker.js");class Ps{constructor(t,i,s,h){this.AG=t=>{this.i5&&clearTimeout(this.i5);const i=e.default.tm()&&e.default.im()?e.default.Sp():e.default.kp(this.si),s=e.default.xp();let h=!1;null!==i&&(i.width<100||i.height<100)||(null===i||null===this.V2.page.Ip||this.V2.page.Ip.width===i.width&&this.V2.page.Ip.height===i.height||(this.V2.page.Ip=i,h=!0),null===s||null===this.V2.page.lo||this.V2.page.lo.width===s.width&&this.V2.page.lo.height===s.height||(this.V2.page.lo=s,h=!0),this.si.devicePixelRatio!==this.V2.state.Rp&&(this.si.devicePixelRatio>this.V2.state.Rp?t.Wo(t.Tp,this.V2.Mp.Ap):t.Wo(t.Tp,this.V2.Mp.Op),this.V2.state.Rp=this.si.devicePixelRatio),t.value={},t.value.Rp=this.V2.state.Rp,t.value.window=this.V2.page.Ip,t.value.screen=this.V2.page.lo,h&&(this.s5=t,this.DW.e5?this.i5=setTimeout(this.h5,this.DW.e5):this.h5()))},this.si=t,this.V2=i,this.ft=s,this.DW=h,this.s5=null,this.i5=null,this.h5=()=>{i.r5&&(this.s5.type="tilt",this.s5.value.orientation=this.V2.orientation,this.V2.r5=!1),this.V2.Ed(this.s5)}}}class Ls{constructor(t,i,s,r,n,o,a,c){this.initialize=()=>{if(this.DW.recordClipboardEvents){const t=new Rs.default(h.default).create(),i=new Ds(this.si,this.Oi,this.ft,this.jq,t,this.It,this.DW);e.default.ii(this.si,"copy",i.Y2),e.default.ii(this.si,"cut",i.Q2),e.default.ii(this.si,"paste",i.X2)}if(!e.default.sp()){const t=new Ps(this.si,this.V2,this.ft,this.DW);this.ft.on("event:resize",t.AG)}},this.si=t,this.Oi=i,this.V2=s,this.ft=r,this.jq=n,this.It=o,this.DW=c}}class Os{constructor(t,i){this.globalObject=t=>()=>{const i=this.n5.capture(this.iG,t.paths);if(!i)return;let s;const e=[];for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.push(i[s]);return e.join(t.T2||",")},this.n5=i,this.iG=t}}class Fs{constructor(t){this.Q$=(()=>{let t=0;return{X$:()=>++t,$$:()=>--t}})(),this.o5=()=>{1===this.Q$.X$()&&this.ft.emit("notifyAll:blackoutEnter")},this.a5=()=>{0===this.Q$.$$()&&this.ft.emit("notifyAll:blackoutLeave")},this.onPossibleBlackoutEnter=()=>{this.o5()},this.onPossibleBlackoutLeave=()=>{this.a5()},this.ft=t}}class Ns{constructor(t){this.c5=(t,i,s)=>{const e=i.value.FR;return delete i.value.FR,t.postMessage(i,s,[e])},this.l5=(t,i,s)=>t.postMessage(i,s),this.d5=t=>{const i=i=>{t(i)&&i.stopImmediatePropagation()};return this.u5.push(i),e.default.ii(this.si,"message",i)},this.close=()=>{let t;for(t=0;t<this.u5.length;t++)this.si.removeEventListener("message",this.u5[t]);this.u5=[]},this.si=t,this.u5=[],this.name="postMessage"}}class Bs{constructor(t,i,s){this.f5=t=>{let i;for(i=0;i<this.vO.length;i++)this.vO[i](t)},this.m5=t=>{try{return t.location.href,!1}catch(t){return!0}},this.name="direct",this.l5=(t,i)=>{if(this.m5(t))return void z.default.oy("failed sending message over direct channel: cross origin.");const s=t[this.g5];s&&s.v5?setTimeout((()=>{s.v5({source:this.si,data:i,origin:this.p5})}),0):z.default.oy("failed sending message over direct channel: remote facade is invalid.")},this.d5=t=>{this.vO.push(t)},this.close=()=>{this.vO=[]},this.si=t,this.V2=i,this.g5=s,this.vO=[],this.p5=this.si.location.origin||e.default.ny(e.default.ji(this.si.location.href)),this.V2.v5=this.f5}}class _s{constructor(t,i,s,e){this.y5=()=>{if(this.h.directChannel)return new Bs(this.si,this.V2,this.g5);if(this.h.directChannelWhenUriContainer){let t;for(t=0;t<this.h.directChannelWhenUriContainer.length;t++)if(this.si.location.href.indexOf(this.h.directChannelWhenUriContainer[t])>=0)return new Bs(this.si,this.V2,this.g5)}return new Ns(this.si)},this.si=t,this.V2=i,this.g5=s,this.h=e||{}}}class Vs{constructor(t,i,s,e){this.Sa=t=>{if(!t.getAttribute)return!1;const i=(t.getAttribute("data")||"").toLowerCase();return this.w5[t.tagName]&&("OBJECT"!==t.tagName||"text/html"===(t.getAttribute("type")||"").toLowerCase()||i.indexOf(".html")===i.length-5||i.indexOf(".htm")===i.length-4)},this.b5=t=>{this.ft.emit("frame:detected",t)},this.T5=(t,i)=>{this.E5<=0?this.ft.emit("frame:domChange",{target:t,attributeName:i}):(this.A5={target:t,attributeName:i},this.C5&&clearTimeout(this.C5),this.C5=setTimeout((()=>{this.A5&&(this.ft.emit("frame:domChange",this.A5),this.A5=null),this.C5=null}),this.E5))},this.Pe=t=>{if("childList"===t.type){let i;const s=[];for(i=0;i<t.addedNodes.length;i++)this.Sa(t.addedNodes[i])?s.push(t.addedNodes[i]):"function"==typeof t.addedNodes[i].getElementsByTagName&&Array.prototype.push.apply(s,t.addedNodes[i].querySelectorAll(this.k5));for(i=0;i<s.length;i++)s[i].g0=!0,this.b5(s[i]);s.length}else"attributes"===t.type&&this.Sa(t.kW)&&(this.Sa(t.kW)||"function"==typeof t.kW.getElementsByTagName&&t.kW.querySelectorAll(this.k5).length>0)&&this.T5(t.kW,t.attributeName)},this.start=()=>{let t;const i=this.Oi.querySelectorAll(this.k5);for(t=0;t<i.length;t++)this.b5(i[t]);this.ft.on("domMutation",this.Pe)},this.Oi=t,this.ft=i,this.CZ=s.framesetRecordEnabled,this.j5=s.htmlObjectRecordEnabled,this.k5=e,this.E5=s.iframesPageUpdateDebounceMs||-1,this.C5=null,this.A5=null,this.w5={IFRAME:!0,FRAME:!!this.CZ,OBJECT:!!this.j5}}}class zs{constructor(t,i,s,e){this.x5=t=>{try{return t.contentWindow.location.href,!0}catch(t){return!1}},this.I5=t=>!z.default.iy(t,document.location.origin)&&this.x5(t),this.S5=t=>{var i=this;t.contentWindow.addEventListener("beforeunload",(()=>{i.ft.emit("frame:unload",{n0:i.I5(t),frame:t})}))},this.jr=t=>{const i=this.I5(t.target);i&&this.S5(t.target),this.ft.emit("frame:load",{n0:i,frame:t.target})},this.M5=t=>{if("style"===t.attributeName){const i="none"!==this.si.getComputedStyle(t.target).display,s=this.Ja.Nt(t.target);this.D5[s]||this.R5(t.target,this.I5(t.target)),this.D5[s].visible!==i&&this.ft.emit("frame:visibilityChange",{visible:i,frame:t.target,n0:this.D5[s].n0}),this.D5[s].visible=i}},this.R5=(t,i)=>{this.D5[this.Ja.Nt(t)]={visible:"none"!==this.si.getComputedStyle(t).display,n0:i}},this.d0=t=>{const i=this.I5(t);return t.P5||(t.addEventListener("load",this.jr),this.R5(t,i),i&&this.S5(t),t.P5=!0,this.ft.emit("frame:wired",{n0:i,frame:t})),i},this.si=t,this.Oi=i,this.ft=s,this.Ja=e,this.D5={},this.ft.on("frame:domChange",this.M5)}}const Us={hidden:function(t,i){let s=t,h=0;if(0===i)return"none"===getComputedStyle(s).display||"hidden"===getComputedStyle(s).visibility;for(;s&&s!==document&&h<=i;){if("none"===getComputedStyle(s).display||"hidden"===getComputedStyle(s).visibility)return!0;h++,s=e.default.parentNode(s)}return!1}};class Hs{constructor(t,i,s,h,r,n){var o,a;this.L5=t=>()=>{const i=e.default.Ww({},t);return i.storageBackedReporting=!0,i.iframesParentOrigin=this.Oi.location.origin||e.default.ny(e.default.ji(this.Oi.location.href)),this.h.O5&&(i.iframesDirectChannel=!0),i.idleEventTimeInterval=-1,i},this.F5=(t,i)=>{let s;const e=i===this.Lr.iframesAutoInjectMode.Ss;for(s=0;s<this.h.N5.length;s++)if(t.indexOf(this.h.N5[s])>=0)return e;return!e},this.B5=t=>(!this.h.$0||!Us.hidden(t,this.h.iframeVisibilityMaxLevels))&&(!(!t.contentDocument||!t.contentDocument.body||!t.contentDocument.body.hasChildNodes()&&"about:blank"!==t.contentWindow.location.href)&&(!("about:blank"===t.contentWindow.location.href&&!this.h.injectIframesAboutBlank)&&(!this.F5(t.contentWindow.location.href,this.h._5)&&"complete"===t.contentDocument.readyState))),this.V5=t=>{var i;const s=t.contentWindow;if(null==s||null===(i=s.document)||void 0===i||!i.head)return!1;const e=!!s.document.querySelector('script[data-clsautoinjected="true"]'),h=!!s[this.z5],r=!!t.L0;t.id?t.id:t.name&&t.name;return!h&&((!r||!e)&&(s._cls_config_forced=this.U5(t),s.document.head.appendChild(this.H5(s.document)),t.L0=!0,this.q5&&setTimeout((()=>this.q5(t,!0)),0),!0))},this.W5=t=>{try{return this.B5(t)&&this.V5(t)}catch(i){return z.default.oy("failed injecting frame window. error:"+i),this.q5&&this.q5(t,!1),!1}},this.m0=t=>this.W5(t),this.o0=t=>{this.q5=t},this.Oi=t,this.Lr=i,this.G5=h,this.z5=r,this.h=e.default.ss(n,{$0:!0,O5:!1,N5:[],_5:this.Lr.iframesAutoInjectMode.Ss,injectIframesAboutBlank:!1,iframeVisibilityMaxLevels:3}),this.q5=void 0,this.J5=this.G5.getAttribute("id"),this.Z5=e.default.Xw(this.G5.getAttribute("src")),this.H5=(o=this.J5,a=this.Z5,t=>{const i=t.createElement("script");return i.setAttribute("type","module"),o&&i.setAttribute("id",o),i.setAttribute("src",a),i.setAttribute("data-clsautoinjected","true"),i}),this.U5=this.L5(s)}}class qs{constructor(t,i,s,h,r,n){this.K5=(t,i,s,e)=>{this.Y5(i.type)||(e&&(e.postMessage({type:"ack"}),i.TI&&(i.TI.port=e)),this.Q5[i.type]&&this.Q5[i.type](i.TI),this.X5(t,i))},this.Y5=t=>{if("onFramePort"===t)return!1;const i=e.default.rr(),s=this.t3[t];return!!(s&&i-s<this.h.i3)||(this.t3[t]=i,!1)},this.s3=(t,i,s)=>{t&&this.si!==t&&this.e3.send(t,"frame:notification",i,s)},this.h3=t=>!!t.r3,this.X5=(t,i)=>{if(i.n3){let s;const e=this.si.document.querySelectorAll(this.k5);for(s=0;s<e.length;s++)t!==e[s].contentWindow&&this.h3(e[s])&&this.s3(e[s].contentWindow,{type:i.type,TI:i.TI,n3:!0})}i.o3&&this.a3&&this.s3(this.si.parent,{type:i.type,TI:i.TI,o3:!0,n3:!0})},this.C0=()=>{this.a3=!0},this.notify=(t,i,s)=>{this.h.disabled||this.s3(t,{type:i.type,TI:i.TI,FR:i.FR},s)},this.y0=t=>{this.h.disabled||this.X5(void 0,{type:t.type,TI:t.TI,n3:!0,o3:!0})},this.si=t,this.e3=i,this.c3=s,this.Q5=h,this.h=e.default.ss(r,{i3:300,disabled:!1}),this.k5=n,this.a3=!1,this.t3={},this.c3.d5("frame:notification",this.K5)}}class Ws{constructor(t,i,s){this.l3=t=>t&&!this.d3[t],this.send=(t,i,s,e)=>{e=this.l3(e)?e:this.u3,s.FR?this.f3.c5(t,{message:i,value:s},e):this.f3.l5(t,{message:i,value:s},e)},this.si=t,this.f3=i,this.u3=s||"*",this.d3=e.default.N("javascript:","data:")}}class Gs{constructor(t,i){this.NR=t=>{if(!window.Node)return;const i=t.data.message,s=this.vO[i];if(s){try{this.eT=t.ports&&t.ports[0],s(t.source,t.data.value,t.origin,this.eT)}catch(i){z.default.oy("message (origin:"+t.origin+") handler raised an error.",i)}return!0}return!1},this.d5=(t,i)=>{this.vO[t]=i},this.si=t,this.f3=i,this.vO={},this.eT=void 0,i.d5(this.NR)}}class Js{constructor(t,i,s,e,h,r,n,o){this.onPossibleBlackoutEnter=e.onPossibleBlackoutEnter,this.onPossibleBlackoutLeave=e.onPossibleBlackoutLeave,this.forceBlackoutEnter=s.blackoutManager.forceBlackoutEnter,this.forceBlackoutLeave=s.blackoutManager.forceBlackoutLeave,this.queryParamUpdate=h,this.onFramePort=r,this.notifyStopRecording=()=>{try{s.bu().stop()}catch(t){console.warn("Unable to stop recording in iframe ("+s.page.url+" "+s.page.id+")")}},this.notifyStartRecording=()=>{try{s.bu().start()}catch(t){console.warn("Unable to start recording in iframe ("+s.page.url+" "+s.page.id+")")}},this.domTrackingStarted=()=>{i().dQ()},this.pageUpdate=()=>{s.Sd()},this.forceFlush=()=>{t.emit("forceFlush")},this.clseUpdate=t=>{n(t)},this.rtoUpdate=t=>{o(t)},this.onLanguageChanged=i=>{t.emit("onLanguageChanged",i)}}}class Zs{constructor(t,i,s,e,h,r,n,o,a){this.m3=(t,i,s)=>{let e,h;const r=this.h.searchIframesInShadowDom?this.g3(document):document.querySelectorAll(this.k5);for(e=0;e<r.length;e++)if(t===r[e].contentWindow){h=r[e];break}if(!h)return void(this.v3&&this.v3());const n=this.y3(h);this.v3&&this.v3(n,i.w3),h.r3=!0,this.e3.send(h.contentWindow,"parent:hello",{xo:this.b3.xo,Eo:this.b3.Eo,containerId:n,parentPageId:this.T3.id,YN:this.T3.name,A0:this.r0.ci(),cg:this.T3.cg,Lo:this.b3.Lo,E0:this.b3.E0},s)},this.E3=(t,i,s)=>{this.A3&&clearTimeout(this.A3),this.C3&&this.C3(i,s),this.C3=void 0},this.I0=(t,i,s)=>{this.C3=i,this.e3.send(t,"child:hello",{w3:this.T3.id}),-1!==this.h.j3&&(this.A3=setTimeout(s,this.h.j3))},this.i1=t=>{this.v3=t},this.Oi=t,this.T3=i,this.r0=s,this.e3=e,this.c3=h,this.y3=r,this.b3=n,this.h=o||{x3:"gb_cid",j3:o.j3||2e3},this.k5=a,this.C3=void 0,this.v3=void 0,this.A3=void 0,this.c3.d5("child:hello",this.m3),this.c3.d5("parent:hello",this.E3)}g3(t){let i=[];return function t(s){"IFRAME"===s.tagName&&i.push(s),s.shadowRoot&&t(s.shadowRoot),s.childNodes.forEach(t)}(t),i}}class Ks{constructor(t,i,s){this.I3=()=>{this.S3||(this.M3[this.h.D3]&&this.R3.Wo(this.h.D3,this.M3[this.h.D3]),this.M3[this.h.P3]&&this.R3.Wo(this.h.P3,this.M3[this.h.P3]),this.S3=!0,this.Le())},this.k0=(t,i)=>{this.M3={parentPageId:t,containerId:i},this.R3&&this.Le&&this.I3()},this.ft=t,this.V2=i,this.h=s||{D3:"containerId",P3:"parentPageId"},this.R3=void 0,this.Le=void 0,this.M3=void 0,this.S3=!1,this.ft.on("event:unload",(()=>{this.R3&&(this.M3={},this.I3())}),void 0,-100),this.ft.on("sessionTimeoutExpired",(()=>{this.S3=!1})),this.V2.Vj=(t,i)=>{this.R3=t,this.Le=i,this.M3&&this.I3()}}}class Ys{constructor(t,i,s,h,r,n){this.L3=()=>{const t=this.O3(),i=Math.max(screen.width,screen.height),s=Math.min(screen.width,screen.height);return t?i:s},this.O3=()=>(this.F3?this.N3=this.F3.matches?0:90:this.si&&void 0!==this.si.orientation?this.N3=90===Math.abs(window.orientation)?90:0:screen&&screen.orientation&&void 0!==screen.orientation.type?this.N3=0===screen.orientation.type.indexOf("landscape")?90:0:this.N3=this.Oi.documentElement.clientHeight>this.Oi.documentElement.clientWidth?0:90,this.N3),this.B3=t=>{void 0!==t&&t!==this.N3&&(this.V2.orientation=this.N3,this.V2.r5=!0)},this._3=()=>{const t=this.N3;this.O3(),this.B3(t)},this.initialize=()=>{e.default.Au()||(this.F3?this.F3.addListener((t=>{const i=self.N3;self.N3=t.matches?0:90,this.B3(i)})):(this.O3(),e.default.ii(this.si,"orientationchange",this._3,!0)))},this.tg=()=>this.N3,this.si=t,this.Oi=i,this.At=s,this.h=h,this.V2=n,this.F3=t.matchMedia?t.matchMedia("(orientation: portrait)"):void 0,this.N3=this.F3?this.F3.matches?0:90:void 0,this.V3=!1}}class Qs{constructor(t,i,s,e,n,o,a,c,l,d,u,f,m,g){this.uV=()=>{this._w&&(this.z3(),this.U3(),this.H3(),this.q3(),this.W3(),window===window.top&&this.G3(),this.J3(),this.Z3(),this.K3(),this.Y3(),this.Q3(),this.X3(),this.t4(),this.i4(),this.start())},this._w=s,this.global=t,this.document=i,this.EV=n,this.ke=e,this.DW=r.default,this.Fg=o,this.uu=a,this.Bu=c,this.Lg=l,this.xf=d,this.If=u,this.RV=f,new mi.default(this.RV),this.OV=new Ai.default(this.global,this.RV),this.gj=new gi.default(this.global,new vi.default(this.RV,this.OV,this.ke,h.default,this.DW)),this.AV=g,this.Tj=new Ti.default(this.DW.maskQueryParameters,this.DW.maskUrlPath,{urlMaskingChar:this.DW.urlMaskingChar,queryMaskingChar:this.DW.queryMaskingChar}),this.DV=new Ei.default,this.TV=m,new bi(h.default,this.TV,this.Lg,new ai.default(h.default.Xt),this.ke,this.DW)}init(){Cs.init(this.document,this._w,this.ke,this.uV,this.DW)}q3(){void 0!==this._w&&this._w.dd("eventsDetectionPlugin",new Ls(this.global,this.document,this._w,this.ke,this.gj,Z.default,this.xf,this.DW))}i4(){void 0!==this._w&&this.DW.recordOrientation&&"ontouchstart"in this.global&&this._w.dd("mobileEventsPlugin",new Ys(this.global,this.document,this.ke,this.DW,this._w))}H3(){this.DW.clientAttributesEnabled&&(e.default.time("initializeAttributesPlugin",this.DW.timingMode),this._w.dd("attributePlugin",new k(this.global,this.ke,this._w,this.gj,new l.default(this.document),this.xf,this.EV)),e.default.timeEnd("initializeAttributesPlugin",this.DW.timingMode))}U3(){this.DW.collectStruggles&&(e.default.time("initializeStrugglePlugin",this.DW.timingMode),this._w.dd("strugglesPlugin",new w(this.global,this.ke,this.AV,this.DV,this.xf,this.If,this.uu,this._w,this.DW)),e.default.timeEnd("initializeStrugglePlugin",this.DW.timingMode))}W3(){if(this.DW.recordShadowDom&&this.DW.domRecordEnabled&&(this.global.ShadowRoot||e.default.Wp(this.DW.forceShadowDomTrackingWhenUrlContains,e.default.ji(this.global.location.href)))){e.default.time("initializeShadowDomPlugin",this.DW.timingMode);var t=new j.default(h.default,this.DW);this._w.dd("shadowDomPlugin",new F(this.global,document,this.ke,this.gj,this.AV,this._w.plugins.domRecordingPlugin,t,this.DW)),e.default.timeEnd("initializeShadowDomPlugin",this.DW.timingMode)}}G3(){this.global&&this.global===this.global.top&&this.DW.devToolsDetectionEnabled&&!e.default.vd()&&(e.default.time("initializeDevtoolsTrackingPlugin",this.DW.timingMode),this._w.dd("devToolsTrackingPlugin",new V(this.global,this.ke,{devToolsDetectionMessage:this.DW.devToolsDetectionMessage,devToolsDetectionWorkerTimeout:this.DW.devToolsDetectionWorkerTimeout,devToolsDebuggerBasedDetection:this.DW.devToolsDebuggerBasedDetection})),e.default.timeEnd("initializeDevtoolsTrackingPlugin",this.DW.timingMode))}J3(){e.default.vd()||!this.DW.domTamperingDetectionEnabled||"undefined"==typeof MutationObserver&&"undefined"==typeof WebKitMutationObserver||(e.default.time("initializeDomTamperingPlugin",this.DW.timingMode),this._w.dd("domTamperingPlugin",new U(this.global,this.ke,this.AV,{UG:this.DW.domTamperingGraceTime,domTamperingIgnorePages:this.DW.domTamperingIgnorePages,hJ:this.DW.domTamperingIgnorableTags})),e.default.timeEnd("initializeDomTamperingPlugin",this.DW.timingMode))}K3(){this.DW.domFormAnalysisReporting&&(e.default.time("initializeFormAnalysisPlugin",this.DW.timingMode),this._w.dd("formAnalysisPlugin",new Ms(this.global,this.ke,this._w,this.AV,this.xf)),e.default.timeEnd("initializeFormAnalysisPlugin",this.DW.timingMode))}Z3(){var t;this.DW.reportValidationErrors&&null!==(t=this._w.plugins)&&void 0!==t&&t.domRecordingPlugin&&(e.default.time("initializeFormValidationPlugin",this.DW.timingMode),this._w.dd("formValidationPlugin",new ri(this.global,this.ke,this.AV,this._w.plugins.domRecordingPlugin.mG(),{domFormValidationTracking:this.DW.domFormValidationTracking,GQ:this.DW.domFormValidationRedComponentMin,JQ:this.DW.domFormValidationRedComponentDelta,mX:this.DW.domFormValidationSubmissionIds,cX:this.DW.domFormValidationSubmissionSelectors,oX:this.DW.domFormViolationsAllowFormLevel,ZQ:this.DW.domFormValidationConsiderBG,gX:this.DW.domFormValidationAdditionalTagNames,ignorableText:this.DW.domFormValidationIgnorableText,ignorableTextRegex:this.DW.domFormValidationIgnorableTextRegex,hJ:this.DW.domFormValidationIgnorableTags,jX:this.DW.domFormValidationIgnorePagesPredicates,uX:this.DW.domFormValidationCheckUrls,fX:this.DW.domFormValidationTitlesToCheck,domFormValidationCheckAfterPageLoad:this.DW.domFormValidationCheckAfterPageLoad,domFormValidationErrorRelatedText:this.DW.domFormValidationErrorRelatedText,html5FormValidation:this.DW.html5FormValidation,domFormValidationTraverseParentsForVisibility:this.DW.domFormValidationTraverseParentsForVisibility,minVisibleElementOpacity:this.DW.minVisibleElementOpacity,jQueryFormValidationEnabled:this.DW.jQueryFormValidationEnabled,domFormValidationTextByRGB:this.DW.domFormValidationTextByRGB,domFormValidationMutationDelay:this.DW.domFormValidationMutationDelay})),e.default.timeEnd("initializeFormValidationPlugin",this.DW.timingMode))}z3(){if(this.DW.domRecordEnabled){e.default.time("initializeDomRecordingPlugin",this.DW.timingMode);const t=(t,i)=>{this._w.Su("domPlugin",{name:i,message:t})};this._w.dd("domRecordingPlugin",new $t(this.global,this.document,this._w,this.ke,h.default,this.AV,this.Tj,this.OV,this.DV,this.gj,this.xf,this.If,t,this.DW)),e.default.timeEnd("initializeDomRecordingPlugin",this.DW.timingMode)}else this.ke.emit("pageSnapshotWillNotReachQueue")}Q3(){(this.DW.versionResources||this.DW.resourcesRecordEnabled||this.DW.resourceTimingRecordEnabled)&&this.global.performance&&void 0!==this.global.performance.getEntriesByType&&void 0!==this.global.MutationObserver&&(e.default.time("initializeResourceRecorderPlugin",this.DW.timingMode),this._w.dd("resourceRecorderPlugin",new fi(this.global,this.ke,this.Bu,this.Lg,h.default,this.uu,{electResourcesOnClear:this.DW.electResourcesOnClear,isCheckResourceBuffer:this.DW.isCheckResourceBuffer,maxResourcesBeforeFlush:this.DW.maxResourcesBeforeFlush,resourceBufferCheckTime:this.DW.resourceBufferCheckTime,resourceBufferIncreaseBy:this.DW.resourceBufferIncreaseBy,resourceTimingRecordAjax:this.DW.resourceTimingRecordAjax,versionResources:this.DW.versionResources,versionResourcesEnabledByChance:this.DW.versionResourcesEnabledByChance,resourcesRecordAllowCors:this.DW.resourcesRecordAllowCors,resourceIgnoreWhenUrlContains:this.DW.resourceIgnoreWhenUrlContains,resourcesRecordChance:this.DW.resourcesRecordChance,resourcesRecordCount:this.DW.resourcesRecordCount,resourceRecordCssOnly:this.DW.resourceRecordCssOnly,resourceTimingRecordEnabledByChance:this.DW.resourceTimingRecordEnabledByChance,resourceTimingRecordEnabled:this.DW.resourceTimingRecordEnabled,resourcesRecordEnabled:this.DW.resourcesRecordEnabled,reportURI:this.DW.reportURI,saveChancesByCookie:this.DW.saveChancesByCookie,reportByFetch:this.DW.reportByFetch,xhrBypassOnReadyStateChange:this.DW.xhrBypassOnReadyStateChange,recordMFEAsAjax:this.DW.recordMFEAsAjax,recordMFEAsAjaxTimeout:this.DW.recordMFEAsAjaxTimeout})),e.default.timeEnd("initializeResourceRecorderPlugin",this.DW.timingMode))}Y3(){e.default.time("webVitalsPlugin",this.DW.timingMode),this._w.dd("webVitalsPlugin",new Ts(this.ke,this.DW.webVitalsReportTimeout,this.DW.webVitalsMaxFCP,this.DW.webVitalsMaxLCP)),e.default.timeEnd("webVitalsPlugin",this.DW.timingMode)}X3(){if(this.DW.iframesRecordEnabled){e.default.time("initializeIFramesPlugin",this.DW.timingMode);const t="frame",i="object[type='text/html'],object[data$='.htm'],object[data$='.html']";let s="iframe";this.DW.framesetRecordEnabled&&this.DW.htmlObjectRecordEnabled?this.s4+=","+t+","+i:this.DW.framesetRecordEnabled?this.s4+=","+t:this.DW.htmlObjectRecordEnabled&&(this.s4+=","+i);const n=new Fs(this.ke),o=new _s(this.global,this._w,this.EV,{directChannel:this.DW.iframesDirectChannel,directChannelWhenUriContainer:this.DW.iframesDirectChannelWhenUriContains}).y5(),a=new Vs(this.document,this.ke,{framesetRecordEnabled:this.DW.framesetRecordEnabled,htmlObjectRecordEnabled:this.DW.htmlObjectRecordEnabled,iframesPageUpdateDebounceMs:this.DW.iframesPageUpdateDebounceMs},s),c=new zs(this.global,this.document,this.ke,this.AV),l=h.default._v?new Hs(this.document,h.default,this.DW,h.default._v,this.EV,{$0:this.DW.iframesSkipHidden,O5:"direct"===o.name,N5:this.DW.iframesSkipWhenLocationContains,_5:this.DW.iframesAutoInjectMode,injectIframesAboutBlank:this.DW.injectIframesAboutBlank,iframeVisibilityMaxLevels:this.DW.iframeVisibilityMaxLevels}):void 0,d=new Ws(window,o,this.DW.iframesParentOrigin),u=new Gs(window,o),f=new Js(this.ke,(()=>this._w.plugins.domRecordingPlugin),this._w,n,(t=>{this.ke.emit("parentWindowInfo",t)}),(t=>{this.ke.emit("iframePortReceived",t)}),(t=>{this.ke.emit("clseUpdate",t)}),(t=>{this.ke.emit("rtoUpdate",t)})),m=new qs(window,d,u,f,{disabled:r.default.iframesDisableNotifications},s),g=t=>this.AV.Nt(t),v=new Zs(this.document,this._w.page,this._w.blackoutManager,d,u,g,this._w,{j3:this.DW.iframesHandshakeTimeout,searchIframesInShadowDom:this.DW.searchIframesInShadowDom},s),p=new Ks(this.ke,this._w,{P3:"parentPageId",D3:"containerId"}).k0,y=this._w.blackoutManager,w=()=>this._w.reporter;this._w.dd("iframes",new yi(this.global,this.ke,this._w,h.default,n,a,c,l,m,y,v,w,g,p,this.DW)),e.default.timeEnd("initializeIFramesPlugin",this.DW.timingMode)}}t4(){this.DW.pageAttributesEnabled&&(e.default.time("initializePageAttributesPlugin",this.DW.timingMode),this._w.dd("pageAttributesPlugin",new ks(this.ke,new xs(this.global,this.ke,new Os(this.global,new Is.default),this.DW.allowMultiplePageNames),this.DW.listenToUtagData)),e.default.timeEnd("initializePageAttributesPlugin",this.DW.timingMode))}start(){this._w.Rj(this._w.page.initializationTimestamp)}}},"./node_modules/core-js/internals/not-a-nan.js":t=>{var i=RangeError;t.exports=function(t){if(t==t)return t;throw new i("NaN is not allowed")}},"./node_modules/core-js/modules/es.iterator.take.js":(t,i,s)=>{var e=s("./node_modules/core-js/internals/export.js"),h=s("./node_modules/core-js/internals/function-call.js"),r=s("./node_modules/core-js/internals/an-object.js"),n=s("./node_modules/core-js/internals/get-iterator-direct.js"),o=s("./node_modules/core-js/internals/not-a-nan.js"),a=s("./node_modules/core-js/internals/to-positive-integer.js"),c=s("./node_modules/core-js/internals/iterator-create-proxy.js"),l=s("./node_modules/core-js/internals/iterator-close.js"),d=s("./node_modules/core-js/internals/is-pure.js"),u=c((function(){var t=this.iterator;if(!this.e4--)return this.done=!0,l(t,"normal",void 0);var i=r(h(this.next,t));return(this.done=!!i.done)?void 0:i.value}));e({target:"Iterator",jS:!0,bS:!0,VE:d},{AJ:function(t){r(this);var i=a(o(+t));return new u(n(this),{e4:i})}})},"./node_modules/core-js/modules/esnext.iterator.take.js":(t,i,s)=>{s("./node_modules/core-js/modules/es.iterator.take.js")}}]);