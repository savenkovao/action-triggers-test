/*!
 * Version: [Local_version_prod] (2026-01-07)
 * Copyright (c) 2026 Glassbox https://www.glassboxdigital.com
 */
"use strict";(self.webpackChunkdetector=self.webpackChunkdetector||[]).push([[0],{"./node_modules/core-js/modules/es.iterator.every.js":(t,e,n)=>{var s=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/iterate.js"),o=n("./node_modules/core-js/internals/a-callable.js"),r=n("./node_modules/core-js/internals/an-object.js"),a=n("./node_modules/core-js/internals/get-iterator-direct.js");s({target:"Iterator",Gt:!0,Yt:!0},{every:function(t){r(this),o(t);var e=a(this),n=0;return!i(e,(function(e,s){if(!t(e,n++))return s()}),{Tt:!0,Mt:!0}).stopped}})},"./src/js/glassvox/GlassVoxPlugin.js":(t,e,n)=>{n.r(e),n.d(e,{default:()=>Nt});n("./node_modules/core-js/modules/es.array.push.js"),n("./node_modules/core-js/modules/es.iterator.constructor.js"),n("./node_modules/core-js/modules/es.iterator.filter.js");class s{constructor(t,e){this.sn=function(t){return t=this.G3(t)},this.G3=function(t){if(t.triggers&&t.triggers.length>0)for(var e=0;e<t.triggers.length;++e)t.triggers[e].buttonFormat&&t.triggers[e].buttonFormat.text&&!t.triggers[e].buttonFormat.desktop&&(t.triggers[e].buttonFormat.desktop={text:t.triggers[e].buttonFormat.text,styles:t.triggers[e].buttonFormat.styles},t.triggers[e].buttonFormat.mobile={text:t.triggers[e].buttonFormat.text,styles:t.triggers[e].buttonFormat.styles},delete t.triggers[e].buttonFormat.text,delete t.triggers[e].buttonFormat.styles);return t},this.U3=t=>t&&"object"==typeof t&&!Array.isArray(t),this.H3=(t,e)=>{if(!e)return t;if(this.U3(t)&&this.U3(e))for(let s in e)if(this.U3(e[s]))t[s]||(t[s]={}),this.H3(t[s],e[s]);else{var n={};n[s]=e[s],Object.assign(t,n)}return t},this.q3=()=>JSON.parse(JSON.stringify(this.z3)),this.W3=t=>{t=t||{};let e={};this.lastError="";try{let n=this.q3();e=this.H3(n,t);for(let t in this.Z3){if(!e[t])throw"Required config setting missing: "+t;{let n=this.Z3[t],s=e[t];this.Q3(n,s,t)}}}catch(t){e=void 0,this.lastError=t}return e},this.Q3=(t,e,n)=>{let s;if(s=this.Y3(t,e,n),!s.K3)throw s.reason?s.reason:" type validation failed";if("string"==typeof e){if(s=this.X3(t,e,n),!s.K3)throw s.reason?s.reason:" string validation failed"}else if("number"==typeof e){if(s=this.J3(t,e,n),!s.K3)throw s.reason?s.reason:" number validation failed"}else if(Array.isArray(e)&&(s=this.t9(t,e,n),!s.K3))throw s.reason?s.reason:" array validation failed";return s},this.Y3=(t,e,n)=>{if("array"===t.type){if(!Array.isArray(e))return{K3:!1,reason:" property was not an array (property: "+n+", actual: "+typeof e+")"}}else if(typeof e!==t.type)return{K3:!1,reason:" property type does not match (property: "+n+", expected: "+t.type+", actual: "+typeof e+")"};return{K3:!0}},this.X3=(t,e,n)=>this.e9(t,e)?this.n9(t,e)?{K3:!1,reason:' string must not equal "'+t.s9+'"  (property: '+n+", actual: "+e+")"}:{K3:!0}:{K3:!1,reason:" string is wrong length (property: "+n+", expected: "+t.length+", actual: "+e.length+")"},this.t9=(t,e,n)=>t.minCount&&e.length<t.minCount?{K3:!1,reason:" array does not contain enough elements (property: "+n+", expected at least: "+t.minCount+", actual: "+e.length+")"}:t.mustContain?this.i9(t,e):{K3:!0},this.J3=(t,e,n)=>this.o9(t,e)?this.r9(t,e)?{K3:!0}:{K3:!1,reason:" number is less than minimum allowed value (property: "+n+", min value: "+t.minValue+", actual: "+e+")"}:{K3:!1,reason:" number is greater than maximum allowed value (property: "+n+", max value: "+t.maxValue+", actual: "+e+")"},this.i9=(t,e)=>{if("object"===t.type){const n=Object.keys(t.mustContain);for(let s=0;s<n.length;s++){const i=n[s];if(!this.a9(i,e))return{K3:!1,reason:" expected property is not present: "+i};{let n=this.Q3(t.mustContain[i],e[i],i);if(!n.K3)throw n.l9?n.reason:" array validation failed"}}}if("array"===t.type)for(let n=0;n<e.length;n++){const s=Object.keys(t.mustContain);for(let i=0;i<s.length;i++){const o=s[i];if(!this.a9(o,e[n]))return{K3:!1,reason:" expected property is not present: "+o};{let s=this.Q3(t.mustContain[o],e[n][o],o);if(!s.K3)throw s.l9?s.reason:" array validation failed"}}}return{K3:!0}},this.e9=(t,e)=>!t.length||e.length===t.length,this.o9=(t,e)=>!t.maxValue||e<=t.maxValue,this.r9=(t,e)=>!t.minValue||e>=t.minValue,this.a9=(t,e)=>!!e[t],this.n9=(t,e)=>!!t.s9&&e===t.s9,this.lastError="",this.z3=t,this.Z3=e}}n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.iterator.every.js"),n("./node_modules/core-js/modules/es.iterator.map.js"),n("./node_modules/core-js/modules/es.iterator.some.js"),n("./node_modules/core-js/modules/es.iterator.find.js"),n("./node_modules/core-js/modules/es.iterator.reduce.js"),n("./node_modules/core-js/modules/es.regexp.constructor.js"),n("./node_modules/core-js/modules/es.regexp.dot-all.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.replace.js"),n("./node_modules/core-js/modules/web.url-search-params.delete.js"),n("./node_modules/core-js/modules/web.url-search-params.has.js"),n("./node_modules/core-js/modules/web.url-search-params.size.js");var i=n("./src/js/utils.js");class o{static matches(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n;const s=null===(n="string"==typeof t?t:null==t?void 0:t.url)||void 0===n?void 0:n.toLowerCase();if(!s)return!1;const i=o.c9(e);let r=o.h9(i),a=o.u9(i);return o.d9(s)||(r=r.replace(i.protocol+"//",""),a=a.replace(i.protocol+"//","")),o.p9(r,a,{url:s})}catch(t){return console.error("UrlMatcher.matches error:",t),!1}}static h9(t){return(t.protocol+"//"+t.hostname+t.pathname).toLowerCase()}static u9(t){return i.default.Xr(t.href).toLowerCase()}static c9(t){const e=i.default.Xr(t);return e?new URL(e):window.location}static d9(t){return t.startsWith("https://")||t.startsWith("http://")}static p9(t,e,n){const s=`${n.url}/`;return n.url===e||s===e||(!(!o.v9(n.url)||!o.g9(e,n.url))||o.f9(n.url).test(t))}static f9(t){const e=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);42===s?e.push(".*"):(o.m9(s)&&o._9(s)&&o.b9(s)&&e.push("\\"),e.push(t[n].toLowerCase()))}return new RegExp("^"+e.join("")+"$")}static m9(t){return!(t>=65&&t<=90)}static _9(t){return!(t>=97&&t<=122)}static b9(t){return!(t>=48&&t<=57)}static v9(t){return!!t&&(t.includes("?")||t.includes("#"))}static y9(t){const e=t.includes("?"),n=t.includes("#"),s=t.toLowerCase().split(/\?|#/);return e&&!n?{host:s[0],x9:o.C9(s[1]),hash:null}:!e&&n?{host:s[0],x9:null,hash:s[1]}:{host:s[0],x9:o.C9(s[1]),hash:s[2]}}static C9(t){return t?t.split("&").reduce(((t,e)=>{const[n,s]=e.split("=");return t[n]=s,t}),{}):{}}static w9(t,e){return!t&&!e||!(!t||!e)&&(Object.keys(t).length===Object.keys(e).length&&Object.entries(e).every((e=>{let[n,s]=e;const i=o.T9(t,n);return!!i&&("*"===s||s===t[i])})))}static S9(t,e){return!t&&!e||!(t&&!e||!t&&e)&&o.f9(e).test(t)}static T9(t,e){if(!e.includes("*"))return e in t?e:null;const n=e.replace("*","");return Object.keys(t).find((t=>t.includes(n)))}static g9(t,e){if(!t||!e)return!1;if(t.toLowerCase()===e.toLowerCase())return!0;const n=o.y9(t),s=o.y9(e);if(n.host!==s.host)return!1;const i=o.S9(n.hash,s.hash),r=o.w9(n.x9,s.x9);return i&&r}}var r;n("./node_modules/core-js/modules/es.error.cause.js"),n("./node_modules/core-js/modules/es.array-buffer.detached.js"),n("./node_modules/core-js/modules/es.array-buffer.transfer.js"),n("./node_modules/core-js/modules/es.array-buffer.transfer-to-fixed-length.js"),n("./node_modules/core-js/modules/es.typed-array.at.js"),n("./node_modules/core-js/modules/es.typed-array.find-last.js"),n("./node_modules/core-js/modules/es.typed-array.find-last-index.js"),n("./node_modules/core-js/modules/es.typed-array.set.js"),n("./node_modules/core-js/modules/es.typed-array.to-reversed.js"),n("./node_modules/core-js/modules/es.typed-array.to-sorted.js"),n("./node_modules/core-js/modules/es.typed-array.with.js"),n("./node_modules/core-js/modules/web.dom-exception.stack.js");class a{static encode(t){l.call(a,t);const e=c.call(a,t);return h.call(a,e,a.I9)}static E9(t){return u.KE.test(t)}}function l(t){if("string"!=typeof t||!r.E9(t))throw new Error("Invalid UUID format. Expected xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function c(t){const e=t.replace(/-/g,""),n=new Uint8Array(16);for(let t=0;t<16;t++){const s=parseInt(e.slice(2*t,2*t+2),16);if(!Number.isFinite(s))throw new Error("Invalid hex in UUID");n[t]=s}return n}function h(t,e){const n=Math.ceil(e/8),s=t.slice(0,n),i=8*n-e;if(i>0){const t=255&255<<i;s[s.length-1]&=t}let o="";for(let t=0;t<s.length;t++)o+=String.fromCharCode(s[t]);let r=btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");const a=Math.ceil(e/6);return r.length>a&&(r=r.slice(0,a)),r}r=a,a.I9=80;var u={KE:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i};function d(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function p(t,e){return t.get(v(t,e))}function v(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var g=new WeakMap,f=new WeakMap,m=new WeakMap;class _{constructor(t){var e,n,s;d(this,g,180),d(this,f,0),d(this,m,Object.freeze({session:"s",persistent:"p"})),this.QO=t.sessionStorage,this.k9=t.localStorage,this.Ya=t.cookieHelper,this.QO.BC("SessionStorage"),this.k9.BC("LocalStorage"),e=f,n=this,s=this.O9(p(g,this)),e.set(v(e,n),s)}static L9(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return _.N9(_.M9,t,...n)}static A9(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return[_.F9,t,...n].join(":")}static N9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map((t=>"string"==typeof t.uuid?!1===t.encode?t.uuid:a.encode(t.uuid):"string"==typeof t?t:(console.warn("StorageService: Invalid key part:",t),""))).join("_")}get(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3?arguments[3]:void 0;if(!t||!e)throw new Error("StorageService: Invalid key or lifetime");const i=this.B9(t,e),o=this.R9(t),r=this.V9(i);if(void 0!==r)return this.G9(r,n);const a=this.U9(o,e);if(void 0!==a){const t=this.G9(a,n),r="function"==typeof s?s(t):t;return this.H9(i,r,e)&&this.q9(o,e),r}}set(t,e,n){if(!t||!n)throw new Error("StorageService: Invalid key or lifetime");const s=this.B9(t,n),i=this.R9(t);if(!this.H9(s,e,n))throw new Error(`GlassVoxStorageService: Unable to set cookie for key: ${s}`);this.q9(i,n)}remove(t,e){const n=this.B9(t,e),s=this.R9(t);this.j9(n),this.q9(s,e)}B9(t,e){const n="string"==typeof t?t:this.D9(t);return _.N9(n,this.z9(e))}z9(t){const e=p(m,this)[t];return e||""}R9(t){if("string"==typeof t)return t;if(!t||"string"!=typeof t.storageKey)throw new Error("StorageService: Invalid BackwardCompatibilityKey object - storageKey must be a string");return t.storageKey}D9(t){if(!t||"string"!=typeof t.cookieKey)throw new Error("StorageService: Invalid BackwardCompatibilityKey object - cookieKey must be a string");return t.cookieKey}P9(t){return"session"===t?0:p(f,this)}V9(t){try{return this.Ya.lr(t)}catch(t){return void console.error("StorageService: Unable to get cookie:",t)}}H9(t,e,n){try{const s=this.P9(n),i=this.W9(e);return this.Ya.ur(t,i,s),!0}catch(t){return console.error("StorageService: Unable to set cookie:",t),!1}}j9(t){try{return this.Ya.remove(t),!0}catch(t){return console.error("StorageService: Unable to remove cookie:",t),!1}}Z9(t){return"session"===t?this.QO:this.k9}U9(t,e){return this.Z9(e).lr(t)}q9(t,e){this.Z9(e).remove(t)}G9(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=decodeURIComponent(t);return e?"undefined"!==n?""===n?"":JSON.parse(n):void 0:n}W9(t){return"object"==typeof t&&null!==t?encodeURIComponent(JSON.stringify(t)):encodeURIComponent(t)}O9(t){return t?24*t*60*60*1e3:0}}_.M9="_gvx",_.F9="glassvox";class b{constructor(t){this.Q9=t.surveyId,this.Y9=t.surveyFrequencyType,this.qa=t.storageAccessor,this.K9=t.sessionStorageAccessor,this.AN=_.A9(this.Q9)}static X9(t,e,n){const s=_.A9(t),i=b.J9(e,s),o=b.J9(n,s);return b.t6(o)||b.e6(i,e,s)}static n6(t,e,n){const s=_.A9(t),i=b.J9(n,s);if(!e)return i&&b.s6(n,s),!1;if(!i)return!1;const o=i.timestamp||0;return((new Date).valueOf()-o)/864e5<=e||(b.s6(n,s),!1)}static i6(t,e,n){const s=_.A9("sampling",t),i=b.J9(n,s);if(100===e)return i&&b.s6(n,s),!1;if((null==i?void 0:i.rate)===e)return null==i?void 0:i.blocked;const o={rate:e,blocked:b.o6(e)};return b.r6(n,s,o),o.blocked}static t6(t){return!!t&&t.interacted}static e6(t,e,n){if(null==t||!t.imitateGbSession||null==t||!t.timestamp)return!1;return!((new Date).valueOf()-t.timestamp>b.a6)||(b.s6(e,n),!1)}static o6(t){return Math.floor(100*Math.random())>t}l6(){return"continuous"===this.Y9?this.c6():"days"===this.Y9?this.h6():this.u6()}c6(){b.s6(this.qa,this.AN),b.s6(this.K9,this.AN)}u6(){b.r6(this.K9,this.AN,{interacted:!0});const t={timestamp:(new Date).valueOf(),imitateGbSession:!0};b.r6(this.qa,this.AN,t)}h6(){const t={timestamp:(new Date).valueOf()};b.r6(this.qa,this.AN,t)}}b.a6=12e5,b.J9=(t,e)=>{try{const n=t.lr(e);return n?JSON.parse(n):null}catch(t){return console.warn("Unable to get storage data: ",t),null}},b.r6=(t,e,n)=>{try{t.ur(e,JSON.stringify(n))}catch(t){console.warn("Unable to set storage data: ",t)}},b.s6=(t,e)=>{try{t.remove(e)}catch(t){console.warn("Unable to remove storage data: ",t)}};class y{constructor(t,e,n,s,i,r,a,l){this.d6=()=>{try{return this.p6.buttonFormat}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxTrigger.getButtonConfig",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxTrigger.getButtonConfig",e)}},this.f6=t=>{try{var e;this.p6=t,this.m6=!!t.buttonFormat,this._6=t.filters.struggle?t.filters.struggle.slice():[],this.threshold=t.filters.threshold?t.filters.threshold:0,this.timeout=t.filters.delay?1e3*t.filters.delay:0,this.actions=t.filters.actions?t.filters.actions:[],null===(e=this.g6)||void 0===e||e.b6(!1)}catch(t){var n;this.v6&&this.v6.emit("glassvoxError","GlassVoxTrigger.initialise",t),null===(n=this.g6)||void 0===n||n.Ko("GlassVoxTrigger.initialise",t)}},this.y6=()=>{try{var t,e,n;return this.x6(),this.C6()?!1:!this.w6()&&(this.T6()?(null===(e=this.g6)||void 0===e||e.b6(!0),!0):!this.S6()&&(this.I6()?(null===(n=this.g6)||void 0===n||n.b6(!0),!0):!this.E6()&&(!this.k6()&&(null===(t=this.g6)||void 0===t||t.b6(!0),!0))))}catch(t){var s;return this.v6&&this.v6.emit("glassvoxError","GlassVoxTrigger.isTriggered",t),null===(s=this.g6)||void 0===s||s.Ko("GlassVoxTrigger.isTriggered",t),!1}},this.w6=()=>{var t,e;const n=(null===(t=this.p6)||void 0===t||null===(t=t.filters)||void 0===t?void 0:t.pages)||[],s=(null===(e=this.p6)||void 0===e||null===(e=e.filters)||void 0===e?void 0:e.excludedPages)||[];return!(!n.length&&!s.length)&&(!!s.some((t=>o.matches(t)))||!!n.length&&!n.some((t=>o.matches(t))))},this.C6=()=>this.O6,this.T6=()=>this.m6,this.I6=()=>"continuous"===this.Y9,this.E6=()=>b.X9(this.Q9,this.qa,this.K9),this.k6=()=>{var t;const e=(null===(t=this.p6)||void 0===t||null===(t=t.filters)||void 0===t?void 0:t.surveyFrequency)||0;return b.n6(this.Q9,e,this.qa)},this.S6=()=>{var t;const e=(null===(t=this.p6.filters)||void 0===t?void 0:t.surveySampling)||100;return b.i6(this.Q9,e,this.qa)},this.x6=()=>{var t,e,n,s,i,r,a;(null===(t=this.g6)||void 0===t||t.L6(this.actions),this.T6()||this.I6())?null===(a=this.g6)||void 0===a||a.b6(!0):(null===(e=this.g6)||void 0===e||e.N6("targetDevice",!!this.C6()&&(t=>(null===(t=this.g6)||void 0===t||t.M6("Blocked by target devices."),!0))()),null===(n=this.g6)||void 0===n||n.N6("targetUrl",!!this.w6()&&((t,e)=>{const n=t=>(t||[]).map((t=>({url:t.url,matchesCurrentUrl:o.matches(t.url)}))),s=n(null===(t=this.p6)||void 0===t||null===(t=t.filters)||void 0===t?void 0:t.pages),i=n(null===(e=this.p6)||void 0===e||null===(e=e.filters)||void 0===e?void 0:e.excludedPages),r=s.length&&s.every((t=>!t.matchesCurrentUrl)),a=i.some((t=>t.matchesCurrentUrl));var l,c;r&&(null===(l=this.g6)||void 0===l||l.M6("Does not match any target URL."));a&&(null===(c=this.g6)||void 0===c||c.M6("Matches some excluded URL. Excluded URLs have higher priority than target URLs."));return{blocked:!0,targetPages:s,excludedPages:i,notMatchAnyTargetPage:r,matchAnyExcludedPage:a}})()),null===(s=this.g6)||void 0===s||s.N6("samplingRate",!!this.S6()&&(t=>(null===(t=this.g6)||void 0===t||t.M6("Hidden due to sampling rate."),!0))()),null===(i=this.g6)||void 0===i||i.N6("userSessionLimit",!!this.E6()&&(t=>(null===(t=this.g6)||void 0===t||t.M6("User has already seen this survey in this session."),!0))()),null===(r=this.g6)||void 0===r||r.N6("cooldownPeriodLimit",!!this.k6()&&((t,e)=>(null===(t=this.g6)||void 0===t||t.M6(`User has already seen this survey in the last ${(null===(e=this.p6)||void 0===e||null===(e=e.filters)||void 0===e?void 0:e.surveyFrequency)||0} days.`),!0))()))},this.destroy=()=>{},this.Q9=t,this.qa=e,this.K9=n,this.v6=i,this.m6=!1,this.p6=s||{},this._6=[],this.threshold=0,this.timeout=0,this.actions=[],this.O6=r,this.Y9=a,this.g6=l,this.f6(this.p6)}}class x{constructor(t,e,n,s,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:window.top.document,r=arguments.length>6?arguments[6]:void 0;this.A6=()=>{try{let t="background-color:transparent!important;box-shadow:none!important;border:none!important;margin:0!important;padding:0!important;position:fixed!important;z-index:2147483646!important;overflow:hidden!important;width:0px!important;height:0px!important;_TOP__LEFT__BORDER_RADIUS_",e="div{position:relative!important;display:flex!important;align-items:center!important;justify-content:center!important;border:none!important;margin:0!important;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;text-align:center!important;padding:0!important;_TRANSFORM__WRITING_MODE__FONT_SIZE__TEXT_COLOUR__BACKGROUND_COLOUR__FONT_FAMILY__FONT_WEIGHT__BORDER_RADIUS_cursor:pointer!important;}";const n="writing-mode:vertical-lr",s=16,i=4;let o="",r="",a="",l="",c="",h="";const u=this.kW.styles.buttonTextColour,d=this.kW.styles.buttonBackgroundColour,p=this.kW.styles.fontFamily?this.kW.styles.fontFamily:"Open Sans",v="600";switch(this.kW.styles.vertical){case"top":switch(o="top:0px!important;",l=n+"!important;",this.kW.styles.horizontal){case"left":a="transform:rotate(180deg)!important;bottom:0px !important;",c="border-bottom-right-radius:"+i+"px!important;border-top-right-radius:"+i+"px!important;",h="border-bottom-left-radius:"+i+"px!important;border-top-left-radius:"+i+"px!important;";break;case"right":c=h="border-bottom-left-radius:"+i+"px!important;border-top-left-radius:"+i+"px!important;";break;default:c=h="border-bottom-left-radius:"+i+"px!important;border-bottom-right-radius:"+i+"px!important;"}break;case"bottom":if(o="bottom:0px!important;","left"===this.kW.styles.horizontal)c=h="border-top-right-radius:"+i+"px!important;border-top-left-radius:"+i+"px!important;";else c=h="border-top-left-radius:"+i+"px!important;border-top-right-radius:"+i+"px!important;";break;default:switch(o="top:47vh!important;",l=n+"!important;",this.kW.styles.horizontal){case"left":a="transform:rotate(180deg)!important;bottom:0px !important;",c="border-top-right-radius:"+i+"px!important;border-bottom-right-radius:"+i+"px!important;",h="border-top-left-radius:"+i+"px!important;border-bottom-left-radius:"+i+"px!important;";break;case"right":c=h="border-top-left-radius:"+i+"px!important;border-bottom-left-radius:"+i+"px!important;";break;default:c=h="border-top-left-radius:"+i+"px!important;border-top-right-radius:"+i+"px!important;border-bottom-left-radius:"+i+"px!important;border-bottom-right-radius:"+i+"px!important;"}}switch(this.kW.styles.horizontal){case"left":r="left:0px!important;";break;case"right":r="right:0px!important;";break;default:r="left:47vw!important;"}t=t.replace("_TOP_",o),t=t.replace("_LEFT_",r),t=t.replace("_BORDER_RADIUS_",c),e=e.replace("_FONT_SIZE_","font-size:"+s+"px!important;"),e=e.replace("_TRANSFORM_",a),e=e.replace("_WRITING_MODE_",l),e=e.replace("_TEXT_COLOUR_","color:"+u+"!important;"),e=e.replace("_BACKGROUND_COLOUR_","background-color:"+d+"!important;"),e=e.replace("_FONT_FAMILY_","font-family:"+p+"!important;"),e=e.replace("_FONT_WEIGHT_","font-weight:"+v+"!important;"),e=e.replace("_BORDER_RADIUS_",h),this.F6=t,this.B6=e}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxButton._createStyles",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxButton._createStyles",e)}},this.R6=()=>{if(this.V6)try{let t=document.createElement("STYLE");t.innerHTML=this.B6,this.V6.shadowRoot.appendChild(t);let e=document.createElement("DIV");e.setAttribute("id",this.G6+"_body"),e.innerHTML=this.kW.text.replace(/\s/g,"&nbsp;").replace(/-/g,"&#8209;"),this.V6.shadowRoot.appendChild(e),this.V6.style.cssText=this.F6,setTimeout(this.U6,1e3),setTimeout(this.U6,7e3)}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxButton._setCustomComponentStyles",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxButton._setCustomComponentStyles",e)}},this.U6=()=>{var t,e,n;const s=null===(t=this.V6)||void 0===t||null===(t=t.shadowRoot)||void 0===t?void 0:t.querySelector("div");if(null!==(e=this.V6)&&void 0!==e&&e.shadowRoot&&null!==(n=this.V6)&&void 0!==n&&n.style&&s)try{let t;if(t="number"==typeof this.kW.styles.offset?this.kW.styles.offset:"top"===this.kW.styles.vertical?50:"left"===this.kW.styles.horizontal?20:80,!this.kW.styles.buttonWidth||!this.kW.styles.buttonWidth)throw"Config error: Button width or height missing";let e=this.kW.styles.buttonWidth,n=this.kW.styles.buttonHeight;if("bottom"===this.kW.styles.vertical){const n=this.H6.documentElement.clientWidth-e,s=t*(n>0?n:0)/100;this.V6.style.setProperty("left",s+"px","important")}else{this.kW.styles.buttonWidth&&this.kW.styles.buttonHeight&&(e=this.kW.styles.buttonHeight,n=this.kW.styles.buttonWidth);const s=this.H6.documentElement.clientHeight-n,i=t*(s>0?s:0)/100;this.V6.style.setProperty("top",i+"px","important")}this.V6.style.setProperty("width",e+"px","important"),this.V6.style.setProperty("min-width",e+"px","important"),this.V6.style.setProperty("height",n+"px","important"),this.V6.style.setProperty("min-height",n+"px","important"),s.style.setProperty("width",e+"px","important"),s.style.setProperty("min-width",e+"px","important"),s.style.setProperty("height",n+"px","important"),s.style.setProperty("min-height",n+"px","important")}catch(t){var i;this.v6&&this.v6.emit("glassvoxError","GlassVoxButton._setCustomComponentPosition",t),null===(i=this.g6)||void 0===i||i.Ko("GlassVoxButton._setCustomComponentPosition",t)}},this.q6=()=>{try{var t;null===(t=this.H6.body)||void 0===t||t.appendChild(this.V6);try{this.V6.addEventListener("click",this.j6),this.V6.addEventListener("keydown",(t=>{(t.code&&"Enter"===t.code||t.keyCode&&13===t.keyCode)&&this.j6()})),this.R6()}catch(t){this.destroy()}}catch(t){var e;this.v6&&this.v6.emit("glassvoxError","GlassVoxButton._addCustomComponentToDocument",t),null===(e=this.g6)||void 0===e||e.Ko("GlassVoxButton._addCustomComponentToDocument",t)}},this.destroy=()=>{try{const t=this.H6.querySelector("#"+this.G6);t&&t.parentElement&&t.parentElement.removeChild(t)}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxButton.destroy",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxButton.destroy",e)}},this.D6=()=>{try{var t;const s=null===(t=this.kW.styles)||void 0===t?void 0:t.position,i=!!this.H6.querySelector(`gb-voc-button[gb-position="${s}"]`);if(this.O6||i){if(i){var e;const t=`You have more than 1 button configured to be placed on the same position: "${s}". Only one will be shown`;null===(e=this.g6)||void 0===e||e.M6(t),console.warn(t)}var n;if(this.O6)null===(n=this.g6)||void 0===n||n.M6("Survey button show blocked by target device");return void this.destroy()}this.A6(),this.destroy(),this.V6.style.cssText=this.F6,this.V6.setAttribute("title",this.z6),this.V6.setAttribute("id",this.G6),this.V6.setAttribute("name",this.G6),this.V6.setAttribute("tabindex","0"),this.V6.setAttribute("gb-position",s),this.H6.body?this.q6():this.v6.once("init:loaded",this.q6)}catch(t){var s;this.v6&&this.v6.emit("glassvoxError","GlassVoxButton.showButton",t),null===(s=this.g6)||void 0===s||s.Ko("GlassVoxButton.showButton",t)}},this.f6=t=>{try{this.kW=t;const e=this.kW.styles.position.split("-");if(!(2===e.length&&["left","centre","right"].indexOf(e[0])>=0&&["top","middle","bottom"].indexOf(e[1])>=0))throw"GlassVoxButton config error: styles.position is not valid";this.kW.styles.horizontal=e[0],this.kW.styles.vertical=e[1]}catch(t){var e;this.v6&&this.v6.emit("glassvoxError","GlassVoxButton.initialise",t),null===(e=this.g6)||void 0===e||e.Ko("GlassVoxButton.initialise",t)}},this.bW=function(t,e){let n,s;return function(){const i=this;s?(clearTimeout(n),n=setTimeout((function(){Date.now()-s>=e&&(t.apply(i),s=Date.now())}),e-(Date.now()-s))):(t.apply(i),s=Date.now())}},this.kW=e||{},this.v6=n,this.j6=s&&"function"==typeof s?s:function(){},this.F6="",this.B6="",this.G6="gb_feedback_button_"+t,this.z6="Glassbox Feedback button",this.O6=i,this.H6=o,this.g6=r,customElements.get("gb-voc-button")||customElements.define("gb-voc-button",C),this.V6=document.createElement("gb-voc-button"),this.V6.attachShadow({mode:"open"}),window.addEventListener("resize",this.bW(this.U6,200)),this.f6(this.kW)}}class C extends HTMLElement{constructor(){super()}}n("./node_modules/core-js/modules/es.iterator.for-each.js");class w{static P6(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!w.W6(t))return console.warn("Invalid HEX color format. Please use #RRGGBB or #RRGGBBAA format."),t;const n=t=>Math.max(0,Math.min(255,Math.round(t))),s=t=>{const e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},i=t=>{const e=t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055;return n(255*e)},{r:o,g:r,b:a}=(t=>{let e=String(t).trim().replace(/^#/,"");if(3===e.length&&(e=e.split("").map((t=>t+t)).join("")),!/^[0-9a-fA-F]{6}$/.test(e))throw new Error("Invalid 3/6-digit HEX color");return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}})(t),l=(c=e/100,Math.max(0,Math.min(1,c)));var c;const h=s(o),u=s(r),d=s(a);return((t,e,s)=>"#"+[t,e,s].map((t=>n(t).toString(16).padStart(2,"0"))).join("").toUpperCase())(i((1-l)*h+1*l),i((1-l)*u+1*l),i((1-l)*d+1*l))}static W6(t){if(!t)return!1;let e=String(t).trim().replace(/^#/,"");return 3===e.length&&(e=e.split("").map((t=>t+t)).join("")),/^[0-9a-fA-F]{6}$/.test(e)}}class T{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smiles",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.Z6="smiles",this.Q6=void 0,this.Y6=t=>this.K6[t],this.X6=()=>"smiles"!==this.Z6?"":this.J6,this.J6='<svg width="0" height="0" style="position: absolute;"><defs><filter id="drop_shadow" x="-2" y="-2" width="40" height="40" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="2"></feOffset><feGaussianBlur stdDeviation="2"></feGaussianBlur><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend></filter></defs></svg>',this.t4=t=>`<svg style="${t}" width="32" height="32" class="csat-smile" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g><circle cx="16" cy="16" r="12" /><path fill-rule="evenodd" clip-rule="evenodd" d="M27.3332 15.9998C27.3332 22.2591 22.2591 27.3332 15.9999 27.3332C9.74069 27.3332 4.66658 22.2591 4.66658 15.9998C4.66658 9.74061 9.74069 4.6665 15.9999 4.6665C22.2591 4.6665 27.3332 9.74061 27.3332 15.9998ZM29.3332 15.9998C29.3332 23.3636 23.3637 29.3332 15.9999 29.3332C8.63612 29.3332 2.66658 23.3636 2.66658 15.9998C2.66658 8.63604 8.63612 2.6665 15.9999 2.6665C23.3637 2.6665 29.3332 8.63604 29.3332 15.9998ZM11.4439 22.6665C11.4439 23.2188 10.9962 23.6665 10.4439 23.6665C9.89164 23.6665 9.44392 23.2188 9.44392 22.6665C9.44392 19.046 12.3789 16.111 15.9995 16.111C17.8755 16.111 19.5139 17.0473 20.6594 18.2764C21.7958 19.4957 22.555 21.1178 22.555 22.6665C22.555 23.2188 22.1073 23.6665 21.555 23.6665C21.0027 23.6665 20.555 23.2188 20.555 22.6665C20.555 21.7338 20.0707 20.5782 19.1963 19.64C18.3311 18.7117 17.1917 18.111 15.9995 18.111C13.4835 18.111 11.4439 20.1505 11.4439 22.6665ZM11.0875 13.7193C11.0875 14.5913 10.3806 15.2982 9.50855 15.2982C8.63652 15.2982 7.9296 14.5913 7.9296 13.7193C7.9296 12.8473 8.63652 12.1403 9.50855 12.1403C10.3806 12.1403 11.0875 12.8473 11.0875 13.7193ZM22.1401 15.2982C23.0121 15.2982 23.719 14.5913 23.719 13.7193C23.719 12.8473 23.0121 12.1403 22.1401 12.1403C21.268 12.1403 20.5611 12.8473 20.5611 13.7193C20.5611 14.5913 21.268 15.2982 22.1401 15.2982ZM8.98816 8.62613C9.37866 8.23558 10.0118 8.23555 10.4024 8.62606L12.7099 10.9333C13.1004 11.3238 13.1005 11.957 12.71 12.3476C12.3195 12.7381 11.6863 12.7381 11.2957 12.3476L8.98823 10.0403C8.59768 9.64984 8.59765 9.01667 8.98816 8.62613ZM21.2472 8.62609C21.6378 8.23557 22.2709 8.23557 22.6614 8.62609C23.052 9.01662 23.052 9.64978 22.6614 10.0403L20.354 12.3477C19.9635 12.7382 19.3304 12.7382 18.9398 12.3477C18.5493 11.9572 18.5493 11.324 18.9398 10.9335L21.2472 8.62609Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M16 27.3332C22.2593 27.3332 27.3334 22.2591 27.3334 15.9998C27.3334 9.74061 22.2593 4.6665 16 4.6665C9.74081 4.6665 4.6667 9.74061 4.6667 15.9998C4.6667 22.2591 9.74081 27.3332 16 27.3332ZM16 29.3332C23.3638 29.3332 29.3334 23.3636 29.3334 15.9998C29.3334 8.63604 23.3638 2.6665 16 2.6665C8.63624 2.6665 2.6667 8.63604 2.6667 15.9998C2.6667 23.3636 8.63624 29.3332 16 29.3332ZM11.3167 13.7189C11.3167 14.6669 10.5482 15.4354 9.60018 15.4354C8.65219 15.4354 7.88369 14.6669 7.88369 13.7189C7.88369 12.7709 8.65219 12.0024 9.60018 12.0024C10.5482 12.0024 11.3167 12.7709 11.3167 13.7189ZM22.1559 15.4354C23.1039 15.4354 23.8724 14.6669 23.8724 13.7189C23.8724 12.7709 23.1039 12.0024 22.1559 12.0024C21.2079 12.0024 20.4394 12.7709 20.4394 13.7189C20.4394 14.6669 21.2079 15.4354 22.1559 15.4354ZM22.6612 8.62593C22.2707 8.23541 21.6375 8.23541 21.247 8.62593C21.0601 8.81286 20.9729 9.05327 20.8819 9.30448C20.7828 9.57807 20.679 9.86447 20.4366 10.1085C19.9662 10.5821 19.5703 10.806 18.9396 10.9333C18.3088 11.0607 18.5491 11.957 18.9396 12.3475C19.3301 12.7381 19.8719 12.6205 20.3538 12.3475C20.4061 12.3179 20.4586 12.2885 20.5112 12.2591C20.943 12.0173 21.3819 11.7715 21.7996 11.3548C22.2701 10.8854 22.5006 10.459 22.6612 10.0401C22.8218 9.62125 23.0517 9.01645 22.6612 8.62593ZM12.7844 10.934C13.3924 11.0746 13.1749 11.9577 12.7844 12.3482C12.3939 12.7387 11.7891 12.5088 11.3702 12.3482C10.9513 12.1876 10.525 11.9572 10.0555 11.4866C9.6388 11.0689 9.39301 10.63 9.15122 10.1982C9.12178 10.1456 9.09239 10.0931 9.06276 10.0408C8.78984 9.55887 8.67224 9.01713 9.06276 8.6266C9.45329 8.23608 10.0865 8.23608 10.477 8.6266C10.6626 8.81228 10.7512 9.05345 10.8438 9.30593C10.9461 9.5845 11.0534 9.87683 11.3018 10.1236C11.7699 10.5886 12.1763 10.7935 12.7844 10.934Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M11.2051 20.0594C11.2051 19.323 11.8021 18.7261 12.5384 18.7261H19.4611C20.1974 18.7261 20.7944 19.323 20.7944 20.0594C20.7944 20.7958 20.1974 21.3927 19.4611 21.3927H12.5384C11.8021 21.3927 11.2051 20.7958 11.2051 20.0594Z" /></g></svg>`,this.e4=t=>`<svg style="${t}" width="32" height="32" class="csat-smile" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g><circle cx="16" cy="16" r="12" /><path fill-rule="evenodd" clip-rule="evenodd" d="M27.3333 15.9998C27.3333 22.2591 22.2591 27.3332 15.9999 27.3332C9.74069 27.3332 4.66659 22.2591 4.66659 15.9998C4.66659 9.74061 9.74069 4.6665 15.9999 4.6665C22.2591 4.6665 27.3333 9.74061 27.3333 15.9998ZM29.3333 15.9998C29.3333 23.3636 23.3637 29.3332 15.9999 29.3332C8.63612 29.3332 2.66659 23.3636 2.66659 15.9998C2.66659 8.63604 8.63612 2.6665 15.9999 2.6665C23.3637 2.6665 29.3333 8.63604 29.3333 15.9998ZM11.3256 21.5904C12.0593 19.5595 13.8732 18.222 15.8245 18.222C17.7758 18.222 19.5896 19.5595 20.3233 21.5904L15.9878 21.5905L11.3256 21.5904ZM22.4239 21.6382L22.4115 21.5903C21.6022 18.4927 18.9596 16.222 15.8245 16.222C12.6894 16.222 10.0467 18.4927 9.23743 21.5902C9.07224 22.2225 8.98342 22.8892 8.98239 23.578L8.98238 23.5902C9.41854 23.5905 22.666 23.5906 22.6666 23.5902C22.6666 22.9144 22.5821 22.2599 22.4239 21.6382ZM11.0875 13.3684C11.0875 14.2404 10.3806 14.9473 9.50856 14.9473C8.63653 14.9473 7.92961 14.2404 7.92961 13.3684C7.92961 12.4963 8.63653 11.7894 9.50856 11.7894C10.3806 11.7894 11.0875 12.4963 11.0875 13.3684ZM22.1401 14.9473C23.0121 14.9473 23.719 14.2404 23.719 13.3684C23.719 12.4963 23.0121 11.7894 22.1401 11.7894C21.268 11.7894 20.5611 12.4963 20.5611 13.3684C20.5611 14.2404 21.268 14.9473 22.1401 14.9473Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M27.3333 15.9998C27.3333 22.2591 22.2592 27.3332 16 27.3332C9.74076 27.3332 4.66666 22.2591 4.66666 15.9998C4.66666 9.74061 9.74076 4.6665 16 4.6665C22.2592 4.6665 27.3333 9.74061 27.3333 15.9998ZM29.3333 15.9998C29.3333 23.3636 23.3638 29.3332 16 29.3332C8.63619 29.3332 2.66666 23.3636 2.66666 15.9998C2.66666 8.63604 8.63619 2.6665 16 2.6665C23.3638 2.6665 29.3333 8.63604 29.3333 15.9998ZM10.8759 12.9978C11.963 13.0191 12.807 13.0357 12.807 11.8922C12.807 10.5886 11.7501 9.53174 10.4465 9.53174C9.14283 9.53174 8.08601 10.5886 8.08601 11.8922C8.08601 13.0347 8.8668 13.0191 9.93729 12.9978C10.0883 12.9948 10.2451 12.9917 10.4063 12.9917C10.5665 12.9917 10.7235 12.9948 10.8758 12.9978L10.8759 12.9978ZM23.9139 11.8922C23.9139 13.0377 23.091 13.0221 22.0069 13.0014L22.0068 13.0014C21.8572 12.9986 21.7026 12.9956 21.5445 12.9956C21.3861 12.9956 21.2316 12.9986 21.0822 13.0014C20.0017 13.0221 19.1929 13.0375 19.1929 11.8922C19.1929 10.5886 20.2497 9.53174 21.5534 9.53174C22.857 9.53174 23.9139 10.5886 23.9139 11.8922ZM9.39675 17.892C9.97777 17.892 10.6049 17.1157 10.6049 16.2719C10.6049 15.6593 10.2732 15.2421 9.95229 14.8386C9.71493 14.5401 9.48352 14.2491 9.39675 13.892C9.30434 14.253 9.058 14.5548 8.80695 14.8624C8.47329 15.2712 8.1313 15.6903 8.1313 16.2719C8.1313 17.1545 8.81572 17.892 9.39675 17.892Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M15.9998 18.1001C13.9144 18.1001 12.2682 19.741 12.2682 21.7112C12.2682 22.2634 11.8205 22.7112 11.2682 22.7112C10.7159 22.7112 10.2682 22.2634 10.2682 21.7112C10.2682 18.5881 12.8588 16.1001 15.9998 16.1001C19.1408 16.1001 21.7314 18.5881 21.7314 21.7112C21.7314 22.2634 21.2837 22.7112 20.7314 22.7112C20.1791 22.7112 19.7314 22.2634 19.7314 21.7112C19.7314 19.741 18.0852 18.1001 15.9998 18.1001Z" /></g></svg>`,this.n4=t=>`<svg style="${t}" width="32" height="32" class="csat-smile" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g><circle cx="16" cy="16" r="12" /><path fill-rule="evenodd" clip-rule="evenodd" d="M27.3333 15.9998C27.3333 22.2591 22.2591 27.3332 15.9999 27.3332C9.74069 27.3332 4.66659 22.2591 4.66659 15.9998C4.66659 9.74061 9.74069 4.6665 15.9999 4.6665C22.2591 4.6665 27.3333 9.74061 27.3333 15.9998ZM29.3333 15.9998C29.3333 23.3636 23.3637 29.3332 15.9999 29.3332C8.63612 29.3332 2.66659 23.3636 2.66659 15.9998C2.66659 8.63604 8.63612 2.6665 15.9999 2.6665C23.3637 2.6665 29.3333 8.63604 29.3333 15.9998ZM8.80673 14.947C9.67876 14.947 10.3857 14.2401 10.3857 13.3681C10.3857 12.4961 9.67876 11.7891 8.80673 11.7891C7.9347 11.7891 7.22779 12.4961 7.22779 13.3681C7.22779 14.2401 7.9347 14.947 8.80673 14.947ZM23.9716 13.3681C23.9716 14.2401 23.2647 14.947 22.3927 14.947C21.5206 14.947 20.8137 14.2401 20.8137 13.3681C20.8137 12.4961 21.5206 11.7891 22.3927 11.7891C23.2647 11.7891 23.9716 12.4961 23.9716 13.3681ZM9.68257 18.1679C9.15885 18.3433 8.87642 18.91 9.05174 19.4337C9.22706 19.9574 9.79374 20.2398 10.3175 20.0645C13.2852 19.071 16.4964 20.6715 17.4899 23.6392C17.6652 24.1629 18.2319 24.4454 18.7556 24.2701C19.2793 24.0947 19.5618 23.528 19.3864 23.0043C18.0423 18.9892 13.6978 16.8238 9.68257 18.1679Z" /><rect x="8" y="11" width="3" height="4" rx="1.5" /><rect x="21" y="11" width="3" height="4" rx="1.5" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M27.3335 16.0003C27.3335 22.2596 22.2594 27.3337 16.0002 27.3337C9.74095 27.3337 4.66684 22.2596 4.66684 16.0003C4.66684 9.7411 9.74095 4.66699 16.0002 4.66699C22.2594 4.66699 27.3335 9.7411 27.3335 16.0003ZM29.3335 16.0003C29.3335 23.3641 23.364 29.3337 16.0002 29.3337C8.63638 29.3337 2.66684 23.3641 2.66684 16.0003C2.66684 8.63653 8.63638 2.66699 16.0002 2.66699C23.364 2.66699 29.3335 8.63653 29.3335 16.0003ZM10.6138 20.6969C10.2279 21.0919 10.2353 21.725 10.6304 22.111C11.0254 22.4969 11.6586 22.4895 12.0445 22.0944C14.2314 19.8557 17.8191 19.8138 20.0578 22.0007C20.4529 22.3866 21.086 22.3792 21.4719 21.9842C21.8579 21.5891 21.8505 20.956 21.4554 20.57C18.4266 17.6112 13.5726 17.668 10.6138 20.6969Z" /></g></svg>`,this.s4=t=>`<svg style="${t}" width="32" height="32" class="csat-smile" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g><circle cx="16" cy="16" r="12" /><path fill-rule="evenodd" clip-rule="evenodd" d="M27.3333 15.9998C27.3333 22.2591 22.2591 27.3332 15.9999 27.3332C9.74069 27.3332 4.66659 22.2591 4.66659 15.9998C4.66659 9.74061 9.74069 4.6665 15.9999 4.6665C22.2591 4.6665 27.3333 9.74061 27.3333 15.9998ZM29.3333 15.9998C29.3333 23.3636 23.3637 29.3332 15.9999 29.3332C8.63612 29.3332 2.66659 23.3636 2.66659 15.9998C2.66659 8.63604 8.63612 2.6665 15.9999 2.6665C23.3637 2.6665 29.3333 8.63604 29.3333 15.9998ZM8.80543 14.947C9.67746 14.947 10.3844 14.2401 10.3844 13.3681C10.3844 12.4961 9.67746 11.7891 8.80543 11.7891C7.9334 11.7891 7.22648 12.4961 7.22648 13.3681C7.22648 14.2401 7.9334 14.947 8.80543 14.947ZM24.7138 13.3681C24.7138 14.2401 24.0069 14.947 23.1349 14.947C22.2628 14.947 21.5559 14.2401 21.5559 13.3681C21.5559 12.4961 22.2628 11.7891 23.1349 11.7891C24.0069 11.7891 24.7138 12.4961 24.7138 13.3681ZM10.3333 18.3004C10.3333 17.7481 9.88554 17.3004 9.33325 17.3004C8.78097 17.3004 8.33325 17.7481 8.33325 18.3004C8.33325 21.964 11.8989 24.9999 15.9997 24.9999C20.0841 24.9999 23.6666 22.1141 23.6666 18.3004C23.6666 17.7481 23.2189 17.3004 22.6666 17.3004C22.1143 17.3004 21.6666 17.7481 21.6666 18.3004C21.6666 20.7321 19.2791 22.9999 15.9997 22.9999C12.7367 22.9999 10.3333 20.6103 10.3333 18.3004Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M16 27.3332C22.2592 27.3332 27.3333 22.2591 27.3333 15.9998C27.3333 9.74061 22.2592 4.6665 16 4.6665C9.74073 4.6665 4.66663 9.74061 4.66663 15.9998C4.66663 22.2591 9.74073 27.3332 16 27.3332ZM16 29.3332C23.3638 29.3332 29.3333 23.3636 29.3333 15.9998C29.3333 8.63604 23.3638 2.6665 16 2.6665C8.63616 2.6665 2.66663 8.63604 2.66663 15.9998C2.66663 23.3636 8.63616 29.3332 16 29.3332Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M8.85907 12.0316C9.40157 11.9281 9.92525 12.284 10.0287 12.8265C10.0564 12.9717 10.1601 13.2453 10.36 13.4648C10.5351 13.657 10.7831 13.8128 11.1886 13.8128C11.6213 13.8128 11.8878 13.6556 12.0674 13.4771C12.2707 13.275 12.3724 13.0311 12.3987 12.9173C12.5228 12.3792 13.0597 12.0436 13.5979 12.1678C14.136 12.2919 14.4716 12.8288 14.3475 13.367C14.1594 14.1821 13.2681 15.8128 11.1886 15.8128C10.1549 15.8128 9.38905 15.3689 8.88141 14.8116C8.39868 14.2815 8.15085 13.6557 8.06416 13.2012C7.96067 12.6587 8.31657 12.1351 8.85907 12.0316ZM12.208 20.6653C12.3343 20.4455 12.4065 20.1907 12.4065 19.919C12.4065 19.0906 11.735 18.419 10.9065 18.419C10.0781 18.419 9.40654 19.0906 9.40654 19.919C9.40654 20.4976 9.73413 20.9997 10.214 21.2499C10.4717 21.6957 10.9962 22.5035 11.8088 23.2468C12.7482 24.1059 14.1201 24.9189 15.9264 24.9189C19.2768 24.9189 21.0063 22.2738 21.5491 21.3694C22.1914 21.1996 22.6649 20.6146 22.6649 19.919C22.6649 19.0906 21.9933 18.419 21.1649 18.419C20.3364 18.419 19.6649 19.0906 19.6649 19.919C19.6649 20.1076 19.6997 20.288 19.7632 20.4542C19.2179 21.3265 18.0297 22.9189 15.9264 22.9189C14.7641 22.9189 13.8519 22.405 13.1586 21.771C12.7483 21.3957 12.4315 20.9926 12.208 20.6653ZM21.9715 12.8265C22.075 12.284 22.5986 11.9281 23.1411 12.0316C23.6836 12.1351 24.0395 12.6587 23.936 13.2012C23.8493 13.6557 23.6015 14.2815 23.1188 14.8116C22.6112 15.3689 21.8453 15.8128 20.8116 15.8128C18.7321 15.8128 17.8408 14.1821 17.6527 13.367C17.5286 12.8288 17.8642 12.2919 18.4023 12.1678C18.9405 12.0436 19.4774 12.3792 19.6015 12.9173C19.6278 13.0311 19.7295 13.275 19.9328 13.4771C20.1124 13.6556 20.3789 13.8128 20.8116 13.8128C21.2171 13.8128 21.4651 13.657 21.6402 13.4648C21.8401 13.2453 21.9438 12.9717 21.9715 12.8265Z" /></g></svg>`,this.i4=t=>`<svg style="${t}" width="32" height="32" class="csat-smile" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g><circle cx="15.8549" cy="16" r="12" /><path fill-rule="evenodd" clip-rule="evenodd" d="M27.3333 15.9998C27.3333 22.2591 22.2591 27.3332 15.9999 27.3332C9.74069 27.3332 4.66659 22.2591 4.66659 15.9998C4.66659 9.74061 9.74069 4.6665 15.9999 4.6665C22.2591 4.6665 27.3333 9.74061 27.3333 15.9998ZM29.3333 15.9998C29.3333 23.3636 23.3637 29.3332 15.9999 29.3332C8.63612 29.3332 2.66659 23.3636 2.66659 15.9998C2.66659 8.63604 8.63612 2.6665 15.9999 2.6665C23.3637 2.6665 29.3333 8.63604 29.3333 15.9998ZM20.3898 19.9999C19.6355 21.1609 18.2361 21.9998 16.4999 21.9998C14.7637 21.9998 13.3643 21.1609 12.61 19.9999L16.3447 19.9998L20.3898 19.9999ZM10.3445 19.9327C10.3528 19.9552 10.3612 19.9776 10.3698 20C11.2621 22.3303 13.6698 23.9998 16.4999 23.9998C19.3301 23.9998 21.7377 22.3303 22.63 20C22.8687 19.3768 22.999 18.7063 22.9999 18.0079L22.9999 18.0001C22.5856 17.9998 10.0005 17.9997 9.99992 18.0001C9.99992 18.6762 10.1211 19.3263 10.3445 19.9327ZM11.0107 13.3681C11.0107 14.2401 10.3038 14.947 9.43173 14.947C8.5597 14.947 7.85278 14.2401 7.85278 13.3681C7.85278 12.4961 8.5597 11.7891 9.43173 11.7891C10.3038 11.7891 11.0107 12.4961 11.0107 13.3681ZM22.7651 14.947C23.6371 14.947 24.344 14.2401 24.344 13.3681C24.344 12.4961 23.6371 11.7891 22.7651 11.7891C21.893 11.7891 21.1861 12.4961 21.1861 13.3681C21.1861 14.2401 21.893 14.947 22.7651 14.947Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M15.8563 27.3332C22.1155 27.3332 27.1896 22.2591 27.1896 15.9998C27.1896 9.74061 22.1155 4.6665 15.8563 4.6665C9.59702 4.6665 4.52292 9.74061 4.52292 15.9998C4.52292 22.2591 9.59702 27.3332 15.8563 27.3332ZM15.8563 29.3332C23.22 29.3332 29.1896 23.3636 29.1896 15.9998C29.1896 8.63604 23.22 2.6665 15.8563 2.6665C8.49246 2.6665 2.52292 8.63604 2.52292 15.9998C2.52292 23.3636 8.49246 29.3332 15.8563 29.3332Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M8.13748 17.3828C8.68965 17.3713 9.12789 16.9143 9.11632 16.3621C9.11322 16.2143 9.15772 15.9251 9.30766 15.6688C9.43893 15.4444 9.64917 15.2405 10.0458 15.1562C10.469 15.0662 10.7624 15.1646 10.9751 15.3019C11.2161 15.4573 11.3662 15.6747 11.4156 15.7805C11.6489 16.2811 12.2439 16.4977 12.7444 16.2644C13.245 16.031 13.4616 15.4361 13.2283 14.9355C12.8749 14.1773 11.664 12.7675 9.62996 13.1999C8.61882 13.4148 7.962 14.0082 7.58134 14.659C7.21936 15.2778 7.10707 15.9414 7.11676 16.404C7.12832 16.9562 7.58532 17.3944 8.13748 17.3828Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M22.1076 14.4132C21.5985 14.6272 21.0123 14.388 20.7983 13.8789C20.741 13.7426 20.5827 13.4965 20.3415 13.3233C20.1303 13.1717 19.8553 13.0709 19.4587 13.1552C19.0354 13.2452 18.8074 13.4544 18.6689 13.6663C18.512 13.9063 18.4633 14.166 18.4612 14.2827C18.4517 14.8349 17.9963 15.2748 17.4441 15.2652C16.8919 15.2557 16.452 14.8003 16.4615 14.2481C16.476 13.4117 17.0088 11.6313 19.0428 11.1989C20.054 10.984 20.8954 11.259 21.5078 11.6986C22.0902 12.1167 22.4627 12.6773 22.642 13.1038C22.856 13.613 22.6168 14.1992 22.1076 14.4132Z" /><circle cx="16.3155" cy="20.4454" r="1.5" transform="rotate(-12 18.3156 20.4454)" /><ellipse cx="16.7864" cy="22.6602" rx="1.5" ry="1.5" transform="rotate(-12 18.7864 22.6602)" /><path class="selected" d="M14.8836 20.8105L17.769 20.1972C17.769 20.1972 17.7025 20.883 17.7911 21.3029C17.8804 21.7259 18.2223 22.3301 18.2223 22.3301L15.3369 22.9434C15.3369 22.9434 15.4275 22.2485 15.3368 21.8246C15.2466 21.4038 14.8836 20.8105 14.8836 20.8105Z" /><path class="selected" d="M25.4564 26.6632C25.1034 26.9837 24.5599 26.9837 24.2069 26.6585L24.1558 26.6121C21.717 24.4056 20.1237 22.9609 20.1841 21.1586C20.212 20.3689 20.6161 19.6117 21.2711 19.1657C22.4974 18.3296 24.0118 18.7198 24.8293 19.6767C25.6469 18.7198 27.1612 18.325 28.3876 19.1657C29.0426 19.6117 29.4467 20.3689 29.4746 21.1586C29.5396 22.9609 27.9416 24.4056 25.5029 26.6214L25.4564 26.6632Z" /></g></svg>`,this.o4=(t,e,n)=>`<svg style="${e}" class="csat-star" data-rating="${t}" width="32" height="32" viewBox="0 0 32 32" stroke="${n}" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M16.0003 24.5494L22.4668 28.4371C23.651 29.1496 25.1001 28.0963 24.7885 26.7643L23.0745 19.4536L28.793 14.5281C29.837 13.6297 29.2761 11.926 27.9049 11.8175L20.3788 11.1825L17.4339 4.27445C16.9041 3.01985 15.0966 3.01985 14.5668 4.27445L11.6218 11.167L4.09578 11.802C2.72458 11.9105 2.16363 13.6142 3.20762 14.5126L8.92616 19.4381L7.21216 26.7488C6.90052 28.0809 8.34963 29.1341 9.53385 28.4216L16.0003 24.5494Z"/></svg>`,this.r4=(t,e,n)=>`<svg style="${e}" class="csat-number" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none"><path class="border" d="M0.5 4C0.5 2.067 2.067 0.5 4 0.5H28C29.933 0.5 31.5 2.067 31.5 4V28C31.5 29.933 29.933 31.5 28 31.5H4C2.067 31.5 0.5 29.933 0.5 28V4Z" stroke="${n}"/>${t}</svg>`,this.a4=t=>`<path class="number" d="M17.8906 21.4219H16.0547V14.0469C16.0547 13.1667 16.0755 12.4688 16.1172 11.9531C15.9974 12.0781 15.849 12.2161 15.6719 12.3672C15.5 12.5182 14.9167 12.9974 13.9219 13.8047L13 12.6406L16.3594 10H17.8906V21.4219Z" fill="${t}"/>`,this.l4=t=>`<path class="number" d="M20.4239 22.6205H11.5757V21.0312L14.9418 17.6473C15.9358 16.6294 16.5935 15.9092 16.915 15.4865C17.2424 15.058 17.4804 14.6562 17.6293 14.2812C17.7781 13.9062 17.8525 13.5044 17.8525 13.0758C17.8525 12.4865 17.6739 12.0223 17.3168 11.683C16.9656 11.3437 16.4775 11.174 15.8525 11.174C15.3525 11.174 14.8674 11.2663 14.3971 11.4508C13.9328 11.6353 13.3941 11.9687 12.781 12.4508L11.6471 11.0669C12.3733 10.4538 13.0787 10.0193 13.7632 9.76332C14.4477 9.50737 15.1769 9.37939 15.9507 9.37939C17.165 9.37939 18.1382 9.69785 18.8703 10.3348C19.6025 10.9657 19.9685 11.8169 19.9685 12.8883C19.9685 13.4776 19.8614 14.0371 19.6471 14.5669C19.4388 15.0967 19.1144 15.6443 18.6739 16.2098C18.2394 16.7693 17.5132 17.5282 16.4953 18.4865L14.2275 20.683V20.7723H20.4239V22.6205Z" fill="${t}"/>`,this.c4=t=>`<path class="number" d="M20.0047 12.4775C20.0047 13.3049 19.7636 13.9954 19.2815 14.549C18.7993 15.0966 18.1207 15.4656 17.2457 15.6561V15.7275C18.2934 15.8585 19.0791 16.1859 19.6029 16.7097C20.1267 17.2275 20.3886 17.918 20.3886 18.7811C20.3886 20.0371 19.9451 21.0073 19.0582 21.6918C18.1713 22.3704 16.9094 22.7097 15.2725 22.7097C13.8261 22.7097 12.6059 22.4746 11.6118 22.0043V20.1383C12.1654 20.4121 12.7517 20.6234 13.3707 20.7722C13.9898 20.921 14.585 20.9954 15.1565 20.9954C16.1684 20.9954 16.9243 20.8079 17.4243 20.4329C17.9243 20.0579 18.1743 19.4775 18.1743 18.6918C18.1743 17.9954 17.8975 17.4835 17.344 17.1561C16.7904 16.8287 15.9213 16.665 14.7368 16.665H13.6029V14.9597H14.7547C16.838 14.9597 17.8797 14.2394 17.8797 12.799C17.8797 12.2394 17.6981 11.8079 17.335 11.5043C16.9719 11.2008 16.4362 11.049 15.7279 11.049C15.2338 11.049 14.7576 11.1204 14.2993 11.2633C13.841 11.4002 13.2993 11.671 12.6743 12.0758L11.6475 10.6115C12.844 9.73052 14.2338 9.29004 15.8172 9.29004C17.1326 9.29004 18.1594 9.57278 18.8975 10.1383C19.6356 10.7037 20.0047 11.4835 20.0047 12.4775Z" fill="${t}"/>`,this.h4=t=>`<path class="number" d="M20.8841 19.6966H19.1251V22.5449H17.0805V19.6966H11.1162V18.0806L17.0805 9.45557H19.1251V17.9556H20.8841V19.6966ZM17.0805 17.9556V14.6788C17.0805 13.5121 17.1103 12.5568 17.1698 11.8127H17.0984C16.9317 12.2056 16.6698 12.6818 16.3126 13.2413L13.0716 17.9556H17.0805Z" fill="${t}"/>`,this.u4=t=>`<path class="number" d="M15.9556 14.2856C17.271 14.2856 18.3127 14.6338 19.0806 15.3302C19.8484 16.0266 20.2324 16.9761 20.2324 18.1784C20.2324 19.5713 19.7949 20.6606 18.9199 21.4463C18.0508 22.2261 16.8127 22.6159 15.2056 22.6159C13.7472 22.6159 12.6014 22.3808 11.7681 21.9106V20.0088C12.2502 20.2826 12.8038 20.4939 13.4288 20.6427C14.0538 20.7915 14.6341 20.8659 15.1699 20.8659C16.1163 20.8659 16.8365 20.6546 17.3306 20.232C17.8246 19.8094 18.0716 19.1903 18.0716 18.3749C18.0716 16.8153 17.0776 16.0356 15.0895 16.0356C14.8097 16.0356 14.4645 16.0653 14.0538 16.1249C13.6431 16.1784 13.2829 16.2409 12.9734 16.3124L12.0359 15.7588L12.5359 9.38379H19.3216V11.2499H14.3841L14.0895 14.482C14.2978 14.4463 14.5508 14.4046 14.8484 14.357C15.152 14.3094 15.521 14.2856 15.9556 14.2856Z" fill="${t}"/>`,this.d4=()=>{const t=this.Q6?this.v4():"";return{1:this.t4(t),2:this.e4(t),3:this.n4(t),4:this.s4(t),5:this.i4(t)}},this.g4=()=>{const t=this.Q6?this.f4():"",e=this.Q6||"#FFA600";return{1:this.o4(1,t,e),2:this.o4(2,t,e),3:this.o4(3,t,e),4:this.o4(4,t,e),5:this.o4(5,t,e)}},this.m4=()=>{const t=this.Q6?this._4():"",e=this.Q6||"#1D6AFF",n=this.Q6?w.P6(this.Q6,80):"#E8E8F4";return{1:this.r4(this.a4(e),t,n),2:this.r4(this.l4(e),t,n),3:this.r4(this.c4(e),t,n),4:this.r4(this.h4(e),t,n),5:this.r4(this.u4(e),t,n)}},this.b4=t=>{switch(t){case"stars":return{...this.g4()};case"numbers":return{...this.m4()};default:return{...this.d4()}}},this.Z6=t,this.Q6=w.W6(e)?e:void 0,this.K6=this.b4(t)}v4(){return[1,2,3,4,5].reduce(((t,e)=>t+`\n                    --csat-${e}-color: ${this.Q6};\n                    --csat-${e}-unchecked-color: ${this.Q6};\n                    --csat-${e}-hover-circle-color: ${w.P6(this.Q6,80)};\n                    --csat-${e}-active-circle-color: ${w.P6(this.Q6,40)};\n                    --csat-${e}-active-path-color: ${this.Q6};\n                `),"")}_4(){return`\n            --csat-number-fill-hover-color: ${w.P6(this.Q6,80)};\n            --csat-number-selected-border-color: ${this.Q6};\n            --csat-number-hover-border-color: ${w.P6(this.Q6,50)};\n        `}f4(){return`--csat-star-color: ${this.Q6};`}}class S{static y4(t){if(!t)return"";const e=Object.keys(t);return e.length?e.reduce(((e,n)=>{const s=this.x4[n];if(!s)return console.warn(`Invalid custom style key: ${n}`),e;return`${e}${`${s}: ${t[n]};`}`}),""):""}C4(t){return t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\s*([:;{},])\s*/g,"$1").replace(/\s+/g," ").replace(/;}/g,"}").replace(/^\s+|\s+$/g,"").trim()}w4(){return this.C4(this.T4)}S4(){const t=[this.I4,this.E4,this.O4,this.L4,this.N4,this.M4,this.A4,this.F4,this.B4,this.R4,this.V4,this.G4,this.U4,this.H4,this.q4,this.j4,this.D4,this.z4,this.P4].join("");return this.C4(t)}constructor(){this.T4="\n        background-color: rgba(0, 0, 0, 0.24);\n        box-sizing: border-box;\n        cursor: default;\n        -ms-text-size-adjust: 100%;\n        -webkit-text-size-adjust: 100%;\n        box-shadow: none;\n        border: none;\n        margin: 0;\n        padding: 0;\n        position: fixed;\n        z-index: 2147483647;\n        overflow: hidden;\n        width: 100vw;\n        height: 100vh;\n        top: 0;\n        left: 0;\n    ",this.I4="\n        #survey-body {\n            /* Colors */\n            --grey-50: #FAFAFD;\n            --grey-200: #E8E8F4;\n            --grey-500: #9F9FB2;\n            --grey-600: #838398;\n            --grey-900: #181825;\n        \n            --group-padding: 16px 32px;\n            --header-padding: 24px 32px 16px;\n            --header-padding-multi-lang: 34px 32px 16px;\n            --question-title-margin-bottom: 16px;\n            --nps-icon-size: 28px;\n            --nps-icon-line-height: 24px;\n            --nps-icon-font-size: 16px;\n            --white-label-padding: 0 12px 4px;\n            --button-line-height: _BUTTON_LINE_HEIGHT_;\n            --button-padding: 3px 12px;\n            --close-button-size: 16px;\n            --select-label-gap: 12px;\n            --select-control-size-checkbox: 18px;\n            --select-control-size-radio: 18px;\n            --select-options-gap: 12px;\n            --textarea-height: 72px;\n            --textarea-padding: 4px 8px;\n            --scroll-width: _SCROLL_WIDTH_;\n            --answer-line-height: _ANSWER_LINE_HEIGHT_;\n            --outline-color: #98A1A6;\n            \n            /* CSAT Icon Colors */\n            --csat-1-color: #F56075;\n            --csat-1-unchecked-color: #FBB5CC;\n            --csat-1-hover-circle-color: #FFECF0;\n            --csat-1-active-circle-color: #FFBDCC;\n            --csat-1-active-path-color: #F42B6D;\n            \n            --csat-2-color: #FF9A0C;\n            --csat-2-unchecked-color: #FFCF86;\n            --csat-2-hover-circle-color: #FFE5BE;\n            --csat-2-active-circle-color: #FFCF86;\n            --csat-2-active-path-color: #F08C00;\n            \n            --csat-3-color: #E7C248;\n            --csat-3-unchecked-color: #F7E96E;\n            --csat-3-hover-circle-color: #FFF8D6;\n            --csat-3-active-circle-color: #FFEB8A;\n            --csat-3-active-path-color: #C1AE01;\n            \n            --csat-4-color: #99D57C;\n            --csat-4-unchecked-color: #C8E9B9;\n            --csat-4-hover-circle-color: #E1F3D8;\n            --csat-4-active-circle-color: #B3E19E;\n            --csat-4-active-path-color: #58AC31;\n            \n            --csat-5-color: #28BC7E;\n            --csat-5-unchecked-color: #77E1B4;\n            --csat-5-hover-circle-color: #CDF4E4;\n            --csat-5-active-circle-color: #77E1B4;\n            --csat-5-active-path-color: #22A06B;\n            \n            --csat-star-color: #FFA600;\n            \n            --csat-number-fill-hover-color: #E7F5FF;\n            --csat-number-selected-border-color: #1D6AFF;\n            --csat-number-hover-border-color: #B1DBFF;\n            \n            /* NPS Colors */\n            --nps-default-color: #457AEE;\n            --nps-checked-background-color: #BDD5FB;\n            --nps-hover-background-color: #EEF5FF;\n            --nps-active-background-color: #EEF5FF;\n        }\n    ",this.E4='\n        /* CSS Reset */\n        * {\n            margin: 0;\n            padding: 0;\n        }\n        *, ::before, ::after {\n            background-repeat: no-repeat;\n            box-sizing: border-box;\n        }\n        ::before, ::after {\n            text-decoration: inherit;\n            vertical-align: inherit;\n        }\n        article, aside, footer, header, nav, section {\n            display: block;\n        }\n        button, input, optgroup, select, textarea {\n            margin: 0;\n        }\n        button, input, select, textarea {\n            background-color: transparent;\n            color: inherit;\n            font-size: inherit;\n            line-height: inherit;\n            font: inherit;\n        }\n        button, input {\n            overflow: visible;\n        }\n        button, select {\n            text-transform: none;\n        }\n        button, html [type="button"], [type="reset"], [type="submit"] {\n            -webkit-appearance: button;\n        }\n        button::-moz-focus-inner, [type="button"]::-moz-focus-inner, [type="reset"]::-moz-focus-inner, [type="submit"]::-moz-focus-inner {\n            border-style: none;\n            padding: 0;\n        }\n        button:-moz-focusring, [type="button"]:-moz-focusring, [type="reset"]:-moz-focusring, [type="submit"]:-moz-focusring {\n            outline: 1px dotted ButtonText;\n        }\n        progress {\n            display: inline-block;\n            vertical-align: baseline;\n        }\n        textarea {\n            overflow: auto;\n            resize: vertical;\n            outline: none;\n        }\n        [type="checkbox"], [type="radio"] {\n            box-sizing: border-box;\n            padding: 0;\n        }\n        [type="number"]::-webkit-inner-spin-button, [type="number"]::-webkit-outer-spin-button {\n            height: auto;\n        }\n        [type="search"] {\n            -webkit-appearance: textfield;\n            outline-offset: -2px;\n        }\n        [type="search"]::-webkit-search-cancel-button, [type="search"]::-webkit-search-decoration {\n            -webkit-appearance: none;\n        }\n        ::-webkit-file-upload-button {\n            -webkit-appearance: button;\n            font: inherit;\n        }\n        input[type="radio"] {\n            position: absolute;\n            opacity: 0;\n        }\n        input[type="radio"] + svg, input[type="radio"] + span {\n            -webkit-transition: all 0.2s;\n            transition: all 0.2s;\n        }\n        input + svg, input + span {\n            cursor: pointer;\n            position: relative;\n        }\n    ',this.O4="\n        .hidden {\n            display: none;\n        }\n        #survey-body {\n            position: fixed;\n            overflow: hidden;\n            width: 100vw;\n            height: 100vh;\n            margin: 0;\n            font-family: _FONT_FAMILY_;\n            font-size: _FONT_SIZE_LARGE_px;\n            font-style: normal;\n            font-weight: 400;\n            line-height: 24px;\n            letter-spacing: 0px;\n            color: #141454;\n        }\n        form {\n            display: flex;\n            flex-direction: column;\n            overflow: auto;\n            border: none;\n        }\n        form.top-border {\n            border-top: 1px solid var(--grey-200);\n        }\n        form.bottom-border {\n            border-bottom: 1px solid var(--grey-200);\n        }\n        .survey-container.no-header form {\n            margin-top: 0;\n        }\n        fieldset {\n            border: 0px;\n            padding: 0px;\n            margin: 0px;\n        }\n        .survey-question-fieldset {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n        .survey-question-title {\n            width: 100%;\n            overflow-wrap: anywhere;\n            font-size: _QUESTION_FONT_SIZE_;\n            font-family: _QUESTION_FONT_FAMILY_;\n            line-height: _QUESTION_LINE_HEIGHT_;\n            color: _QUESTION_COLOR_;\n            font-weight: _QUESTION_FONT_WEIGHT_;\n            margin-bottom: var(--question-title-margin-bottom);\n            white-space: pre-line;\n        }\n        .horizontal-options-container {\n            display: flex;\n            width: 100%;\n            flex-direction: column;\n            align-items: center;\n            gap: 2px;\n        }\n        .horizontal-options {\n            position: relative;\n        }\n        .horizontal-options .options-part {\n            display: flex;\n            flex-wrap: nowrap;\n            gap: 4px;\n        }\n        .horizontal-options, .horizontal-options-labels {\n            display: flex;\n            flex-wrap: nowrap;\n            gap: 4px;\n            justify-content: space-between;\n            align-items: center;\n            flex: 1;\n            min-width: 0;\n        }\n        .horizontal-options-labels {\n            width: 100%;\n            gap: 24px;\n        }\n        .horizontal-options-labels .value-hint {\n            display: none;\n        }\n        .vertical-options {\n            display: flex;\n            flex-direction: column;\n            gap: var(--select-options-gap);\n        }\n        .nps-options-container {\n            max-width: fit-content;\n        }\n        .ellipsis {\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n        }\n    ",this.L4='\n        .dropdown {\n          --dp-bg: var(--grey-50);\n          --dp-width: 110px;\n          --dp-text-color: var(--grey-900);\n          --dp-border-color: var(--grey-200);\n          --dp-radius: 2px;\n          --dp-padding: 6px;\n          --dp-button-height: 20px;\n            \n          /* Chevron */\n          --dp-chevron-size: 12px;\n          --dp-chevron-color: var(--grey-600);\n            \n          /* Listbox (popup) */\n          --dp-popup-shadow: 0 0 16px rgba(0, 0, 0, .1);;\n            \n          /* Option */\n          --dp-option-padding: 4px;\n          --dp-option-hover: _BUTTON_BACKGROUND_COLOUR_10;\n          --dp-option-active: _BUTTON_BACKGROUND_COLOUR_20;\n\n          --dp-focus-outline: 1px solid var(--outline-color);\n          --dp-focus-offset: 1px;\n        }\n        .dropdown {\n          width: var(--dp-width);\n          position: absolute;\n          top: 10px;\n          right: 40px;\n          font-size: 11px;\n          font-style: normal;\n          font-weight: 400;\n          line-height: 16px;\n          color: var(--dp-text-color);\n          font-family: _FONT_FAMILY_;\n        }\n        .dropdown__button {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          gap: 8px;\n          height: var(--dp-button-height);\n          padding: var(--dp-padding);\n          background: var(--dp-bg);\n          color: var(--dp-text-color);\n          border: 1px solid var(--dp-border-color);\n          border-radius: var(--dp-radius);\n          cursor: default;\n          appearance: none;\n          -webkit-appearance: none;\n          transition: background 0.3s, border 0.3s;\n          font-size: inherit;\n          font-style: inherit;\n          font-weight: inherit;\n          line-height: inherit;\n          color: inherit;\n          font-family: inherit;\n        }\n        .dropdown__chevron {\n            transition: transform 0.3s;\n            min-width: var(--dp-chevron-size);\n            min-height: var(--dp-chevron-size);\n        }\n        .dropdown__button:hover {\n          background: var(--dp-bg);\n          border: 1px solid _BUTTON_BACKGROUND_COLOUR_75;\n        }\n        .dropdown__button:hover .dropdown__chevron path {\n          fill: _BUTTON_BACKGROUND_COLOUR_75;\n        }\n        .dropdown__button:focus-visible {\n          outline: var(--dp-focus-outline);\n          outline-offset: var(--dp-focus-offset);\n        }\n        .dropdown__button.open {\n            border: 1px solid _BUTTON_BACKGROUND_COLOUR_ !important;\n        }\n        .dropdown__button.open .dropdown__chevron {\n            transform: rotate(180deg);\n        }\n        .dropdown__button.open .dropdown__chevron path {\n            fill: _BUTTON_BACKGROUND_COLOUR_;\n        }\n        .dropdown__value {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          text-align: left;\n          font-size: inherit;\n          font-style: inherit;\n          font-weight: inherit;\n          line-height: inherit;\n          color: inherit;\n          font-family: inherit;\n        }\n        .dropdown__chevron-container {\n            width: 12px;\n            height: 12px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            transition: transform 0.3s;\n        }\n        .dropdown__listbox {\n          display: none;\n          flex-direction: column;\n          gap: 2px;\n          position: absolute;\n          z-index: 999;\n          width: 100%;\n          margin-top: 2px;\n          padding: 2px;\n          list-style: none;\n          outline: none;\n          background: var(--dp-bg);\n          color: var(--dp-text-color);\n          border-radius: var(--dp-radius);\n          box-shadow: var(--dp-popup-shadow);\n          max-height: 260px;\n          overflow: auto;\n        }\n        .dropdown[aria-open="true"] .dropdown__listbox {\n            display: flex;\n        }\n        .dropdown__option {\n          padding: var(--dp-option-padding);\n          border-radius: 2px;\n          cursor: pointer;\n          outline: none;\n          color: inherit;\n          background: transparent;\n          min-height: fit-content;\n        }\n        .dropdown__option:hover {\n          background: var(--dp-option-hover);\n        }\n        .dropdown__option:focus-visible {\n          background: var(--dp-option-hover);\n          outline: none;\n        }\n        .dropdown__option[aria-selected="true"] {\n          background: var(--dp-option-active);\n        }\n    ',this.N4="\n        .survey-container {\n            display: none;\n            flex-direction: column;\n            transition: transform 300ms;\n            width: 420px;\n            background: _BACKGROUND_COLOUR_;\n            color: _TEXT_COLOUR_;\n            box-shadow: 0px 2px 4px rgb(0 0 0 / 20%);\n            border-radius: _BACKGROUND_BORDER_RADIUS_;\n            max-height: 90vh;\n            overflow: hidden;\n            position: absolute;\n        }\n        .survey-container.ready {\n            display: flex;\n        }\n        .survey-container.left {\n            top: 50%;\n            left: 0;\n            transform: translate(-100%,-50%);\n            animation: animationRightLeft 0.3s linear forwards;\n        }\n        .survey-container.right {\n            top:50%;\n            right: var(--scroll-width);\n            transform: translate(100%,-50%);\n            animation: animationRightLeft 0.3s linear forwards;\n        }\n        .survey-container.bottom-left {\n            bottom: 0;\n            left: 16px;\n            transform: translateY(100%);\n            animation: animationBottom 0.3s linear forwards;\n        }\n        .survey-container.bottom-right {\n            bottom: 0;\n            right: var(--scroll-width);\n            transform: translateY(100%);\n            animation: animationBottom 0.3s linear forwards;\n        }\n        .survey-container.center {\n            top: 0;\n            left: 50%;\n            transform: translate(-50%,-100%);\n            animation: animationCenter 0.3s linear forwards;\n        }\n        \n        @keyframes animationRightLeft {\n          to {\n            transform: translate(0, -50%);\n          }\n        }\n        \n        @keyframes animationBottom {\n          to {\n            transform: translateY(0);\n          }\n        }\n        \n        @keyframes animationCenter {\n          to {\n            top: 50%;\n            transform: translate(-50%, -50%);\n          }\n        }\n        \n        .visible {\n            opacity: 1 !important;\n        }\n        button#closex {\n            font-size: var(--close-button-size);\n            width: var(--close-button-size);\n            height: var(--close-button-size);\n            position: absolute;\n            top: 12px;\n            right: 12px;\n            cursor: pointer;\n            background-color: transparent;\n            padding: 0;\n            margin: 0;\n        }\n        button#closex:focus-visible {\n            outline: 1px solid var(--outline-color);\n        }\n        button#closex img {\n            width: var(--close-button-size);\n            height: var(--close-button-size);\n        }\n    ",this.M4="\n        header {\n            width: 100%;\n            display: flex;\n            flex-direction: column;\n            gap: 8px;\n            text-align: _TEXT_ALIGN_;\n            padding: var(--header-padding);\n        }\n        header.multi-language-support {\n            padding: var(--header-padding-multi-lang);\n        }\n        header .img-container {\n            display: flex;\n            justify-content: _IMAGE_POSITION_STYLE_;\n        }\n        header .img-container img {\n            margin: 0;\n            width: _LOGO_IMAGE_WIDTH_;\n            height: _LOGO_IMAGE_HEIGHT_;\n        }\n        header img {\n            display: block;\n            max-height: 40px;\n        }\n        header p {\n            line-height: 24px;\n        }\n        header.thankyou {\n        }\n        header.thankyou img {\n        }\n        header.thankyou #gb_feedback_thankyou {\n            color: _QUESTION_COLOR_;\n            font-size: _QUESTION_FONT_SIZE_;\n            font-family: _QUESTION_FONT_FAMILY_;\n            line-height: _QUESTION_LINE_HEIGHT_;\n            font-weight: _QUESTION_FONT_WEIGHT_;\n            white-space: pre-wrap;\n        }\n        header.bold p {\n            font-size: 18px;\n            font-weight: 600;\n        }\n        #gb_feedback_header {\n            overflow-wrap: anywhere;\n            color: _MAIN_TITLE_COLOR_;\n            font-size: _MAIN_TITLE_FONT_SIZE_;\n            font-family: _MAIN_TITLE_FONT_FAMILY_;\n            font-weight: _MAIN_TITLE_FONT_WEIGHT_;\n            line-height: _MAIN_TITLE_LINE_HEIGHT_;\n            white-space: pre-line;\n        }\n    ",this.A4="\n        .gb-voc_group {\n            text-align: _TEXT_ALIGN_;\n            padding: var(--group-padding);\n            flex: 1;\n            min-width: 0;\n            transition: box-shadow 0.3s;\n            box-shadow: inset 0 0 0 0 rgba(0,0,0,0.001);\n        }\n        .gb-voc_group p.missing {\n            margin: 0;\n            display: none;\n            color: red;\n            font-size: 11px;\n        }\n        .gb-voc_group.missing {\n            box-shadow: inset 0px 0px 200px 200px #FFECF0;\n        }\n        .gb-voc_group.missing p {\n            display: inline;\n        }\n        .gb-voc_error p {\n            color: red;\n        }\n        .gb-voc_paging {\n        }\n        .gb-voc_group fieldset {\n            text-align: _TEXT_ALIGN_;\n        }\n        .screen-reader {\n            position: fixed;\n            opacity: 0;\n            pointer-events: none;\n        }\n    ",this.F4="\n        button, #btnPrivacyPolicy {\n            display: block;\n            height: fit-content;\n            font-size: _BUTTON_FONT_SIZE_;\n            font-weight: _BUTTON_FONT_WEIGHT_;\n            font-family: _BUTTON_FONT_FAMILY_;\n            line-height: var(--button-line-height);\n            padding: var(--button-padding);\n            border: none;\n            background-color: _BUTTON_BACKGROUND_COLOUR_;\n            color: _BUTTON_TEXT_COLOUR_;\n            border-radius: _BUTTON_BORDER_RADIUS_;\n        }\n        button:hover {\n            cursor: pointer;\n        }\n        .gb-voc_submit {\n            display: flex;\n            justify-content: _BUTTON_POSITION_;\n        }\n        .privacy-buttons-container {\n            gap: 16px;\n            align-items: center;\n            justify-content: flex-end !important;\n        }\n        #btnPrivacyPolicy {\n            display: flex;\n            align-items: center;\n            background-color: transparent;\n            color: var(--grey-600);\n            text-decoration: none;\n        }\n        #btnPrivacyPolicy:hover {\n            text-decoration: underline;\n        }\n    ",this.B4="\n        footer.white-label {\n            display: flex;\n            justify-content: flex-end;\n            align-items: center;\n            gap: 4px;\n            color: var(--grey-900);\n            font-size: 12px;\n            font-family: _DEFAULT_FONT_FAMILY_;\n            font-weight: 400;\n            padding: var(--white-label-padding);\n        }\n        footer.white-label a {\n            display: flex;\n            align-items: center;\n        }\n        footer.white-label a img {\n            height: 10px;\n        }\n        .privacy {\n            display: flex;\n            flex-direction: column;\n            gap: 16px;\n            text-align: inherit;\n        }\n        .privacy img {\n            min-height: 56px;\n        }\n        .privacy p {\n            font-weight: 400;\n            color: _QUESTION_COLOR_;\n            font-size: _QUESTION_FONT_SIZE_;\n            font-family: _QUESTION_FONT_FAMILY_;\n            line-height: _QUESTION_LINE_HEIGHT_;\n            font-weight: _QUESTION_FONT_WEIGHT_;\n        }\n    ",this.R4="\n        header.thankyou {\n            margin: 24px 0;\n        }\n        header.thankyou #gb_feedback_thankyou {\n            color: _QUESTION_COLOR_;\n            font-size: _QUESTION_FONT_SIZE_;\n            font-family: _QUESTION_FONT_FAMILY_;\n            line-height: _QUESTION_LINE_HEIGHT_;\n            font-weight: _QUESTION_FONT_WEIGHT_;\n        }\n    ",this.V4="\n        input.csat + label {\n            display: flex;\n            width: fit-content;\n            height: fit-content;\n            align-items: center;\n            justify-content: center;\n        }\n        input.csat + label svg.csat-smile {\n            overflow: visible;\n            cursor: pointer;\n            vertical-align: middle;\n            position: relative;\n            z-index: 2;\n        }\n        input.csat + label svg.csat-smile g {\n            filter: none;\n        }\n        input.csat + label svg.csat-smile ellipse,\n        input.csat + label svg.csat-smile rect,\n        input.csat + label svg.csat-smile circle.selected,\n        input.csat + label svg.csat-smile path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='1'] + label svg.csat-smile circle,\n        input.csat[val='2'] + label svg.csat-smile circle,\n        input.csat[val='3'] + label svg.csat-smile circle,\n        input.csat[val='4'] + label svg.csat-smile circle {\n            display: none;\n            fill: white;\n        }\n        input.csat + label svg.csat-smile circle:not(.selected) {\n            display: inline;\n            fill: white;\n        }\n        /* CSAT Color States */\n        input.csat[val='1'] + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-1-color);\n        }\n        input.csat[val='2'] + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-2-color);\n        }\n        input.csat[val='3'] + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-3-color);\n        }\n        input.csat[val='4'] + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-4-color);\n        }\n        input.csat[val='5'] + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-5-color);\n        }\n        /* CSAT Unchecked States */\n        input.csat[val='1'].unchecked + label svg.csat-smile circle {\n            fill: white;\n        }\n        input.csat[val='1'].unchecked + label svg.csat-smile path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='1'].unchecked + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-1-unchecked-color);\n        }\n        input.csat[val='2'].unchecked + label svg.csat-smile circle {\n            fill: white;\n        }\n        input.csat[val='2'].unchecked + label svg.csat-smile path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='2'].unchecked + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-2-unchecked-color);\n        }\n        input.csat[val='3'].unchecked + label svg.csat-smile g {\n            filter: none;\n        }\n        input.csat[val='3'].unchecked + label svg.csat-smile rect {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='3'].unchecked + label svg.csat-smile circle {\n            fill: white;\n        }\n        input.csat[val='3'].unchecked + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-3-unchecked-color);\n        }\n        input.csat[val='3'].unchecked + label svg.csat-smile path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='4'].unchecked + label svg.csat-smile g {\n            filter: none;\n        }\n        input.csat[val='4'].unchecked + label svg.csat-smile circle {\n            fill: white;\n        }\n        input.csat[val='4'].unchecked + label svg.csat-smile path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='4'].unchecked + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-4-unchecked-color);\n        }\n        input.csat[val='5'].unchecked + label svg.csat-smile g {\n            filter: none;\n        }\n        input.csat[val='5'].unchecked + label svg.csat-smile ellipse {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='5'].unchecked + label svg.csat-smile circle.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='5'].unchecked + label svg.csat-smile circle:not(.selected) {\n            fill: white;\n        }\n        input.csat[val='5'].unchecked + label svg.csat-smile path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='5'].unchecked + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-5-unchecked-color);\n        }\n        \n        /* CSAT Hover States */\n        input.csat[val='1'] + label svg.csat-smile:hover g {\n            filter: url(#drop_shadow);\n        }\n        input.csat[val='1'] + label svg.csat-smile:hover circle {\n            display: inline;\n            fill: var(--csat-1-hover-circle-color);\n        }\n        input.csat[val='1'] + label svg.csat-smile:hover path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='1'] + label svg.csat-smile:hover path:not(.selected) {\n            display: inline;\n            fill: var(--csat-1-color);\n        }\n        input.csat[val='2'] + label svg.csat-smile:hover g {\n            filter: url(#drop_shadow);\n        }\n        input.csat[val='2'] + label svg.csat-smile:hover circle {\n            display: inline;\n            fill: var(--csat-2-hover-circle-color);\n        }\n        input.csat[val='2'] + label svg.csat-smile:hover path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='2'] + label svg.csat-smile:hover path:not(.selected) {\n            display: inline;\n            fill: var(--csat-2-color);\n        }\n        input.csat[val='3'] + label svg.csat-smile:hover g {\n            filter: url(#drop_shadow);\n        }\n        input.csat[val='3'] + label svg.csat-smile:hover rect {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='3'] + label svg.csat-smile:hover circle {\n            display: inline;\n            fill: var(--csat-3-hover-circle-color);\n        }\n        input.csat[val='3'] + label svg.csat-smile:hover path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='3'] + label svg.csat-smile:hover path:not(.selected) {\n            display: inline;\n            fill: var(--csat-3-color);\n        }\n        input.csat[val='4'] + label svg.csat-smile:hover g {\n            filter: url(#drop_shadow);\n        }\n        input.csat[val='4'] + label svg.csat-smile:hover circle {\n            display: inline;\n            fill: var(--csat-4-hover-circle-color);\n        }\n        input.csat[val='4'] + label svg.csat-smile:hover path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='4'] + label svg.csat-smile:hover path:not(.selected) {\n            display: inline;\n            fill: var(--csat-4-color);\n        }\n        input.csat[val='5'] + label svg.csat-smile:hover g {\n            filter: url(#drop_shadow);\n        }\n        input.csat[val='5'] + label svg.csat-smile:hover ellipse {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='5'] + label svg.csat-smile:hover circle.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='5'] + label svg.csat-smile:hover circle:not(.selected) {\n            display: inline;\n            fill: var(--csat-5-hover-circle-color);\n        }\n        input.csat[val='5'] + label svg.csat-smile:hover path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='5'] + label svg.csat-smile:hover path:not(.selected) {\n            display: inline;\n            fill: var(--csat-5-color);\n        }\n        \n        /* CSAT Active States */\n        input.csat:active + label svg.csat-smile g {\n            filter: url(#drop_shadow);\n        }\n        input.csat:active + label svg.csat-smile ellipse {\n            display: none;\n            fill: white;\n        }\n        input.csat:active + label svg.csat-smile circle.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='1']:active + label svg.csat-smile circle {\n            display: inline;\n            fill: var(--csat-1-active-circle-color);\n        }\n        input.csat[val='2']:active + label svg.csat-smile circle {\n            display: inline;\n            fill: var(--csat-2-active-circle-color);\n        }\n        input.csat[val='3']:active + label svg.csat-smile circle {\n            display: inline;\n            fill: var(--csat-3-active-circle-color);\n        }\n        input.csat[val='4']:active + label svg.csat-smile circle {\n            display: inline;\n            fill: var(--csat-4-active-circle-color);\n        }\n        input.csat[val='5']:active + label svg.csat-smile circle:not(.selected) {\n            display: inline;\n            fill: var(--csat-5-active-circle-color);\n        }\n        input.csat:active + label svg.csat-smile path.selected {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='1']:active + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-1-active-path-color);\n        }\n        input.csat[val='2']:active + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-2-active-path-color);\n        }\n        input.csat[val='3']:active + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-3-active-path-color);\n        }\n        input.csat[val='4']:active + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-4-active-path-color);\n        }\n        input.csat[val='5']:active + label svg.csat-smile path:not(.selected) {\n            display: inline;\n            fill: var(--csat-5-active-path-color);\n        }\n        \n        /* CSAT Checked States */\n        input.csat:checked + label svg.csat-smile g {\n            filter: url(#drop_shadow)\n        }\n        input.csat[val='1']:checked + label svg.csat-smile circle {\n            display: inline;\n            fill: var(--csat-1-active-circle-color);\n        }\n        input.csat[val='1']:checked + label svg.csat-smile path.selected {\n            display: inline;\n            fill: var(--csat-1-active-path-color);\n        }\n        input.csat[val='1']:checked + label svg.csat-smile path:not(.selected) {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='2']:checked + label svg.csat-smile circle {\n            display: inline;\n            fill: var(--csat-2-active-circle-color);\n        }\n        input.csat[val='2']:checked + label svg.csat-smile path.selected {\n            display: inline;\n            fill: var(--csat-2-active-path-color);\n        }\n        input.csat[val='2']:checked + label svg.csat-smile path:not(.selected) {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='3']:checked + label svg.csat-smile rect {\n            display: inline;\n            fill: var(--csat-3-active-path-color);\n        }\n        input.csat[val='3']:checked + label svg.csat-smile circle {\n            display: inline;\n            fill: var(--csat-3-active-circle-color);\n        }\n        input.csat[val='3']:checked + label svg.csat-smile path.selected {\n            display: inline;\n            fill: var(--csat-3-active-path-color);\n        }\n        input.csat[val='3']:checked + label svg.csat-smile path:not(.selected) {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='4']:checked + label svg.csat-smile circle {\n            display: inline;\n            fill: var(--csat-4-active-circle-color);\n        }\n        input.csat[val='4']:checked + label svg.csat-smile path:not(.selected) {\n            display: none;\n            fill: white;\n        }\n        input.csat[val='4']:checked + label svg.csat-smile path.selected {\n            display: inline;\n            fill: var(--csat-4-active-path-color);\n        }\n        input.csat[val='5']:checked + label svg.csat-smile ellipse {\n            display: inline;\n            fill: var(--csat-5-active-path-color);\n        }\n        input.csat[val='5']:checked + label svg.csat-smile path.selected {\n            display: inline;\n            fill: var(--csat-5-active-path-color);\n        }\n        input.csat[val='5']:checked + label svg.csat-smile circle.selected {\n            display: inline;\n            fill: var(--csat-5-active-circle-color);\n        }\n        input.csat[val='5']:checked + label svg.csat-smile circle:not(.selected) {\n            display: inline;\n            fill: var(--csat-5-active-circle-color);\n        }\n        input.csat[val='5']:checked + label svg.csat-smile path:not(.selected) {\n            display: none;\n            fill: white;\n        }\n        \n        /* Focus States */\n        input.csat:focus + label {\n            position: relative;\n        }\n        .smiles input.csat:focus + label:before {\n            content: '';\n            display: block;\n            width: calc(100%);\n            height: calc(100%);\n            position: absolute;\n            top: 0;\n            left: 0;\n            border: 1px solid var(--outline-color);\n            border-radius: 50%;\n        }\n    ",this.G4='\n        .stars .star-filled + label .csat-star path {\n            fill: var(--csat-star-color);\n        }\n        .stars input.csat:focus + label:before {\n            content: "";\n            display: block;\n            width: calc(100% + 4px);\n            height: calc(100% + 4px);\n            position: absolute;\n            top: -2px;\n            left: -2px;\n            border: 1px solid var(--outline-color);\n            border-radius: 4px;\n            pointer-events: none;\n        }\n        .csat-star {\n            position: relative;\n            cursor: pointer;\n        }\n        .csat-star path {\n            fill: none;\n        }\n        .csat-star.filled path {\n            fill: var(--csat-star-color);\n        }\n    ',this.U4='\n        .numbers input.csat:checked + label .csat-number {\n            fill: var(--csat-number-fill-hover-color);\n        }\n        .numbers input.csat:checked + label .csat-number .border {\n            stroke: var(--csat-number-selected-border-color);\n        }\n        .numbers input.csat:checked .csat-number .border {\n            stroke: var(--csat-number-selected-border-color);\n        }\n        .numbers input.csat:focus + label:before {\n            content: "";\n            display: block;\n            width: calc(100% + 4px);\n            height: calc(100% + 4px);\n            position: absolute;\n            top: -2px;\n            left: -2px;\n            border: 1px solid var(--outline-color);\n            border-radius: 4px;\n            pointer-events: none;\n        }\n        .csat-number {\n            fill: white;\n            position: relative;\n            cursor: pointer;\n        }\n        .csat-number:hover {\n            fill: var(--csat-number-fill-hover-color);\n        }\n        .csat-number:hover .border {\n            stroke: var(--csat-number-hover-border-color);\n        }\n        .csat-number.selected {\n            fill: var(--csat-number-fill-hover-color);\n        }\n        .csat-number.selected .border {\n            stroke: var(--csat-number-selected-border-color);\n        }\n    ',this.H4="\n        textarea {\n            min-height: var(--textarea-height);\n            height: var(--textarea-height);\n            padding: var(--textarea-padding);\n            resize: none;\n            font-size: _ANSWER_FONT_SIZE_;\n            line-height: _ANSWER_LINE_HEIGHT_;\n            color: #000000;\n            font-weight: _ANSWER_FONT_WEIGHT_;\n            font-family: _ANSWER_FONT_FAMILY_;\n            background: #F8F9F9;\n            border: 1px solid #E5EAF0;\n            box-sizing: border-box;\n            border-radius: 4px;\n            width: 100%;\n            vertical-align: middle;\n        }\n        textarea:hover {\n            background-color: #ECF0F4;\n            border-color: #C4C4C4;\n        }\n        textarea:focus {\n            background-color: #F8F9F9;\n            border-color: _ACTIVE_STATE_COLOR_;\n            box-shadow: 0px 0px 4px _TEXT_AREA_SHADOW_;\n        }\n    ",this.q4="\n        .gb-voc_csat fieldset {\n            display: flex;\n            justify-content: center;\n        }\n        .gb-voc_csat p.missing {\n            clear: both;\n        }\n        .csatworst, .csatbest {\n            display: inline-block;\n            width: 110px;\n            max-width: 110px;\n            overflow-wrap: break-word;\n            color: _ANSWER_COLOR_;\n            font-size: _ANSWER_FONT_SIZE_;\n            font-family: _ANSWER_FONT_FAMILY_;\n            line-height: _ANSWER_LINE_HEIGHT_;\n            font-weight: _ANSWER_FONT_WEIGHT_;\n        }\n        .csatworst {\n            position: relative;\n            float: left;\n            text-align: right;\n            margin-left: 12px;\n        }\n        .csatbest {\n            position: relative;\n            float: right;\n            text-align: left;\n            margin-right: 10px;\n        }\n    ",this.j4='\n        .gb-voc_nps legend {\n            text-align: _TEXT_ALIGN_;\n        }\n        .gb-voc_nps fieldset label {\n            display: inline-block;\n        }\n        .gb-voc_nps p.missing {\n            clear: both;\n        }\n        input.nps + span {\n            width: var(--nps-icon-size);\n            height: var(--nps-icon-size);\n            line-height: var(--nps-icon-line-height);\n            font-size: var(--nps-icon-font-size);\n            display: inline-block;\n            border: 2px solid var(--nps-default-color);\n            border-radius: 50%;\n            text-align: center;\n            font-family: _FONT_FAMILY_;\n            color: var(--nps-default-color);\n            background-color: white;\n            font-weight: 600;\n        }\n        input.nps.unchecked + span {\n            color: var(--nps-default-color);\n            border-color: var(--nps-default-color);\n            background-color: white;\n        }\n        input.nps:hover + span {\n            background-color: var(--nps-hover-background-color);\n        }\n        input.nps:focus + span:before {\n            content: "";\n            display: block;\n            width: calc(100% + 10px);\n            height: calc(100% + 10px);\n            position: absolute;\n            top: -5px;\n            left: -5px;\n            border: 2px solid var(--outline-color);\n            border-radius: 50%;\n        }\n        input.nps:active + span {\n            color: var(--nps-default-color);\n            border-color: var(--nps-default-color);\n            background-color: var(--nps-active-background-color);\n        }\n        input.nps:checked + span {\n            color: var(--nps-default-color);\n            border-color: var(--nps-default-color);\n            background-color: var(--nps-checked-background-color);\n        }\n        .npsworst, .npsbest {\n            color: _ANSWER_COLOR_;\n            font-size: _ANSWER_FONT_SIZE_;\n            font-family: _ANSWER_FONT_FAMILY_;\n            line-height: _ANSWER_LINE_HEIGHT_;\n            font-weight: _ANSWER_FONT_WEIGHT_;\n        }\n    ',this.D4='\n        /* Base select styles */\n        .gb-voc_multiselect fieldset div:first-of-type,\n        .gb-voc_single-select fieldset div:first-of-type {\n            margin-top: 0px;\n        }\n        \n        /* Option container - shared styles */\n        .select-option-container {\n            display: flex;\n            align-items: center;\n            height: fit-content;\n            text-align: left;\n        }\n        .select-option-container[dir="rtl"] {\n        }\n        \n        /* Option wrapper - shared styles */\n        .select-option {\n            display: inline-block;\n        }\n        .select-option.multiselect {\n            vertical-align: middle;\n        }\n        \n        /* Label - shared styles */\n        .select-label {\n            display: flex;\n            align-items: flex-start;\n            gap: var(--select-label-gap);\n            position: relative;\n        }\n        .select-label:hover {\n            cursor: pointer;\n        }\n        \n        /* Input - shared styles */\n        .select-input {\n            opacity: 0;\n            cursor: pointer;\n            height: 0;\n            width: 0;\n            position: absolute;\n        }\n        \n        /* Custom control - shared styles */\n        .select-custom-control {\n            flex: none;\n            background-color: #fff;\n            border: 2px solid _ACTIVE_STATE_COLOR_;\n        }\n        \n        /* Checkbox specific styles */\n        .select-custom-control.checkbox {\n            border-radius: 3px;\n            height: var(--select-control-size-checkbox);\n            width: var(--select-control-size-checkbox);\n            margin-top: calc((var(--answer-line-height) - var(--select-control-size-checkbox)) / 2);\n        }\n        .select-custom-control.checkbox::after {\n            content: "";\n            display: none;\n            position: relative;\n            top: 1px;\n            left: 5px;\n            width: 4px;\n            height: 9px;\n            border: solid #fff;\n            border-width: 0 2px 2px 0;\n            -webkit-transform: rotate(45deg);\n            -ms-transform: rotate(45deg);\n            transform: rotate(45deg);\n        }\n        .select-custom-control.checkbox[dir="rtl"]::after {\n            left: -5px;\n        }\n        \n        /* Radio specific styles */\n        .select-custom-control.radio {\n            border-radius: 50%;\n            height: var(--select-control-size-radio);\n            width: var(--select-control-size-radio);\n            margin-top: calc((var(--answer-line-height) - var(--select-control-size-radio)) / 2);\n        }\n        .select-custom-control.radio::after {\n            content: "";\n            display: none;\n            position: relative;\n            top: 1px;\n            left: 5px;\n            width: 4px;\n            height: 9px;\n            border: solid #fff;\n            border-width: 0 2px 2px 0;\n            -webkit-transform: rotate(45deg);\n            -ms-transform: rotate(45deg);\n            transform: rotate(45deg);\n        }\n        .select-custom-control.radio[dir="rtl"]::after {\n            left: -5px;\n        }\n        \n        /* Text - shared styles */\n        .select-text {\n            overflow-wrap: anywhere;\n            font-size: _ANSWER_FONT_SIZE_;\n            font-family: _ANSWER_FONT_FAMILY_;\n            line-height: _ANSWER_LINE_HEIGHT_;\n            color: _ANSWER_COLOR_;\n            font-weight: _ANSWER_FONT_WEIGHT_;\n        }\n        .select-text[dir="rtl"] {\n            text-align: right;\n        }\n        \n        /* Hover states */\n        .select-label:hover :not(.select-input:checked) ~ .select-custom-control {\n            border-color: var(--outline-color);\n        }\n        .select-label:hover .select-input:checked ~ .select-custom-control {\n            border-color: _ACTIVE_STATE_COLOR_;\n            background-color: _ACTIVE_STATE_COLOR_;\n        }\n        \n        /* Focus states */\n        .select-input:focus ~ .select-custom-control:before {\n            content: "";\n            display: block;\n            width: calc(100% + 8px);\n            height: calc(100% + 8px);\n            position: absolute;\n            top: -4px;\n            left: -4px;\n            border: 1px solid var(--outline-color);\n        }\n        .select-input:focus ~ .select-custom-control.checkbox:before {\n            border-radius: 4px;\n        }\n        .select-input:focus ~ .select-custom-control.radio:before {\n            border-radius: 50%;\n        }\n        \n        /* Checked states */\n        .select-input:checked ~ .select-custom-control {\n            background-color: _ACTIVE_STATE_COLOR_;\n            border-color: _ACTIVE_STATE_COLOR_;\n        }\n        .select-input:checked ~ .select-custom-control:after {\n            display: block;\n        }\n    ',this.z4='\n        @media only screen and (max-width: 1600px) {\n            #survey-body {\n                --nps-icon-size: 26px;\n                --nps-icon-line-height: 22px;\n                --nps-icon-font-size: 14px;\n                --question-title-margin-bottom: 12px;\n                --group-padding: 12px 24px;\n                --header-padding: 16px 24px 12px;\n                --header-padding-multi-lang: 32px 24px 12px;\n                --select-label-gap: 8px;\n                --select-control-size-checkbox: 14px;\n                --select-control-size-radio: 16px;\n                --select-options-gap: 8px;\n                --textarea-height: 42px;\n                --textarea-padding: 4px 6px;\n                --answer-line-height: _ANSWER_LINE_HEIGHT_SMALL_;\n            }\n            .survey-container {\n                width: 380px;\n            }\n            #gb_feedback_header {\n                font-size: _MAIN_TITLE_FONT_SIZE_SMALL_;\n                line-height: _MAIN_TITLE_LINE_HEIGHT_SMALL_;\n            }\n            .survey-question-title {\n                font-size: _QUESTION_FONT_SIZE_SMALL_;\n                line-height: _QUESTION_LINE_HEIGHT_SMALL_;\n            }\n            .privacy p {\n                font-size: _QUESTION_FONT_SIZE_SMALL_;\n                line-height: _QUESTION_LINE_HEIGHT_SMALL_;\n            }\n            textarea {\n                font-size: _ANSWER_FONT_SIZE_SMALL_;\n                line-height: _ANSWER_LINE_HEIGHT_SMALL_;\n            }\n            button, #btnPrivacyPolicy {\n                font-size: _BUTTON_FONT_SIZE_SMALL_;\n                line-height: _BUTTON_LINE_HEIGHT_SMALL_;\n            }\n            \n            /* New unified select styles */\n            .select-text {\n                font-size: _ANSWER_FONT_SIZE_SMALL_;\n                line-height: _ANSWER_LINE_HEIGHT_SMALL_;\n            }\n            .npsworst, .npsbest, .csatbest, .csatworst {\n                font-size: _ANSWER_FONT_SIZE_SMALL_;\n                line-height: _ANSWER_LINE_HEIGHT_SMALL_;\n            }\n            .select-custom-control.checkbox::after {\n                top: 0;\n                left: 3px;\n            }\n            .select-custom-control.checkbox[dir="rtl"]::after {\n                left: -3px;\n            }\n            .select-custom-control.radio::after {\n                left: 4px;\n            }\n            .select-custom-control.radio[dir="rtl"]::after {\n                left: -4px;\n            }\n            .csatworst {\n                margin-left: 0;\n            }\n            .csatbest {\n                margin-right: 0;\n            }\n        }\n    ',this.P4="\n        @media only screen and (max-width: 600px) {\n            #survey-body {\n                --nps-icon-size: 38px;\n                --nps-icon-line-height: 34px;\n                --nps-icon-font-size: 20px;\n                top: 0;\n                left: 0;\n            }\n            .survey-container {\n                width: 100%;\n                height: fit-content !important;\n                top: 50% !important;\n                left: 0 !important;\n                right: 0 !important;\n                bottom: 0 !important;\n                border-radius: 0;\n                transform: translateY(-50%) !important;\n            }\n            .horizontal-options-container {\n                max-width: fit-content;\n            }\n            .csatworst {\n                margin-left: -54px;\n                width: 87px;\n                max-width: 87px;\n            }\n            .csatbest {\n                margin-right: -54px;\n                width: 87px;\n                max-width: 87px;\n            }\n        }\n        \n        @media only screen and (max-width: 550px) {\n            .horizontal-options-labels .value-hint {\n                display: initial;\n            }\n            .nps-options-container {\n                gap: 8px;\n            }\n            .nps-options-container .horizontal-options {\n                flex-direction: column;\n            }\n        }\n    "}}S.x4={mainColor:"background-color"};n("./node_modules/core-js/modules/es.set.difference.v2.js"),n("./node_modules/core-js/modules/es.set.intersection.v2.js"),n("./node_modules/core-js/modules/es.set.is-disjoint-from.v2.js"),n("./node_modules/core-js/modules/es.set.is-subset-of.v2.js"),n("./node_modules/core-js/modules/es.set.is-superset-of.v2.js"),n("./node_modules/core-js/modules/es.set.symmetric-difference.v2.js"),n("./node_modules/core-js/modules/es.set.union.v2.js");class I{static W4(t,e){return!(!this.Z4(t)||!this.Z4(e))&&this.Q4(t)===this.Q4(e)}static Y4(t,e){if(!this.Z4(t)||!Array.isArray(e)||0===e.length)return!1;const n=this.Q4(t);return e.some((t=>this.Z4(t)&&this.Q4(t)===n))}static K4(t){return Array.isArray(t)?!!t.length:null!=t&&""!==t}static contains(t,e){return!(!this.Z4(t)||!this.Z4(e))&&this.Q4(t).includes(this.Q4(e))}static Z4(t){return null!=t&&"function"==typeof(null==t?void 0:t.toString)}static Q4(t){return this.Z4(t)?t.toString().toLowerCase():""}}class E{constructor(t){let{X4:e,J4:n,x0:s}=t;this.VI=e.id,this.t8=e.type,this.e8=e.visibilityLogic,this.n8=n,this.s8=this.i8(n,this.VI),this.Z$=s||null,this.o8=null}r8(){var t;const e="hide"===(null===(t=this.e8)||void 0===t?void 0:t.stateIfConditionsMet);this.a8(e),this.l8(new Map)}l8(t){const e=this.e8.stateIfConditionsMet,n=this.e8.questionsToMatch,s=this.c8(t,n),i="show"===e;this.a8(s&&i)}a8(t){this.s8&&(this.o8!==t&&"function"==typeof this.Z$&&this.Z$(this.VI,t),this.o8=t,t?this.s8.removeAttribute("hidden"):this.s8.setAttribute("hidden",""))}c8(t,e){return null==e||!e.length||e.reduce(((e,n)=>{const s=this.h8(n,t);return this.u8(e,s,n.operator)}),!1)}u8(t,e,n){return"and"===n?t&&e:t||e}h8(t,e){const n=t.questionId,s=this.i8(this.n8,n);if(!s||s.hasAttribute("hidden"))return!1;const i=t.answersToMatch,o=t.type,r=e.get(n);return this.d8(i,r,o)}d8(t,e,n){return!(null==t||!t.length)&&t.reduce(((t,s)=>{const i=this.p8(s,e,n);return this.u8(t,i,s.operator)}),!1)}p8(t,e,n){if(!this.v8(n))return!1;const s=t.valueToMatch.value;switch(t.valueToMatch.operator){case"is":return this.g8(e,s,n);case"isNot":return this.f8(e,s,n);case"isAny":return this.m8(e);case"contains":return this._8(e,s);case"doesNotContain":return this.b8(e,s);case"exactMatch":return this.y8(e,s);case"isEmpty":return this.RA(e);case"isNotEmpty":return this.x8(e);default:return!1}}g8(t,e,n){switch(n){case"multi":case"single":return I.Y4(e,t);default:return I.W4(e,t)}}f8(t,e,n){return!!I.K4(t)&&!this.g8(t,e,n)}m8(t){return I.K4(t)}_8(t,e){return I.contains(t,e)}b8(t,e){return!!I.K4(t)&&!I.contains(t,e)}RA(t){return!I.K4(t)}x8(t){return I.K4(t)}y8(t,e){return I.W4(t,e)}i8(t,e){try{if(!t||!e)return null;const n=`[${k.C8}="${e}"]`;return t.querySelector(n)}catch(t){return console.error("QuestionBranchingService: Unable to find question element",t),null}}v8(t){return!!t&&E.w8.includes(t)}}E.w8=["csat","nps","single","multi","text"];class k{constructor(t){let{config:e,J4:n}=t;this.kW=e,this.T8=new Map,this.S8=new Set,this.ux(e,n)}I8(t){this.T8.forEach((e=>{e.l8(t)}))}x0(t){"function"==typeof t&&this.S8.add(t)}ux(t,e){const n=this.E8(t),s=(t,e)=>{this.S8.forEach((n=>{n(t,e)}))};n.forEach((t=>{const{id:n,visibilityLogic:i}=t;if(i){const i=new E({X4:t,J4:e,x0:s});i.r8(),this.T8.set(n,i)}}))}E8(t){var e;return(null==t||null===(e=t.pages)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.questions)||[]}}k.C8="data-question-id";function O(t){return(t||"").toLowerCase().trim()}class L{constructor(t,e){this.k8=110,this.root=t,this.O8=e,this.button=t.querySelector(".dropdown__button"),this.L8=t.querySelector(".dropdown__value"),this.N8=t.querySelector(".dropdown__input"),this.M8=t.querySelector(".dropdown__listbox"),this.options=Array.from(t.querySelectorAll(".dropdown__option")),this.isOpen=!1,this.A8=-1,this.selectedIndex=-1,this.F8={buffer:"",B8:null,delay:650},this.V8=null,this.G8=!1,this.U8(),this.H8(),this.q8(),this.j8(!1)}D8(t){if(!t||"string"!=typeof t)return;const e=O(t),n=this.options.findIndex((t=>O(t.dataset.value??"")===e));-1!==n?(this.G8=!0,this.z8(n,{P8:!1,W8:!1,close:!1}),this.G8=!1):console.warn(`AccessibleDropdown: value "${t}" not found.`)}Z8(t){return"function"==typeof t&&(this.V8=t),this}U8(){this.M8.id||(this.M8.id=`${this.Q8("listbox")}`,this.button.setAttribute("aria-controls",this.M8.id)),this.button.setAttribute("aria-haspopup","listbox"),this.M8.setAttribute("role","listbox"),this.root.setAttribute("aria-open","false")}H8(){this.options.forEach(((t,e)=>{t.id||(t.id=this.Q8("opt"));const n=(O(t.textContent||""),(t.textContent||"").trim());t.setAttribute("tabindex","-1"),t.setAttribute("aria-selected","false"),t.setAttribute("role","option"),t.dataset.label=n,t.setAttribute("title",n),t.addEventListener("mousedown",(t=>t.preventDefault()));let s=!1;t.addEventListener("pointerdown",(t=>{t.preventDefault(),s=!0,this.z8(e,{P8:!0,W8:!0,close:!0})})),t.addEventListener("click",(t=>{s?s=!1:(t.preventDefault(),this.z8(e,{P8:!0,W8:!0,close:!0}))}))}))}q8(){this.button.addEventListener("click",(()=>{this.isOpen?this.j8(!0):this.Y8({K8:!0})})),this.button.addEventListener("keydown",(t=>{switch(t.key){case"ArrowDown":case"Down":t.preventDefault(),this.Y8({K8:!0}),this.X8(this.A8>=0?this.A8+1:0);break;case"ArrowUp":case"Up":t.preventDefault(),this.Y8({K8:!0}),this.X8(this.A8>=0?this.A8-1:this.options.length-1);break;case"Enter":case" ":t.preventDefault(),this.isOpen?this.j8(!0):this.Y8({K8:!0});break;case"Home":t.preventDefault(),this.Y8({K8:!0}),this.X8(0);break;case"End":t.preventDefault(),this.Y8({K8:!0}),this.X8(this.options.length-1);break;default:this.J8(t)}})),this.M8.addEventListener("keydown",(t=>{switch(t.key){case"ArrowDown":case"Down":t.preventDefault(),this.X8(this.A8+1);break;case"ArrowUp":case"Up":t.preventDefault(),this.X8(this.A8-1);break;case"Home":t.preventDefault(),this.X8(0);break;case"End":t.preventDefault(),this.X8(this.options.length-1);break;case"PageDown":t.preventDefault(),this.X8(this.A8+5);break;case"PageUp":t.preventDefault(),this.X8(this.A8-5);break;case"Enter":case" ":t.preventDefault(),this.A8>=0&&this.z8(this.A8,{P8:!0,W8:!0,close:!0});break;case"Escape":case"Esc":t.preventDefault(),this.j8(!0);break;default:this.J8(t)}})),this.O8.addEventListener("mousedown",(t=>{!this.root.contains(t.target)&&this.isOpen&&this.j8(!1)})),this.O8.addEventListener("pointerdown",(t=>{!this.root.contains(t.target)&&this.isOpen&&this.j8(!1)})),this.O8.addEventListener("click",(t=>{!this.root.contains(t.target)&&this.isOpen&&this.j8(!1)})),this.M8.addEventListener("focusout",(t=>{const e=t.relatedTarget;this.isOpen&&e&&!this.root.contains(e)?this.j8(!1):setTimeout((()=>{const t=this.O8.activeElement;this.isOpen&&t&&!this.root.contains(t)&&this.j8(!1)}),0)}))}Y8(){let{K8:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isOpen)return;this.isOpen=!0,this.root.setAttribute("aria-open","true"),this.button.setAttribute("aria-expanded","true"),this.button.classList.add("open"),this.M8.setAttribute("tabindex","0");const e=this.selectedIndex>=0?this.selectedIndex:0;this.X8(e),t&&this.M8.focus({t7:!1})}j8(t){if(!this.isOpen)return this.button.setAttribute("aria-expanded","false"),this.root.setAttribute("aria-open","false"),void this.M8.setAttribute("tabindex","-1");this.isOpen=!1,this.root.setAttribute("aria-open","false"),this.button.setAttribute("aria-expanded","false"),this.button.classList.remove("open"),this.M8.setAttribute("tabindex","-1"),t&&this.button.focus({t7:!1})}X8(t){if(!this.options.length)return void(this.A8=-1);t<0&&(t=0),t>=this.options.length&&(t=this.options.length-1);const e=this.options[t];this.A8=t,this.options.forEach((t=>t.setAttribute("aria-selected","false"))),e.setAttribute("aria-selected","true"),this.M8.setAttribute("aria-activedescendant",e.id),this.e7(e)}z8(t){let{P8:e=!1,W8:n=!1,close:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Math.max(0,Math.min(t,this.options.length-1));this.selectedIndex=i;const o=this.options[i];this.X8(i);const r=(o.dataset.label||o.textContent||"").trim(),a=o.dataset.value??r;if(this.L8.textContent=r,this.N8.value=a,this.L8.setAttribute("title",r),n){const t=this.button.getAttribute("aria-label");this.button.setAttribute("aria-label",`Selected ${r}`),setTimeout((()=>{null===t?this.button.removeAttribute("aria-label"):this.button.setAttribute("aria-label",t)}),300)}s&&this.j8(e),this.n7(a)}n7(t){this.G8||"function"!=typeof this.V8||this.V8(t)}e7(t){const e=this.M8,n=t.offsetTop,s=n+t.offsetHeight,i=e.scrollTop,o=i+e.clientHeight;n<i?e.scrollTop=n:s>o&&(e.scrollTop=s-e.clientHeight)}J8(t){const e=t.key;if(!e||1!==e.length)return;const n=e.toLowerCase();clearTimeout(this.F8.B8),this.F8.buffer+=n;const s=Math.max(0,this.A8),i=this.s7(this.F8.buffer,s);this.isOpen?-1!==i&&this.X8(i):-1!==i&&this.z8(i,{P8:!1,W8:!0,close:!1}),this.F8.B8=setTimeout((()=>{this.F8.buffer=""}),this.F8.delay)}s7(t,e){const n=this.options.length,s=O(t);for(let t=0;t<n;t++){const i=(e+t)%n;if(O(this.options[i].dataset.label||this.options[i].textContent).startsWith(s))return i}return-1}Q8(t){return`${t}-${Math.random().toString(36).slice(2,9)}`}}var N;function $(t,e,n){M(t,e),e.set(t,n)}function M(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function A(t,e){return t.get(B(t,e))}function F(t,e,n){return t.set(B(t,e),n),n}function B(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var R,V=new WeakMap,G=new WeakMap,U=new WeakMap,H=new WeakMap,q=new WeakMap,j=new WeakMap,D=new WeakMap,z=new WeakMap,P=new WeakMap,W=new WeakMap,Z=new WeakMap,Q=new WeakMap,Y=new WeakSet;class K{static i7(){try{let e=document.documentElement.lang;var t;if(!e)e=null===(t=document.querySelector("html"))||void 0===t?void 0:t.getAttribute("lang");return e||(e=navigator.language||navigator.userLanguage),"string"!=typeof e?null:e.toLowerCase()}catch(t){return null}}static o7(){try{return document.dir||document.documentElement.dir||window.getComputedStyle(document.body,null).getPropertyValue("direction")}catch(t){return"ltr"}}constructor(t,e,n){var s,i;M(s=this,i=Y),i.add(s),this.languages=[],$(this,V,{}),$(this,G,new Map),$(this,U,new Map),$(this,H,"en"),$(this,q,null),$(this,j,null),$(this,D,null),$(this,z,null),$(this,P,null),$(this,W,null),$(this,Z,void 0),$(this,Q,{}),this.kW=t,this.r7=e,this.a7=null,this.l7=n,this.AN=_.L9("lang"),this.init()}init(){B(Y,this,X).call(this),B(Y,this,J).call(this),B(Y,this,et).call(this),B(Y,this,nt).call(this),B(Y,this,ot).call(this),this.c7(),B(Y,this,tt).call(this)}h7(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n;(F(Z,this,t),F(Q,this,A(V,this)[A(Z,this)]||{}),e)&&(null===(n=this.l7)||void 0===n||n.set(this.AN,t,"persistent"));B(Y,this,rt).call(this)}c7(){this.h7(B(Y,this,ct).call(this),!1)}u7(){return this.d7()?A(Z,this):""}p7(t){this.r7=t}v7(t){this.a7=t}translate(t,e,n){if(!t||!this.d7())return B(Y,this,dt).call(this,n||t)||B(Y,this,ut).call(this,t,e);const s=B(Y,this,ht).call(this,A(Q,this),t);if(s)return s;const i=B(Y,this,ht).call(this,A(W,this),t);return i||(B(Y,this,dt).call(this,n||t)||B(Y,this,ut).call(this,t,e))}span(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3?arguments[3]:void 0;const i=this.translate(t,e,s),o=B(Y,this,gt).call(this);A(G,this).set(o,t);return`<span ${null!=n&&n.length?`class="${n.join(" ")}"`:""} ${K.g7}="${o}">${i}</span>`}attribute(t,e){if(null==e||!e.length)return t;const n=document.createElement("div");n.innerHTML=t;const s=n.firstChild,i=B(Y,this,gt).call(this);return s.setAttribute(K.g7,i),A(U,this).set(i,e),B(Y,this,lt).call(this,s,e),s.outerHTML}d7(){var t,e;return!(null===(t=this.languages)||void 0===t||!t.length||!A(V,this)||null===(e=Object.keys(A(V,this)))||void 0===e||!e.length)}f7(t){return`pages.[${this.r7}].questions.[${t}]`}m7(t){return`${this.f7(t)}.text`}_7(t,e){return`${B(Y,this,vt).call(this,t)}.[${e}].text`}b7(t,e){return`${B(Y,this,vt).call(this,t)}.${e}.text`}direction(){const t=this.languages.find((t=>t.translationKey===A(Z,this)));return null!=t&&t.direction?null==t?void 0:t.direction:K.o7()}}function X(){var t;const e=(null===(t=this.kW)||void 0===t?void 0:t.languages)||[];e.length&&(this.languages=e.filter((t=>t.isActive)))}function J(){var t;const e=(null===(t=this.kW)||void 0===t?void 0:t.translations)||{};Object.keys(e).length&&F(V,this,this.languages.reduce(((t,n)=>{const s=n.translationKey,i=e[s];return i?(t[s]=i,t):t}),{}))}function tt(){setTimeout((()=>{var t;const e=null===(t=this.a7)||void 0===t?void 0:t.querySelector("#select-language-input");if(!e)return;const n=new L(e,this.a7);n.D8(A(Z,this)),n.Z8((t=>{this.h7(t)}))}),0)}function et(){try{var t;const e=null===(t=this.l7)||void 0===t?void 0:t.get(this.AN,"persistent",!1);if(!e)return;if(!this.languages.find((t=>t.translationKey===e&&t.isActive)))return;F(q,this,e),F(j,this,A(V,this)[A(q,this)]||null)}catch(t){console.error("TranslationService: Failed to get user preferences language: ",t)}}function nt(){F(D,this,B(Y,this,st).call(this)),F(z,this,A(V,this)[A(D,this)]||null)}function st(){var t;const e=N.i7();return e&&(null===(t=this.languages.find((t=>{const n=(t.languageCodes||[]).map((t=>t.toLowerCase()));if(n.includes(e))return!0;const s=B(Y,this,it).call(this,e);return n.map(B(Y,this,it)).includes(s)})))||void 0===t?void 0:t.translationKey)||null}function it(t){return t?t.includes("-")?t.split("-")[0]:t.includes("_")?t.split("_")[0]:t:null}function ot(){F(P,this,B(Y,this,pt).call(this)),F(W,this,A(V,this)[A(P,this)]||null)}function rt(){var t,e;A(G,this).forEach(((t,e)=>{const n=B(Y,this,at).call(this,e);if(!n)return;const s=n.innerText||"",i=this.translate(t,s);i&&(n.innerText=i)})),A(U,this).forEach(((t,e)=>{const n=B(Y,this,at).call(this,e);n&&B(Y,this,lt).call(this,n,t)}));const n=null===(t=this.a7)||void 0===t?void 0:t.querySelectorAll(`[${N.y7}]`);null!=n&&n.length&&Array.from(n).forEach((t=>{t.setAttribute("lang",A(Z,this))}));const s=null===(e=this.a7)||void 0===e?void 0:e.querySelectorAll(`[${N.x7}]`);if(null!=s&&s.length){const t=this.direction();Array.from(s).forEach((e=>{e.setAttribute("dir",t)}))}}function at(t){var e;return null===(e=this.a7)||void 0===e?void 0:e.querySelector(`[${N.g7}="${t}"]`)}function lt(t,e){null!=e&&e.length&&e.forEach((e=>{const n=this.translate(e.path,e.fallbackText,e.legacyDictionaryPath);n&&t.setAttribute(e.attribute,n)}))}function ct(){return A(q,this)||A(D,this)||A(P,this)||A(H,this)}function ht(t,e){return e.split(".").reduce(((t,e)=>e.startsWith("[")&&e.endsWith("]")?null==t?void 0:t[e.slice(1,-1)]:a.E9(e)?null==t?void 0:t.find((t=>t.id===e)):null==t?void 0:t[e]),t)}function ut(t,e){return B(Y,this,ht).call(this,this.kW,t)||e}function dt(t){return t?[A(Z,this),A(P,this),A(H,this)].reduce(((e,n)=>{const s=B(Y,this,ft).call(this,n);return s?e||B(Y,this,ht).call(this,s,t):e}),null):null}function pt(){var t;return(null===(t=this.languages.find((t=>t.isDefault)))||void 0===t?void 0:t.translationKey)||null}function vt(t){return`pages.[${this.r7}].questions.[${t}].options`}function gt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return window.location.href.indexOf("localhost")>0?(this.C7=this.C7||new class{constructor(){this.Nt=0,this.w7=()=>(this.Nt++,`translation-id-${this.Nt}`)}},this.C7.w7()):Math.random().toString(36).slice(2,2+t)}function ft(t){return{en:{formActions:{close:"Close",required:"*required question"},privacy:{messageText:"By submitting the form, you allow your responses to be analyzed together with other data collected about your experience on our site. This allows us to better understand any issues you've faced and to improve your future visits.",moreInformationButtonText:"Learn more",confirmButtonText:"Confirm"},csat:{1:"Very Dissatisfied",2:"Dissatisfied",3:"Neutral",4:"Satisfied",5:"Very Satisfied"}},es:{formActions:{close:"Cerca",required:"*pregunta requerida"},privacy:{messageText:"Al enviar el formulario, permite que sus respuestas se analicen junto con otros datos recopilados sobre su experiencia en nuestro sitio. Esto nos permite comprender mejor cualquier problema que haya enfrentado y mejorar sus visitas futuras.",moreInformationButtonText:"Ms informacin",confirmButtonText:"Confirmar"},csat:{1:"Muy insatisfecho",2:"Insatisfecho",3:"Neutral",4:"Satisfecho",5:"Muy satisfecho"}},he:{formActions:{close:"",required:"r *"},privacy:{messageText:"   ,                .                .",moreInformationButtonText:" ",confirmButtonText:""},csat:{1:"  ",2:" ",3:"",4:"",5:" "}}}[t]}N=K,K.g7="gb-translation-id",K.y7="gb-lang",K.x7="gb-dir";class mt{constructor(){}static T7(t){return t.trim().replace(/(?<=>)\s+(?=<)/g,"").replace(/\s{2,}/g," ").replace(/\s+(\/?>)/g,"$1")}static S7(t,e,n){return mt.T7(`<img aria-hidden="true" alt="${e||t}" src="${n+t}.svg" />`)}static I7(t,e,n,s){return n.attribute(`<button id="closex">${e}</button>`,s)}static E7(t){return mt.T7(`<p class="missing">${t}</p>`)}static k7(t,e,n,s,i){return mt.T7(`\n            <input style="" title="" name="${s}" id="${s}_${t}" ${i} class="csat" type="radio" value="${t}" val="${t}"/>\n            <label title="" for="${s}_${t}">${e}${n}</label>\n        `)}static O7(t){let{questionId:e,L7:n,iconsType:s,N7:i,M7:o,name:r,A7:a,F7:l,B7:c,R7:h,V7:u,G7:d,U7:p,H7:v,customStyles:g}=t;const f=new T(s,null==g?void 0:g.ratingIconColor),m=i.reduce(((t,e)=>{const n=o[e],s=f.Y6(e);return`${t}${mt.k7(e,n,s,r,a)}`}),"");return mt.T7(`\n            <div ${mt.q7(e)} dir="ltr" class="gb-voc_group gb-voc_csat ${s}" id="${r}_container" ${mt.j7(g)}>\n                <fieldset class="survey-question-fieldset">\n                    ${mt.D7(l,n)}\n                    <div class="horizontal-options-container">\n                        <div class="horizontal-options">\n                            ${f.X6()}\n                            ${m}\n                        </div>\n                        <div class="horizontal-options-labels" ${v?'style="display: none;"':""}>\n                            <label style="display: inline-block;" for="${r}_1" class="csatworst" id="${u}">${c}</label>\n                            <label style="display: inline-block;" for="${r}_5" class="csatbest" id="${d}">${h}</label>\n                        </div>\n                    </div>\n                </fieldset>\n                ${p}\n            </div>\n        `)}static z7(t,e,n){return mt.T7(`\n            <label>\n                <input id="nps_${t}" style="" title="" type="radio" name="${e}" ${n} class="nps" value="${t}" val="${t}" />\n                <span>${t}</span>\n            </label>\n        `)}static P7(t){let{questionId:e,L7:n,W7:s,name:i,A7:o,F7:r,Z7:a,Q7:l,Y7:c,K7:h,U7:u,customStyles:d}=t;const p=t=>t.reduce(((t,e)=>`${t}${mt.z7(e,i,o)}`),""),v=p(s.X7),g=p(s.J7),f=mt.ttt(null==d?void 0:d.ratingIconColor);return mt.T7(`\n            <div ${mt.q7(e)} dir="ltr" class="gb-voc_group gb-voc_nps" id="${i}_container" ${mt.j7(d,f)}>\n                <fieldset class="survey-question-fieldset">\n                    ${mt.D7(r,n)}\n                    <div class="horizontal-options-container nps-options-container">\n                        <div class="horizontal-options">\n                            <div class="options-part">${v}</div>\n                            <div class="options-part">${g}</div>\n                        </div>\n                        <div class="horizontal-options-labels">\n                            <label for="nps_0" class="npsworst" id="${c}"><span class="value-hint">0 - </span>${a}</label>\n                            <label for="nps_10" class="npsbest" id="${h}">${l}<span class="value-hint"> - 10</span></label>\n                        </div>\n                    </div>\n                </fieldset>\n                ${u}\n            </div>\n        `)}static ett(t){let{questionId:e,L7:n,name:s,A7:i,F7:o,answer:r,U7:a,ntt:l,stt:c,customStyles:h}=t;const u=l.attribute(`<textarea name="${s}" ${i} rows="7">${r||""}</textarea>`,c);return mt.T7(`\n            <div ${mt.q7(e)} class="gb-voc_group gb-voc_text" id="${s}_container" ${mt.j7(h)}>\n                <fieldset>\n                    ${mt.D7(o,n)}\n                    ${u}\n                </fieldset>\n                ${a}\n            </div>\n        `)}static itt(t){let{name:e,A7:n,value:s,ott:i,index:o}=t;return mt.T7(`\n            <div class="select-option-container">\n                <div class="select-option multiselect multiselect-option">\n                    <label for="${e}_${o}" class="select-label">\n                        <input style="" title="" class="select-input" id="${e}_${o}" name="${e}" ${n} type="checkbox" value="${s}" val="${s}" />\n                        <span class="select-custom-control checkbox" ${K.x7}></span>\n                        <span class="select-text">${i}</span>\n                    </label>\n                </div>\n            </div>\n        `)}static att(t){let{questionId:e,L7:n,options:s,name:i,F7:o,U7:r,customStyles:a}=t;return mt.T7(`\n            <div ${mt.q7(e)} class="gb-voc_group gb-voc_multiselect" id="${i}_container" ${mt.j7(a)}>\n                <fieldset>\n                    ${mt.D7(o,n)}\n                    <div class="vertical-options">\n                        ${s}\n                    </div>\n                </fieldset>\n                ${r}\n            </div>\n        `)}static ltt(t){let{name:e,A7:n,value:s,ott:i,index:o}=t;return mt.T7(`\n            <div class="select-option-container">\n                <div class="select-option">\n                    <label for="${e}_${o}" class="select-label">\n                        <input style="" title="" class="select-input" id="${e}_${o}" name="${e}" ${n} type="radio" value="${s}" val="${s}" />\n                        <span class="select-custom-control radio" ${K.x7}></span>\n                        <span class="select-text">${i}</span>\n                    </label>\n                </div>\n            </div>\n        `)}static ctt(t){let{questionId:e,L7:n,options:s,name:i,F7:o,U7:r,customStyles:a}=t;return mt.T7(`\n            <div ${mt.q7(e)} class="gb-voc_group gb-voc_single-select" id="${i}_container" ${mt.j7(a)}>\n                <fieldset>\n                    ${mt.D7(o,n)}\n                    <div class="vertical-options">\n                        ${s}\n                    </div>\n                </fieldset>\n                ${r}\n            </div>\n        `)}static form(t){return mt.T7(`\n            <form id="gb_feedback_form" action="">\n                ${t}\n            </form>\n        `)}static D7(t,e){return e?`<legend ${K.x7} class="survey-question-title" id="${t}">${e}</legend>`:""}static htt(t,e,n,s,i){const o=n.attribute(`<button id="${e}">${t}</button>`,s);return mt.T7(`\n            <div class="gb-voc_group gb-voc_submit" ${mt.j7(i)}>\n                ${o}\n            </div>\n        `)}static utt(t){let{dtt:e,ptt:n,backButtonLabel:s,forwardButtonLabel:i}=t;if(!e&&n)return"";const o=e?`<button id="btnBack">${s.replace(/\s/g,"&nbsp;")}</button>`:"",r=e&&!n?" ":"",a=n?"":`<button id="btnForward">${i.replace(/\s/g,"&nbsp;")}</button>`;return mt.T7(`\n            <div class="gb-voc_group gb-voc_paging">\n                ${o}${r}${a}\n            </div>\n        `)}static error(){return mt.T7('\n            <div class="gb-voc_group gb-voc_error hidden">\n                <p>Sorry, something has gone wrong.</p>\n                <p>We are unable to process your feedback.</p>\n                <button id="btnErrorOk">OK</button>\n            </div>\n        ')}static vtt(t){let{message:e,confirmButtonText:n,I7:s,gtt:i,ftt:o,mtt:r,position:a,customStyles:l}=t;return mt.T7(`\n            <div\n                tabindex="0"\n                role="dialog"\n                aria-labelledby="gb_feedback_privacy"\n                aria-describedby="leave-feedback"\n                aria-modal="true"\n                class="survey-container ready ${a}"\n                ${mt.j7(l)}\n                ${K.x7}\n                ${K.y7}\n            >\n                ${s}\n                <header class="privacy">\n                    ${i}\n                    <p id="gb_feedback_privacy">${e}</p>\n                </header>\n                <div class="gb-voc_group gb-voc_submit privacy-buttons-container">\n                    <a id="btnPrivacyPolicy" href="${r}" target="_blank">${o}</a>\n                    <button id="btnPrivacyConfirm">${n}</button>\n                </div>\n            </div>\n        `)}static _tt(t){let{btt:e,I7:n,ytt:s,xtt:i,position:o,customStyles:r}=t;const a=s.length?"":" bold";return mt.T7(`\n            <div\n                tabindex="0"\n                role="dialog"\n                aria-labelledby="gb_feedback_thankyou"\n                aria-describedby="leave-feedback"\n                aria-modal="true"\n                class="survey-container ready ${o}"\n                ${mt.j7(r)}\n                ${K.x7}\n                ${K.y7}\n            >\n                ${n}\n                <header class="thankyou${a}">\n                    ${s}\n                    <p id="gb_feedback_thankyou">${e}</p>\n                </header>\n                ${i}\n            </div>\n        `)}static xtt(t,e){return mt.T7(`\n            <footer class="white-label" dir="ltr" ${mt.j7(e)}>\n                <span>Powered By</span>\n                <a aria-label="go to www.glassbox.com" href="https://www.glassbox.com/" target="_blank">${t}</a>\n            </footer>\n        `)}static Ctt(t){let{I7:e,ytt:n,wtt:s,Ttt:i,Stt:o,Itt:r,Ett:a,xtt:l,position:c,ktt:h,ntt:u}=t;const d=s?`<h2 id="gb_feedback_header">${s}</h2>`:"",p=!n&&!d,v=mt.Ott(u),g=p?"":`\n                <header ${v?'class="multi-language-support"':""} ${mt.j7(h)}>\n                    ${n}\n                    ${d}\n                </header>\n            `,f=p?"no-header":"";return mt.T7(`\n            <div\n                tabindex="0"\n                role="dialog"\n                aria-labelledby="gb_feedback_header"\n                aria-describedby="leave-feedback"\n                aria-modal="true"\n                class="survey-container ${c} ${f}"\n                ${K.x7}\n                ${K.y7}\n            >\n                ${e}\n                ${v}\n                ${g}\n                ${i}\n                ${o}\n                ${r}\n                ${a}\n                ${l}\n            </div>\n        `)}static Ott(t){var e;if(!t.d7()||1===(null==t||null===(e=t.languages)||void 0===e?void 0:e.length))return"";const n=t.languages.map((t=>`\n                <li\n                    role="option"\n                    id="lang-${t.translationKey}"\n                    class="dropdown__option ellipsis"\n                    data-value="${t.translationKey}"\n                >\n                    ${t.languageName}\n                </li>\n            `)).join("");return mt.T7(`\n            <div id="select-language-input" class="dropdown" data-name="language">\n                <button\n                    type="button"\n                    class="dropdown__button"\n                    aria-haspopup="listbox"\n                    aria-expanded="false"\n                    aria-labelledby="language-label dropdown-button-value"\n                    aria-controls="language-listbox"\n                    id="language-button"\n                >\n                    <span id="dropdown-button-value" class="dropdown__value"></span>\n                    <svg class="dropdown__chevron" width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M2.43435 4.16859C2.70518 3.87662 3.17461 3.85765 3.46914 4.13259L5.99468 6.49011L8.53195 4.13157C8.82715 3.85717 9.29653 3.87724 9.56666 4.16968C9.82409 4.44838 9.80951 4.87699 9.52867 5.13805L6.66399 7.80093C6.2882 8.15026 5.69748 8.14958 5.32252 7.79956L2.47024 5.13704C2.19003 4.87546 2.17625 4.44684 2.43435 4.16859Z" fill="#838398"/>\n                    </svg>\n                </button>\n                \n                \x3c!-- Hidden input for forms: contains the language code --\x3e\n                <input type="hidden" class="dropdown__input" name="language" value="" />\n                \n                <ul\n                    class="dropdown__listbox"\n                    id="language-listbox"\n                    role="listbox"\n                    tabindex="-1"\n                    aria-labelledby="language-label"\n                >\n                    ${n}\n                </ul>\n            </div>\n        `)}static Ltt(t){return mt.T7(`\n            <style id="mainStyle"></style>\n            <div id="survey-body">${t}</div>\n        `)}static j7(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=S.y4(t);return n?`style="${n}${e}"`:""}static ttt(t){return w.W6(t)?`\n            --nps-default-color: ${t};\n            --nps-checked-background-color: ${w.P6(t,50)};\n            --nps-hover-background-color: ${w.P6(t,75)};\n            --nps-active-background-color: ${w.P6(t,40)};\n        `:""}static q7(t){return t?`${k.C8}=${t}`:""}}class _t{fontFamily(){return"Arial"}fontSize(){return 14}Ntt(){return{imageWidth:"24px",imageHeight:"24px",imagePosition:"center"}}backgroundDesign(){return{borderRadius:"6px",background:"#FFFFFF"}}submitButtonDesign(){return{background:"#3629CF",color:"#FFFFFF",borderRadius:"4px",position:"center",bold:!0,fontSize:14}}$tt(){return{fontSize:18,color:"#000000",bold:!0}}Mtt(){return{fontSize:14,color:"#000000",bold:!1}}Att(){return{fontSize:14,color:"#000000",bold:!1}}Ftt(){return{"Open Sans":"sans-serif",Arial:"sans-serif","Arial Black":"sans-serif",Verdana:"sans-serif",Tahoma:"sans-serif","Trebuchet MS":"sans-serif",Impact:"sans-serif","Times New Roman":"serif",Georgia:"serif",Courier:"monospace","Lucida Console":"monospace","Brush Script MT":"cursive"}}Btt(){return"https://cdn.gbqofs.com/glassvox/staticimages/envelope.svg"}N7(){return[1,2,3,4,5]}W7(){const t=[0,1,2,3,4,5,6,7,8,9,10];return{X7:t.slice(0,6),J7:t.slice(6)}}}class bt{static Rtt(t){var e;const n=(null==t||null===(e=t.filters)||void 0===e?void 0:e.surveyFrequency)||0;return bt.Vtt(n)?0===n?"session":-1===n?"continuous":"days":"session"}static Vtt(t){return"number"==typeof t&&!(t<-1)}static Gtt(t){return!!t&&bt.Utt.includes(t)}}bt.Utt=["multi","single"];class yt{constructor(t,e,n,s,o,r,a,l,c,h){var u=this;this.f6=t=>{this.kW=t},this.Htt=()=>{this.K9.lr(this.qtt)||(this.K9.ur(this.qtt,!0),window.setTimeout(this.jtt,this.QM))},this.jtt=()=>{try{if(!this.Dtt())return;var t;if(!this.ztt())null===(t=this.Ptt)||void 0===t||t.Wtt();if(this.K9.remove(this.qtt),this.qa.remove(this.Ztt),this.V6){if(this.V6.setAttribute("style",this.Qtt.w4()),this.Ytt(!0),this.v6&&!this.Ktt){const t=!(!this.kW.privacy||!this.kW.privacy.anonymiseFeedbackPrompt)&&this.kW.privacy.anonymiseFeedbackPrompt,e=this.Xtt?this.Xtt:null;this.v6.emit("glassvoxOpen",{surveyId:this.kW.surveyId,versionId:this.kW.versionId,anonymiseFeedbackPrompt:t,eventTrigger:e})}}else this.V6=document.createElement("gb-voc-survey"),this.V6.setAttribute("style",this.Qtt.w4()),this.V6.setAttribute("id",this.G6),this.V6.setAttribute("name",this.G6),document.body?this.q6():this.v6&&this.v6.once("init:loaded",this.q6);this.Jtt.init()}catch(t){var e;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey.showSurvey",t),null===(e=this.g6)||void 0===e||e.Ko("GlassVoxSurvey.showSurvey",t)}},this.tet=()=>{try{var t;this.visible&&this.Ytt(!1),this.V6&&this.V6.setAttribute("style",this.Qtt.w4()+"display:none;"),(this.eet||this.net||this.iet)&&this.oet(),this.ret&&this.ret.focus(),null===(t=this.v6)||void 0===t||t.emit("glassvoxHidden")}catch(t){var e;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey.hideSurvey",t),null===(e=this.g6)||void 0===e||e.Ko("GlassVoxSurvey.hideSurvey",t)}},this.destroy=()=>{try{this.V6&&this.V6.parentElement&&(this.V6.parentElement.removeChild(this.V6),delete this.V6)}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey.destroy",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxSurvey.destroy",e)}},this.aet=t=>{if(null!=t&&t.dataToEncode&&(!this.let||this.ztt())&&!this.cet()){const e=t.dataToEncode.type;i.default.contains(this._6,e)&&this.het((()=>{this.let=!this.Ktt,this.Xtt=e,this.Htt()}))}},this.uet=t=>{if(t)return;if(this.let&&!this.ztt())return;if(this.cet())return;const e="exitIntent";this._6.includes(e)&&(this.Xtt=e,this.jtt(),this.let=!this.Ktt)},this.Dtt=()=>{var t,e;if(this.cet())return null===(e=this.g6)||void 0===e||e.M6("Can't show Survey. Has already opened one."),!1;if(this.ztt())return!0;if("function"!=typeof(null===(t=this.Ptt)||void 0===t?void 0:t.det))return!0;const n=this.Ptt.det();var s,i,o;n||(null===(s=this.g6)||void 0===s||s.b6(!1),null===(i=this.g6)||void 0===i||i.N6("appLevelCooldown",!0),null===(o=this.g6)||void 0===o||o.M6("Survey is blocked by app level cooldown."));return n},this.ztt=()=>"continuous"===this.Y9,this.pet=(t,e)=>{this.vet.set(t,e),this.fet.I8(this.vet)},this.met=()=>{const t=this.kW.surveyId;this.ret=null,this.G6="gb_feedback_survey",this._et="https://cdn.gbqofs.com/glassvox/staticimages/",this.bet=new b({surveyId:t,surveyFrequencyType:this.Y9,storageAccessor:this.qa,sessionStorageAccessor:this.K9}),this.yet=_.A9("struggleTriggeredCount",t),this.xet=this.Cet(),this.Jtt=new K(this.kW,this.wet,this.l7),this.Qtt=new S,this.Tet=new _t,this.qtt=_.A9("showQueue",t),this.Ztt=_.A9("showVoc",t)},this.Iet=()=>{const t=this.qa.lr(this.Ztt),e=parseInt(t);if(!t||isNaN(e))return;const n=Math.max(0,e-Date.now());this.Eet=!this.ztt(),setTimeout((()=>{this.jtt()}),n)},this.ket=()=>{var t,e;this.v6&&this.v6.on("glassvoxError",this.Oet),null===(t=this.v6)||void 0===t||t.on("glassvoxOpen",(t=>{var e;this.Let=null==t?void 0:t.surveyId,null===(e=this.V6)||void 0===e||null===(e=e.shadowRoot)||void 0===e||null===(e=e.querySelector("input"))||void 0===e||e.focus()})),null===(e=this.v6)||void 0===e||e.on("glassvoxHidden",(()=>{this.Let=null}))},this.Net=()=>{customElements.get("gb-voc-survey")||customElements.define("gb-voc-survey",xt)},this.$et=()=>{var t;return(null===(t=this.kW)||void 0===t||null===(t=t.pages)||void 0===t?void 0:t[this.wet])||0},this.Met=()=>{try{var t,e,n,s;const i=this.V6.shadowRoot.querySelector("#mainStyle");let o=this.Qtt.S4();const r=(null===(t=this.kW)||void 0===t||null===(t=t.styles)||void 0===t?void 0:t.fontFamily)||this.Tet.fontFamily(),a=this.kW.styles.backgroundDesign||this.Tet.backgroundDesign(),l={...this.Tet.submitButtonDesign(),...this.kW.styles.submitButtonDesign||{}},c=this.kW.header,h=this.Aet({...this.Tet.$tt(),...(null===(e=this.kW.styles)||void 0===e||null===(e=e.textStyles)||void 0===e?void 0:e.mainTitle)||{}},r),u=this.Aet({...this.Tet.Mtt(),...(null===(n=this.kW.styles)||void 0===n||null===(n=n.textStyles)||void 0===n?void 0:n.questions)||{}},r),d=this.Aet({...this.Tet.Att(),...(null===(s=this.kW.styles)||void 0===s||null===(s=s.textStyles)||void 0===s?void 0:s.answers)||{}},r),p=this.Aet(l,r),v=this.Tet.Ntt(),g=this.Tet.fontSize(),f=null!=c&&c.imagePosition?this.Fet(c.imagePosition):this.Fet(v.imagePosition);i.innerText=o.replace(/_MAIN_TITLE_FONT_SIZE_SMALL_/g,h.Bet).replace(/_MAIN_TITLE_FONT_SIZE_/g,h.fontSize).replace(/_MAIN_TITLE_FONT_FAMILY_/g,h.fontFamily).replace(/_MAIN_TITLE_COLOR_/g,h.color).replace(/_MAIN_TITLE_FONT_WEIGHT_/g,h.fontWeight).replace(/_MAIN_TITLE_LINE_HEIGHT_SMALL_/g,h.Ret).replace(/_MAIN_TITLE_LINE_HEIGHT_/g,h.lineHeight).replace(/_QUESTION_FONT_SIZE_SMALL_/g,u.Bet).replace(/_QUESTION_FONT_SIZE_/g,u.fontSize).replace(/_QUESTION_FONT_FAMILY_/g,u.fontFamily).replace(/_QUESTION_COLOR_/g,u.color).replace(/_QUESTION_FONT_WEIGHT_/g,u.fontWeight).replace(/_QUESTION_LINE_HEIGHT_SMALL_/g,u.Ret).replace(/_QUESTION_LINE_HEIGHT_/g,u.lineHeight).replace(/_ANSWER_FONT_SIZE_SMALL_/g,d.Bet).replace(/_ANSWER_FONT_SIZE_/g,d.fontSize).replace(/_ANSWER_FONT_FAMILY_/g,d.fontFamily).replace(/_ANSWER_COLOR_/g,d.color).replace(/_ANSWER_FONT_WEIGHT_/g,d.fontWeight).replace(/_ANSWER_LINE_HEIGHT_SMALL_/g,d.Ret).replace(/_ANSWER_LINE_HEIGHT_/g,d.lineHeight).replace(/_BUTTON_BACKGROUND_COLOUR_/g,l.background).replace(/_BUTTON_TEXT_COLOUR_/g,p.color).replace(/_BUTTON_FONT_SIZE_SMALL_/g,p.Bet).replace(/_BUTTON_FONT_SIZE_/g,p.fontSize).replace(/_BUTTON_FONT_FAMILY_/g,p.fontFamily).replace(/_BUTTON_FONT_WEIGHT_/g,p.fontWeight).replace(/_BUTTON_LINE_HEIGHT_SMALL_/g,p.Ret).replace(/_BUTTON_LINE_HEIGHT_/g,p.lineHeight).replace(/_BUTTON_BORDER_RADIUS_/g,l.borderRadius).replace(/_ACTIVE_STATE_COLOR_/g,l.background).replace(/_TEXT_AREA_SHADOW_/g,`${l.background}80`).replace(/_BUTTON_POSITION_/g,this.Vet(l.position)).replace(/_DEFAULT_FONT_FAMILY_/g,this.Get(this.Tet.fontFamily())).replace(/_FONT_FAMILY_/g,this.Get(r)).replace(/_FONT_SIZE_LARGE_/g,g+2).replace(/_FONT_SIZE_/g,g).replace(/_BACKGROUND_COLOUR_/g,a.background).replace(/_BACKGROUND_BORDER_RADIUS_/g,a.borderRadius).replace(/_TEXT_COLOUR_/g,this.kW.styles.textColour).replace(/_TEXT_ALIGN_/g,this.kW.styles.textAlign).replace(/_SCROLL_WIDTH_/g,this.Uet+"px").replace("_LOGO_IMAGE_WIDTH_",c.imageWidth?c.imageWidth+"px":v.imageWidth).replace("_LOGO_IMAGE_HEIGHT_",c.imageHeight?c.imageHeight+"px":v.imageHeight).replace("_IMAGE_POSITION_STYLE_",f)}catch(t){var i;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._setStyles",t),null===(i=this.g6)||void 0===i||i.Ko("GlassVoxSurvey._setStyles",t)}},this.Het=()=>{try{const t=this.$et(),e=this.wet===this.kW.pages.length-1,n=this.wet>0&&(t.backButtonLabel||"").length>0,s=t.questions,i=s.some((t=>"text"!==t.type)),o=s.some((t=>"csat"===t.type&&"stars"===t.iconsType)),r=this.qet(),a=this.jet(),l=this.Jtt.span("header.text",this.kW.header.text),c=this.Det({questions:s}),h=!!this.kW.styles.whiteLabel,u=this.kW.styles.surveyDisplayPosition,d=this.zet(),p=this.Pet(),v=n||!e?(()=>{const s=t.backButtonLabel||"",i=t.forwardButtonLabel||"";return mt.utt({dtt:n,ptt:e,backButtonLabel:s,forwardButtonLabel:i})})():"",g=e?(()=>{const e=`pages.[${this.wet}].forwardButtonLabel`,n=t.forwardButtonLabel,s=this.Jtt.span(e,n),i=this.G6+"_btnSubmit";return mt.htt(s,i,this.Jtt,[{attribute:"title",path:e,fallbackText:n}],p)})():"",f=mt.error(),m=this.Wet({Zet:h}),_=mt.Ctt({I7:r,ytt:a,wtt:l,Ttt:c,Stt:v,Itt:g,Ett:f,xtt:m,position:u,ktt:d,ntt:this.Jtt}),b=this.V6.shadowRoot.querySelector("#survey-body");b.innerHTML=_,n&&this.Qet(this.V6.shadowRoot.querySelector("#btnBack"),"click",this.Yet),e?this.Qet(this.V6.shadowRoot.querySelector(`#${this.G6}_btnSubmit`),"click",this.Ket):this.Qet(this.V6.shadowRoot.querySelector("#btnForward"),"click",this.Xet),o&&this.Jet(),i&&this.Qet(b,"keyup",this.tnt);const y=this.V6.shadowRoot.querySelector("#gb_feedback_form");this.ent(y),this.Qet(y,"scroll",this.nnt(y)),this.Qet(this.V6.shadowRoot.querySelector("#closex"),"click",this.tet),this.Qet(this.V6.shadowRoot.querySelector("#btnErrorOk"),"click",this.tet),this.Qet(document,"keyup",this.snt),this.int();const x=this.V6.shadowRoot.querySelectorAll("input.csat,input.nps");for(let t=0;t<x.length;t++)this.Qet(x[t],"change",this.ont);const C=this.V6.shadowRoot.querySelector("#gb_feedback_form").getElementsByTagName("input");for(let t=0;t<C.length;t++)this.Qet(C[t],"change",this.rnt);const w=this.V6.shadowRoot.querySelector("#gb_feedback_form").getElementsByTagName("textarea");for(let t=0;t<w.length;t++)this.Qet(w[t],"blur",this.rnt),this.Qet(w[t],"keyup",this.ant);this.fet=new k({J4:y,config:this.kW}),this.fet.x0(((t,e)=>{const n=this.lnt.get(t);n&&this.cnt({...n,discardResponse:!e})}))}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._setCurrentPageContent",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxSurvey._setCurrentPageContent",e)}},this.hnt=(t,e)=>mt.S7(t,e,this._et),this.unt=(t,e)=>null==t||!t.trim()||e?null:t,this.dnt=()=>{try{if(this.iet)return!0;let t=!1;const e=[];let n=0,s=0,i=0,o=0;const r=this.$et();for(let a=0;a<r.questions.length;a++){const l=r.questions[a],c="qn_"+this.wet+"_"+a,h=this.V6.shadowRoot.querySelectorAll('form [name="'+c+'"]'),u=this.V6.shadowRoot.querySelector("#"+c+"_container"),d=!(null==u||!u.hasAttribute("hidden"));if(l.answer=null,h)if(h.length>1)switch(l.type){case"multi":if(u&&!d){const t=u.querySelectorAll("input:checked");l.answer=t.length&&t.length>0?t.length:null}else l.answer=0;break;case"single":if(u&&!d){const t=`input[name='${c}']:checked`,e=u.querySelectorAll(t);l.answer=e.length&&e.length>0?e.length:null}else l.answer=0;break;default:{let t=0;for(;t<h.length&&null===l.answer;)h[t].checked&&(l.answer=h[t].getAttribute("val")),t++;break}}else l.answer=this.unt(h[0].value,d);switch(l.required&&null===l.answer&&!d?(u&&u.classList.add("missing"),t=!0):u&&u.classList.remove("missing"),l.type){case"csat":null===l.answer||d||(n++,isNaN(parseInt(l.answer))||(s+=parseInt(l.answer)));break;case"nps":null===l.answer||d||(i++,isNaN(parseInt(l.answer))||(o+=parseInt(l.answer)));break;case"text":this.unt(l.answer,d)&&!d&&e.push(l.answer)}}if(!this.Ktt&&!t){const t={source:"glassvox",type:"Feedback:Success",userData:{campaignId:this.kW.surveyId,comment:e.join("<|>"),nps:i>0?Math.round(o/i):void 0,csat:n>0?Math.round(s/n):void 0}};this.v6&&this.v6.emit("glassvoxPageCompleted",t)}return!t}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._collectPageResults",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxSurvey._collectPageResults",e)}},this.pnt=t=>this.vnt+((t||(new Date).getTime())-this.gnt),this.ant=t=>{t&&t.target&&(t.target.fnt=(new Date).getTime())},this.rnt=t=>{try{if(t&&t.target){this.mnt=!0;const n=t.target,s=parseInt(n.getAttribute("data-page")),i=parseInt(n.getAttribute("data-question")),o=this.kW.pages[s].questions[i],r=!!o.visibilityLogic,a=o.id,l="qn_"+this.wet+"_"+i,c=this.V6.shadowRoot.querySelector("#"+l+"_container"),h=c.hasAttribute("hidden");let u=(new Date).getTime();if("multi"===o.type){const t=c.querySelectorAll("input:checked");let e=[];if(t.length)for(let n=0;n<t.length;n++)e.push(t[n].value);o.answer=e}else if("single"===o.type){const t=`input[name='${l}']:checked`,e=c.querySelectorAll(t),n=[];if(e.length)for(let t=0;t<e.length;t++)n.push(e[t].value);o.answer=n}else"text"===o.type&&n.fnt&&(u=parseInt(n.fnt)),"text"===o.type?o.answer=""===n.value?null:n.value:o.answer=n.getAttribute("val");const d={surveyId:this.kW.surveyId,versionId:this.kW.versionId,pageId:this.kW.pages[s].id,questionId:a,questionTitle:o.text,questionType:o.type,response:o.answer,responseTitle:this._nt(o,o.answer),ms:this.pnt(u),timestamp:(new Date).getTime(),discardResponse:!1,languageCode:this.Jtt.u7()},p=null===o.answer||Array.isArray(o.answer)&&!o.answer.length;if(o.required&&p&&!h)c&&c.classList.add("missing");else if(c&&c.classList.remove("missing"),this.v6&&!this.Ktt){var e;if("text"===d.questionType&&(null===(e=d.response)||void 0===e||!e.trim()))return void this.pet(a,"");r&&this.lnt.set(a,d),this.cnt(d)}this.pet(a,o.answer)}}catch(t){var n;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._sendResponse",t),null===(n=this.g6)||void 0===n||n.Ko("GlassVoxSurvey._sendResponse",t)}},this._nt=(t,e)=>{if(!bt.Gtt(null==t?void 0:t.type))return null;if(!(t&&e&&Array.isArray(e)&&null!=e&&e.length))return[];const n=e.reduce(((e,n)=>{const s=(e=>{var n;return null===(n=((null==t?void 0:t.options)||[]).find((t=>t.id===e)))||void 0===n?void 0:n.text})(n);return s&&e.push(s),e}),[]);return n.length!==e.length?[]:n},this.cnt=t=>{this.v6.emit("glassvoxResponse",t)},this.bnt=()=>{var t;null===(t=this.v6)||void 0===t||t.emit("glassvoxComplete",{surveyId:this.kW.surveyId,duration:this.pnt(),languageCode:this.Jtt.u7()}),this.bet.l6()},this.ynt=()=>{var t;null===(t=this.v6)||void 0===t||t.emit("glassvoxClose",{surveyId:this.kW.surveyId,languageCode:this.Jtt.u7()}),this.bet.l6()},this.oet=()=>{try{for(let t=0;t<this.kW.pages.length;t++)for(let e=0;e<this.kW.pages[t].questions.length;e++)delete this.kW.pages[t].questions[e].answer;this.wet=0,this.eet=!1,this.iet=!1,this.net=!1,this.Het(),this.mnt=!1,this.gnt=0,this.vnt=0,this.xnt()}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._reset",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxSurvey._reset",e)}},this.Xet=()=>{try{this.dnt()&&this.wet<this.kW.pages.length-1&&(this.wet++,this.xnt(),this.Het())}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._nextPage",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxSurvey._nextPage",e)}},this.Yet=()=>{try{this.dnt()&&(this.wet>0&&(this.wet--,this.xnt()),this.Het())}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._previousPage",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxSurvey._previousPage",e)}},this.xnt=()=>{this.Jtt.p7(this.wet)},this.Ket=()=>{this.kW.privacy&&this.kW.privacy.anonymiseFeedbackPrompt?this.Cnt():this.wnt()},this.Cnt=()=>{try{if(this.dnt()){var t;this.iet=!0;const e=(null===(t=this.kW)||void 0===t||null===(t=t.privacy)||void 0===t||null===(t=t.privacyPolicy)||void 0===t?void 0:t.length)>0?this.kW.privacy.privacyPolicy:null,n=this.kW.styles.surveyDisplayPosition;this.V6.shadowRoot.querySelector("#survey-body").innerHTML=mt.vtt({message:this.Jtt.span("privacy.messageText"),confirmButtonText:this.Jtt.span("privacy.confirmButtonText"),ftt:this.Jtt.span("privacy.moreInformationButtonText"),I7:this.qet(),gtt:this.hnt("happyface"),mtt:e||"https://www.glassbox.com/privacy-policy",position:n,customStyles:this.Tnt()}),this.Snt(),this.Qet(this.V6.shadowRoot.querySelector("#btnPrivacyConfirm"),"click",this.wnt),this.Qet(this.V6.shadowRoot.querySelector("#closex"),"click",this.tet),this.int(),this.Jtt.init()}}catch(t){var e;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._showConfirmPage",t),null===(e=this.g6)||void 0===e||e.Ko("GlassVoxSurvey._showConfirmPage",t)}},this.wnt=()=>{try{if(this.iet||this.dnt()){this.v6&&!this.Ktt&&this.bnt(),this.eet=!0;const t=this.kW.styles.surveyDisplayPosition;this.kW.thankyou?(this.V6.shadowRoot.querySelector("#survey-body").innerHTML=mt._tt({btt:this.Jtt.span("thankyou.text",this.kW.thankyou.text),position:t,I7:this.qet(),ytt:this.jet(!0),xtt:this.Wet({Zet:this.kW.styles.whiteLabel,Int:!0}),customStyles:this.Tnt()}),this.Snt(),this.Qet(this.V6.shadowRoot.querySelector("#closex"),"click",this.tet),this.int(),this.Jtt.init()):this.tet()}}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._showThankYouPage",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxSurvey._showThankYouPage",e)}},this.Qet=(t,e,n)=>{try{t&&t.addEventListener&&t.addEventListener(e,n)}catch(t){var s;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._setEventHandler",t),null===(s=this.g6)||void 0===s||s.Ko("GlassVoxSurvey._setEventHandler",t)}},this.jet=t=>{let e,n="";try{if(t?this.kW.thankyou&&(e=this.kW.thankyou.image,"default"===e&&(e=this.Tet.Btt())):e=this.kW.header.useImage?this.kW.header.image:"",e&&e.length>0)if(0===e.indexOf("<svg"))n=e;else{const s=this.kW.header.imageName||"Logo image";n=t?`<img alt="${s}" title="${s}" src="${e}"/>`:`<div class="img-container"><img alt="${s}" title="${s}" src="${e}" /></div>`}}catch(t){var s;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._getLogo",t),null===(s=this.g6)||void 0===s||s.Ko("GlassVoxSurvey._getLogo",t)}return n},this.ont=t=>{try{var e;const n=null==t||null===(e=t.target)||void 0===e?void 0:e.closest(".horizontal-options");if(n){const e=t.target.getAttribute("name"),s=n.querySelectorAll('input[name="'+e+'"]'),i=!!n.querySelectorAll('input[name="'+e+'"]:checked').length;for(let t=0;t<s.length;t++)s[t].checked||!i?s[t].classList.remove("unchecked"):i&&s[t].classList.add("unchecked")}}catch(t){var n;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._csatNpsSetClasses",t),null===(n=this.g6)||void 0===n||n.Ko("GlassVoxSurvey._csatNpsSetClasses",t)}},this.Ent=(t,e)=>{t.forEach((t=>{+t.dataset.rating<=e?t.classList.add("filled"):t.classList.remove("filled")}))},this.Jet=()=>{const t=this.V6.shadowRoot.querySelectorAll(".csat-star");const e=this.V6.shadowRoot.querySelectorAll(".stars input.csat");this.V6.shadowRoot.querySelector(".gb-voc_csat.stars").addEventListener("change",(()=>{const t=Array.from(e).findIndex((t=>!t.className.includes("unchecked")));e.forEach(((e,n)=>{-1!==n&&n<=t?e.classList.add("star-filled"):e.classList.remove("star-filled")}))}));const n=this.Ent;t.forEach((e=>{e.addEventListener("mouseover",(function(){0>+this.dataset.rating||n(t,+this.dataset.rating)})),e.addEventListener("mouseleave",(function(){n(t,0)}))}))},this.knt=()=>{const t=this.Jtt.span("requiredQuestionAlert.text","*required question",[],"formActions.required");return mt.E7(t)},this.qet=()=>{const t="closeSurveyTooltip.text",e="Close",n=this.Jtt.span(t,e),s=this.hnt("close");return mt.I7(n,s,this.Jtt,[{attribute:"title",path:t,legacyDictionaryPath:"formActions.close",fallbackText:e},{attribute:"aria-label",path:t,legacyDictionaryPath:"formActions.close",fallbackText:e}])},this.Wet=function(){let{Zet:t=!0,Int:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return"";const n=u.hnt("glassbox"),s=e?null:u.Pet();return mt.xtt(n,s)},this.Ont=t=>{let{X4:e,Lnt:n,A7:s,customStyles:i,Nnt:o}=t;if(!e.options)return"";const r=void 0!==e.randomizeOptions&&e.randomizeOptions,a=this.$nt(e.options,r),l=this.Jtt.m7(o),c=a.map(((t,i)=>{const r=this.Jtt.b7(o,t.id);return mt.ltt({questionId:e.id,name:n,A7:s,value:t.id,ott:this.Jtt.span(r,t.text),index:i})})).join(""),h="gb_feedback_legend_"+n;return mt.ctt({questionId:e.id,L7:this.Jtt.span(l,e.text),options:c,name:n,F7:h,U7:this.knt(),customStyles:i,ntt:this.Jtt})},this.Mnt=t=>{let{X4:e,Lnt:n,A7:s,customStyles:i,Nnt:o}=t;if(!e.options)return"";const r=void 0!==e.randomizeOptions&&e.randomizeOptions,a=this.$nt(e.options,r).map(((t,i)=>{const r=this.Jtt.b7(o,t.id);return mt.itt({questionId:e.id,name:n,A7:s,value:t.id,ott:this.Jtt.span(r,t.text),index:i})})).join(""),l=this.Jtt.m7(o),c=`gb_feedback_legend_${n}`;return mt.att({questionId:e.id,L7:this.Jtt.span(l,e.text),options:a,name:n,F7:c,U7:this.knt(),customStyles:i,ntt:this.Jtt})},this.Ant=t=>{var e,n;let{X4:s,Lnt:i,A7:o,customStyles:r,Nnt:a}=t;const l="Worst",c="Best",h=s.options||[],u=null===(e=h[0])||void 0===e?void 0:e.text,d=null===(n=h[h.length-1])||void 0===n?void 0:n.text,p="gb_feedback_legend_"+i,v=i+"_csatWorst",g=i+"_csatBest",f=s.iconsType||"smiles",m=this.Jtt.m7(a),_=this.Jtt._7(a,0),b=this.Jtt._7(a,h.length-1),y=[1,2,3,4,5].reduce(((t,e)=>(t[e]=this.Jtt.span("",e.toString(),["screen-reader"],`csat.${e}`),t)),{}),x=(t,e,n)=>t?this.Jtt.span(e,t):"numbers"===s.iconsType&&void 0===(null==s?void 0:s.showLabels)?n:"",C=mt.O7({questionId:s.id,L7:this.Jtt.span(m,s.text),iconsType:f,N7:this.Tet.N7(),M7:y,name:i,A7:o,F7:p,B7:x(u,_,l),R7:x(d,b,c),V7:v,G7:g,U7:this.knt(),customStyles:r,H7:!(s.showLabels||u||d||"numbers"===s.iconsType&&void 0===(null==s?void 0:s.showLabels))});return s.answer?C.replace('val="'+s.answer+'"','val="'+s.answer+'" checked'):C},this.Fnt=t=>{var e,n;let{X4:s,Lnt:i,A7:o,customStyles:r,Nnt:a}=t;const l=s.options||[],c=(null===(e=l[0])||void 0===e?void 0:e.text)||"",h=(null===(n=l[l.length-1])||void 0===n?void 0:n.text)||"",u="gb_feedback_legend_"+i,d=i+"_npsWorst",p=i+"_npsBest",v=this.Jtt.m7(a),g=this.Jtt._7(a,0),f=this.Jtt._7(a,l.length-1),m=mt.P7({questionId:s.id,L7:this.Jtt.span(v,s.text),W7:this.Tet.W7(),name:i,A7:o,F7:u,Z7:this.Jtt.span(g,c),Q7:this.Jtt.span(f,h),Y7:d,K7:p,U7:this.knt(),customStyles:r});return s.answer?m.replace('val="'+s.answer+'"','val="'+s.answer+'" checked'):m},this.Bnt=t=>{let{X4:e,Lnt:n,A7:s,customStyles:i,Nnt:o}=t;const r="gb_feedback_legend_"+n,a=this.Jtt.m7(o),l=[{attribute:"placeholder",path:`${this.Jtt.f7(o)}.placeholder`,fallbackText:e.placeholder||""}];return mt.ett({questionId:e.id,L7:this.Jtt.span(a,e.text),name:n,A7:s,F7:r,answer:e.answer||"",U7:this.knt(),ntt:this.Jtt,stt:l,customStyles:i})},this.Rnt=t=>{let{X4:e,Nnt:n}=t;if(!e)return"";const s=`qn_${this.wet}_${n}`,i=`data-page="${this.wet}" data-question="${n}" data-type="${e.type}"`,o=e.customStyles;switch(e.type){case"csat":return this.Ant({X4:e,Lnt:s,A7:i,Nnt:n,customStyles:o});case"nps":return this.Fnt({X4:e,Lnt:s,A7:i,Nnt:n,customStyles:o});case"multi":return this.Mnt({X4:e,Lnt:s,A7:i,Nnt:n,customStyles:o});case"single":return this.Ont({X4:e,Lnt:s,A7:i,Nnt:n,customStyles:o});default:return this.Bnt({X4:e,Lnt:s,A7:i,Nnt:n,customStyles:o})}},this.Vnt=t=>{let{questions:e}=t;return null!=e&&e.length?e.reduce(((t,e,n)=>`${t}${this.Rnt({X4:e,Nnt:n})}`),""):""},this.Det=t=>{let{questions:e}=t;if(null==e||!e.length)return"";const n=this.Vnt({questions:e});return mt.form(n)},this.Snt=()=>{this.V6.shadowRoot.querySelector("#survey-body .survey-container").focus()},this.int=()=>{const t=Array.from(this.V6.shadowRoot.querySelectorAll(["a[href]","button:not([disabled])","textarea:not([disabled])",'input[type="text"]:not([disabled])','input[type="radio"]:not([disabled])','input[type="checkbox"]:not([disabled])',"select:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","))),e=t[0],n=t[t.length-1];this.Qet(document,"keydown",(t=>{if(!("Tab"!==t.code||9===t.keyCode))return;const s=this.V6.shadowRoot.activeElement===e,i=this.V6.shadowRoot.activeElement===n;t.shiftKey&&s?(t.preventDefault(),n.focus()):!t.shiftKey&&i&&(t.preventDefault(),e.focus())}))},this.$nt=(t,e)=>{if(e){const e=t.filter((t=>100!==t.order));for(let t=e.length-1;t>0;t--){let n=this.Gnt(t),s=e[t];e[t]=e[n],e[n]=s}const n=t.filter((t=>100===t.order));return 1==n.length&&e.push(n[0]),e}return t.sort(((t,e)=>t.order>e.order?1:t.order<e.order?-1:void 0))},this.Gnt=function(t){return Math.floor(Math.random()*(t+1))},this.Unt=()=>{try{this.V6.shadowRoot.innerHTML=mt.Ltt(""),this.Het()}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._setContent",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxSurvey._setContent",e)}},this.Ytt=t=>{try{this.visible=!!t,setTimeout((()=>{var t;null===(t=this.V6)||void 0===t||null===(t=t.shadowRoot)||void 0===t||null===(t=t.querySelector(".survey-container"))||void 0===t||t.classList.toggle("ready",this.visible)}),0),this.visible?this.gnt=(new Date).getTime():this.gnt&&(this.vnt+=(new Date).getTime()-this.gnt),this.Ktt||t||this.eet||(this.mnt&&this.dnt(),this.ynt())}catch(t){var e;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._updateVisibleStatus",t),null===(e=this.g6)||void 0===e||e.Ko("GlassVoxSurvey._updateVisibleStatus",t)}},this.q6=()=>{try{if(document.body&&(document.body.appendChild(this.V6),this.V6.attachShadow({mode:"open"}),this.Jtt.v7(this.V6.shadowRoot),this.Uet=window.innerWidth-document.documentElement.clientWidth,window.location.href.indexOf("localhost")>0&&(this.Uet=0),this.Unt(),this.Met(),this.Ytt(!0),this.v6&&!this.Ktt)){const t=!(!this.kW.privacy||!this.kW.privacy.anonymiseFeedbackPrompt)&&this.kW.privacy.anonymiseFeedbackPrompt,e=this.Xtt?this.Xtt:null;this.v6.emit("glassvoxOpen",{surveyId:this.kW.surveyId,versionId:this.kW.versionId,anonymiseFeedbackPrompt:t,eventTrigger:e,languageCode:this.Jtt.u7()})}}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxSurvey._addCustomComponentToDocument",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxSurvey._addCustomComponentToDocument",e)}},this.Hnt=(t,e,n,s)=>{if(!this.qnt(t,e,n,s,window))return;const i=this.ztt(),o=this.QM||0;if(!this.Eet||i){var r;const t=null==e||null===(r=e.hg)||void 0===r?void 0:r.target,{Mv:n,jnt:s}=function(t){var e;const n=(null==t?void 0:t.getAttribute("action"))||"",s="true"===(null==t||null===(e=t.dataset)||void 0===e?void 0:e.Dnt),i=window.location.hostname;let o=!1,r=!0;if("function"!=typeof(null==t?void 0:t.checkValidity)||t.checkValidity()||(o=!0),!o&&"function"==typeof(null==t?void 0:t.onsubmit))try{!1===t.onsubmit.call(t)&&(o=!0)}catch(t){o=!0}r=!(!s&&""!==n&&"#"!==n)||new URL(n,window.location.href).hostname===i;return{Mv:o,jnt:r}}(t);if((n||!s)&&!i)return;this.het((()=>{if(this.qa.lr(this.Ztt))return;const t=Date.now()+o;this.qa.ur(this.Ztt,t),setTimeout((()=>{this.jtt(),this.Eet=!i,this.qa.remove(this.Ztt)}),o)}))}},this.qnt=(t,e,n,s,o)=>!!(t&&e&&n&&s)&&(!i.default.JE()&&t.match.some((r=>{var a,l,c,h;let u=t.urls,d=r.actionPattern,p=r.elementPattern,v=r.cssPattern,g=r.externalIdPattern,f=r.valuePattern,m=r.visualNamePattern,_=r.fromPattern,b=r.toPattern;if(r.action_type&&r.action_type!==n)return!1;if(d&&d.indexOf("*")<0&&d.split("|").indexOf(s)<0)return!1;var y,x,C,w,T,S,I,E,k;if("segment_change"===n)return(!_||"*"===_||(null===(y=e.zn)||void 0===y?void 0:y.indexOf(_))>-1)&&(!b||"*"===b||(null===(x=e.Wn)||void 0===x?void 0:x.indexOf(b))>-1);if(u&&u.length>0){let t=u.map((t=>new RegExp(t.replace(/\\\\/g,"\\")))),e=i.default.Xr(o.location.href);if(!t.some((t=>t.test(e))))return!1}function O(t,e,n){if(t&&e.element){if(!e.element.matches)return!1;const s=t.split("|");let o;if(o=s&&s.some((t=>{const n=i.default.sS(t);return i.default.$E(n)&&e.element.matches(n)})),!o&&e.element.closest("form")&&(null==n?void 0:n.indexOf("formValidationError"))>-1&&(o=s&&s.some((t=>{const n=i.default.$E(t.trim())&&e.element.querySelector(t.trim());return n&&i.default.vj(n)}))),!o)return!1}return!0}if(!O(p,e,d))return null===(C=this.g6)||void 0===C||C.M6({issue:"actionMatchFailed",elementPatternToMatch:p,cssSelector:e.cssSelector,actionPattern:d},!0),!1;if(!O(v,e,d))return null===(w=this.g6)||void 0===w||w.M6({issue:"actionMatchFailed",cssPatternToMatch:v,cssSelector:e.cssSelector,actionPattern:d},!0),!1;if(g&&"*"!==g&&!((null===(a=e.znt)||void 0===a||null===(a=a.externalId)||void 0===a?void 0:a.indexOf(g))>-1))return null===(T=this.g6)||void 0===T||T.M6({issue:"actionMatchFailed",externalIdPatternToMatch:g,externalId:null===(S=e.znt)||void 0===S?void 0:S.externalId},!0),!1;if(f&&"*"!==f&&!((null===(l=e.value)||void 0===l?void 0:l.indexOf(f))>-1))return null===(I=this.g6)||void 0===I||I.M6({issue:"actionMatchFailed",valuePatternToMatch:f,value:e.value},!0),!1;if(m&&"*"!==m){var L,N,$;if(-1===(null==d?void 0:d.indexOf("formValidationError"))&&e.znt)if(!(e.znt.visualName.indexOf(m)>-1))return null===(N=this.g6)||void 0===N||N.M6({issue:"actionMatchFailed",visualNamePatternToMatch:m,visualName:e.znt.visualName},!0),!1;if((null==d?void 0:d.indexOf("formValidationError"))>-1&&!((null===(L=e.message)||void 0===L?void 0:L.indexOf(m))>-1))return null===($=this.g6)||void 0===$||$.M6({issue:"actionMatchFailed",case:"formValidationError"},!0),!1}return!_||"*"===_||(null===(c=e.fromUrl)||void 0===c?void 0:c.indexOf(_))>-1?!b||"*"===b||(null===(h=e.toUrl)||void 0===h?void 0:h.indexOf(b))>-1||(null===(k=this.g6)||void 0===k||k.M6({issue:"actionMatchFailed",toPatternToMatch:b,toUrl:e.toUrl},!0),!1):(null===(E=this.g6)||void 0===E||E.M6({issue:"actionMatchFailed",fromPatternToMatch:_,fromUrl:e.fromUrl},!0),!1)}))),this.het=t=>{const e=this.Cet()+1;this.xet=e,this.Pnt(e),e>=(this.Wnt||0)&&(t(),this.K9.remove(this.yet))},this.Oet=t=>{console.error("ERROR: ",t);try{if(this.V6&&this.V6.shadowRoot){this.net=!0;const t=this.V6.shadowRoot.querySelectorAll(".gb-voc_group");for(let e=0;e<t.length;e++)t[e].classList.add("hidden");const e=this.V6.shadowRoot.querySelector(".gb-voc_error");e&&e.classList.remove("hidden")}}catch(t){}},this.snt=t=>{"Escape"===t.code&&this.tet()},this.tnt=t=>{if("Enter"!==t.code)return;const e=t.target;["checkbox","radio"].includes(e.type)&&"function"==typeof e.click&&e.click()},this.nnt=t=>()=>this.ent(t),this.ent=t=>{if(!t)return;const{scrollTop:e,scrollHeight:n,offsetHeight:s}=t,i=!!e,o=e+s<n;t.classList.toggle("top-border",i),t.classList.toggle("bottom-border",o)},this.kW=t||{},this.v6=e,this.Ktt=!!n,this.QM=s,this.qa=o,this.K9=r,this.Y9=l,this.l7=c,this.g6=h,this.wet=0,this.eet=!1,this.net=!1,this.iet=!1,this.mnt=!1,this.Uet=0,this.Eet=!1,this.Let=null,this.gnt=0,this.vnt=0,this.Ptt=a,this.fet=null,this.vet=new Map,this.lnt=new Map,this._6=[],this.Wnt=0,this.visible=!1,this.met(),this.ket(),this.Net(),this.Iet()}zet(){var t;return null===(t=this.kW)||void 0===t||null===(t=t.header)||void 0===t?void 0:t.customStyles}Pet(){var t;return null===(t=this.kW)||void 0===t||null===(t=t.styles)||void 0===t?void 0:t.footerStyles}Tnt(){var t;return null===(t=this.kW)||void 0===t||null===(t=t.thankyou)||void 0===t?void 0:t.customStyles}cet(){const t=document.querySelectorAll("gb-voc-survey"),e=Array.from(t).some((t=>{var e;return"none"!==(null==t||null===(e=t.style)||void 0===e?void 0:e.display)}));return this.Let&&this.Let!==this.kW.surveyId||e}Get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Tet.fontFamily();const n=this.Tet.Ftt(),s=t||e||this.Tet.fontFamily();return`${s}, ${n[s]||"sans-serif"}`}Aet(t,e){const n="number"==typeof t.fontSize,s=n?`${t.fontSize}px`:"inherit",i=n?`${this.Znt(t.fontSize)}px`:"inherit",o=n?this.Qnt(t.fontSize):"inherit",r=n?`${this.Znt(o)}px`:"inherit";return{fontSize:s,fontFamily:this.Get(t.fontFamily,e),lineHeight:i,color:t.color,fontWeight:t.bold?"600":"400",Bet:`${o}px`,Ret:r}}Qnt(t){return t>20?t-4:t<=20&&t>12?t-2:t-1}Znt(t){if(!t)return"initial";const e=Math.ceil(1.5*t);return e+e%2}Vet(t){switch(t){case"left":return"flex-start";case"right":return"flex-end";default:return"center"}}Fet(t){switch(t){case"left":return"flex-start";case"right":return"flex-end";default:return"center"}}Cet(){var t;if(!(null===(t=this.kW)||void 0===t?void 0:t.surveyId))return 0;const e=this.K9.lr(this.yet);return e?parseInt(e,10):0}Pnt(t){var e;(null===(e=this.kW)||void 0===e?void 0:e.surveyId)&&this.K9.ur(this.yet,t)}}class xt extends HTMLElement{constructor(){super()}}function Ct(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function wt(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Tt=new WeakSet;class St{constructor(t){Ct(this,Tt),this.kW=t,this.Q9=null==t?void 0:t.surveyId}static Ynt(){try{return window[St.Knt]||(window[St.Knt]={}),window[St.Knt]}catch(t){return{}}}static Xnt(t,e){try{St.Ynt()[t]=e}catch(t){}}static get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return St.Ynt()[t]||e}catch(t){return e}}static Jnt(){try{return St.Ynt()[St.tst]||{}}catch(t){return{}}}static est(t){try{return St.Jnt()[t]||{}}catch(t){return{}}}static nst(t,e,n){try{if(!t||!e||"function"!=typeof n)return;St.Ynt()[t]||(St.Ynt()[t]={}),St.Ynt()[t][e]=n}catch(t){}}static init(t){try{St.Xnt("version",t),St.Xnt(St.sst,!1),St.Xnt(St.ist,(()=>St.Xnt(St.sst,!0))),St.ost(),St.rst(),St.ast()}catch(t){}}static lst(t){try{if(null==t||!t.length)return;St.Ynt()[St.tst]||(St.Ynt()[St.tst]={}),t.forEach((t=>{const e=t.surveyId,n=t.languages||[];St.Ynt()[St.tst][e]={config:t,supportsMultipleLanguage:!(null==n||!n.length),supportsSiteLanguage:n.includes(K.i7())}}))}catch(t){}}static cst(t,e){try{St.Ynt()[St.hst]||(St.Ynt()[St.hst]=[]),It.call(St,St.Ynt()[St.hst],t,e)}catch(t){}}static log(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(!St.get(St.sst)&&n)return;St.Ynt()[St.ust]||(St.Ynt()[St.ust]=[]),St.Ynt()[St.ust].push({event:t,...e?{data:e}:{}})}catch(t){}}static ost(){try{St.nst(St.dst,"languageData",(()=>{try{var t;return{translationServiceLanguage:K.i7(),translationServiceDirection:K.o7(),siteLanguage:document.documentElement.lang||(null===(t=document.querySelector("html"))||void 0===t?void 0:t.getAttribute("lang")),siteDirection:document.dir||document.documentElement.dir||window.getComputedStyle(document.body,null).getPropertyValue("direction")||"ltr",browserLanguage:navigator.language||navigator.userLanguage}}catch(t){return{}}}))}catch(t){}}static rst(){try{Object.entries({isUrlMatchesCurrent:t=>{try{return o.matches(t)}catch(t){return console.error(t),!1}},encodeUUID:t=>{try{return a.encode(t)}catch(t){return console.error(t),null}},isMobileDevice:()=>{try{return i.default.Xm()}catch(t){return console.error(t),!1}},transformToValidSelector:t=>{try{return i.default.sS(t)}catch(t){return console.error(t),null}},findElementsOnPage:function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"red";try{const s=i.default.sS(t),o=Array.from(document.querySelectorAll(s));if(console.info("Has matches: ",!(null==o||!o.length)),console.info("Number of matches: ",(null==o?void 0:o.length)||0),console.info("Found elements: ",o),e&&(o.forEach((t=>{try{t.style.outline=`2px solid ${n}`}catch(t){}})),1===o.length))try{o[0].scrollIntoView({behavior:"smooth",pst:"center"})}catch(t){}return e?()=>o.forEach((t=>{try{t.style.outline=""}catch(t){}})):()=>{}}catch(t){return console.error(t),()=>{}}}}).forEach((t=>{let[e,n]=t;try{St.nst(St.vst,e,n)}catch(t){}}))}catch(t){}}static ast(){try{St.Xnt(St.gst,(()=>{try{var t,e,n;const s=(null===(t=(e=St.get(St.dst,{})).languageData)||void 0===t?void 0:t.call(e))||{},r=St.get(St.tst,{}),a=St.get("version",null);return{userData:{date:(new Date).toISOString(),glassvoxVersion:a||"unknown",detectorVersion:(null===(n=window._detector)||void 0===n?void 0:n.version)||"unknown",isMobileDevice:i.default.Xm(),url:o.u9(o.c9(null)),siteLanguage:s.siteLanguage||"unknown",siteDirection:s.siteDirection||"ltr"},configuredData:{numberOfSurveys:Object.keys(r).length,hasSurveysToTrigger:Object.values(r).some((t=>t.canBeTriggered)),surveys:r,appLevelCooldownData:St.get(St.fst,(()=>({})))()},logs:St.get(St.ust,[])}}catch(t){return console.error(t),{}}}))}catch(t){}}Xnt(t,e){try{wt(Tt,this,kt).call(this)[t]=e}catch(t){}}nst(t,e,n){try{if(!name||"function"!=typeof n)return;const s=wt(Tt,this,kt).call(this);s[t]||(s[t]={}),s[t][e]=n}catch(t){}}Ko(t,e){try{const n=wt(Tt,this,kt).call(this);n[St.hst]||(n[St.hst]=[]),It.call(St,n[St.hst],t,e),this.M6(`Error ${Et.call(St,e)} happened in ${t}`)}catch(t){}}b6(t){try{this.Xnt(St.mst,t)}catch(t){}}N6(t,e){try{const n=wt(Tt,this,kt).call(this);n[St._st]||(n[St._st]={}),n[St._st][t]=e}catch(t){}}L6(t){try{if(null==t||!t.length)return;const e=wt(Tt,this,kt).call(this),n=t.map((t=>{var e;const n=!(null!==(e=t.urls)&&void 0!==e&&e.length)||(t.urls||[]).some((t=>o.matches(t))),{bst:s,hasValidSelector:r}=t.match.reduce(((e,n)=>{const s=n.elementPattern||n.cssPattern,o=`Action (Name: ${t.name}; id: ${t.id}`;if(!s)return this.M6(`Selector for the ${o} is not defined.`),e;const r=i.default.sS(s),a=!!document.querySelector(r);return a||this.M6(`Element with selector ${r} for ${o} does not exist on the page.`),{bst:[...e.bst,{...n,formattedSelector:r,elementExists:a}],hasValidSelector:e.hasValidSelector||a}}),{bst:[],hasValidSelector:!1});return{...t,hasValidUrl:n,hasValidSelector:r,match:s}})),s=n.every((t=>!t.hasValidUrl)),r=n.every((t=>!t.hasValidSelector));s&&this.M6("None of the provided actions URLs is matches current page."),r&&this.M6("None of the provided actions selectors is matches any elements on the page."),e[St.yst]={list:n,noValidUrls:s,noValidSelectors:r}}catch(t){}}M6(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!t||"string"!=typeof t&&"object"!=typeof t)return;const n=wt(Tt,this,kt).call(this);n[St.xst]||(n[St.xst]=[]),!St.get(St.sst)&&e||n[St.xst].push(t),St.log("issueRegistered",{surveyId:this.Q9,..."string"==typeof t?{issue:t}:t},e)}catch(t){}}}function It(t,e,n){try{const s={source:e,message:Et.call(R,n)};t.push(s),R.log("error",s)}catch(t){}}function Et(t){return(null==t?void 0:t.message)||t||"Unknown error"}function kt(){try{const t=R.Ynt();t[R.tst]||(t[R.tst]={});const e=t[R.tst];return e[this.Q9]||(e[this.Q9]={}),e[this.Q9]}catch(t){return{}}}R=St,St.Knt="_glassvox",St.hst="errors",St.mst="canBeTriggered",St._st="triggerBlockedBy",St.yst="actions",St.xst="issues",St.dst="dataMethods",St.vst="staticMethods",St.tst="surveys",St.fst="getAppCooldownData",St.gst="getDebugData",St.ust="logs",St.sst="detailedLogsEnabled",St.ist="enableDetailedLogs";class Ot{constructor(t,e){this.Cst=null!=t&&t.length?[...t].filter((t=>!!t.id)):[],this.l7=e,this.AN=_.A9("app-level-cooldown"),this.wst=_.L9("ac"),St.Xnt(St.fst,(()=>{const t=this.Tst(),e=this.Sst();return{cooldownRules:this.Cst,sessionMostStrictRule:t?{...t,cookieKey:this.B9(t.id),storedValue:this.Ist(this.R9(t.id),"session"),hasQuota:this.Est("session")}:void 0,daysMostStrictRule:e?{...e,cookieKey:this.B9(e.id),storedValue:this.Ist(this.R9(e.id),"persistent"),hasQuota:this.Est("day")}:void 0}}))}Wtt(){this.kst("session"),this.kst("day")}det(){return this.Est("session")&&this.Est("day")}B9(t){return _.N9(this.wst,{uuid:t})}R9(t){return{storageKey:this.AN,cookieKey:this.B9(t)}}Est(t){const e="session"===t,n=this.Ost(e);if(!n)return!0;const s=this.R9(n.id),i=this.Lst(e),o=this.Ist(s,i);if(!o)return!0;if(e)return o.n<n.surveysCount;return this.Nst(o.ts)>n.timeFrame.value||o.n<n.surveysCount}kst(t){const e="session"===t,n=this.Ost(e);if(!n)return;const s=this.R9(n.id),i=this.Lst(e),o=this.Ist(s,i),r=(new Date).getTime();if(this.$st(s,e),!o)return void this.Mst(s,{n:1,ts:e?void 0:r},i);const a=this.Nst(o.ts),l=!e&&a>n.timeFrame.value,c={...o,n:o.n+1};l&&(c.n=1,c.ts=r),this.Mst(s,c,i)}$st(t,e){const n=this.Lst(!e);this.Ist(t,n)&&this.Ast(t,n)}Mst(t,e,n){try{this.l7.set(t,e,n)}catch(t){console.error("Unable to save cooldown limit data:",t.message)}}Ist(t,e){try{return this.l7.get(t,e,!0,this.Fst)}catch(t){return}}Ast(t,e){try{this.l7.remove(t,e)}catch(t){}}Lst(t){return t?"session":"persistent"}Nst(t){if(!t)return 0;const e=Date.now()-t;return Math.ceil(e/864e5)}Bst(){return this.Cst.filter((t=>"session"===t.timeFrame.unit))}Rst(){return this.Cst.filter((t=>"day"===t.timeFrame.unit))}Vst(t,e){return this.Cst.find((n=>n.id===t&&n.timeFrame.unit===e))}Tst(){return this.Bst().sort(((t,e)=>t.surveysCount-e.surveysCount))[0]}Sst(){const t=this.Rst(),e=t=>t.surveysCount/t.timeFrame.value;if(t.length)return t.reduce(((t,n)=>{const s=e(t);return e(n)<s?n:t}),t[0])}Ost(t){return t?this.Tst():this.Sst()}Fst(t){if(t)return{n:t.showedTimes,ts:t.firstShowAt}}}class Lt{constructor(t,e,n,s,i,o,r,a,l){let c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:window.top.document,h=arguments.length>10?arguments[10]:void 0;this.Gst=t=>{try{this.Ust?this.Ust.visible?this.Ust.tet():this.Ust.jtt():(this.Ust=new yt(this.kW,this.v6,this.Ktt,void 0,this.qa,this.K9,void 0,void 0,this.l7,this.g6),this.Ust.ret=null==t?void 0:t.target,this.Ust.jtt())}catch(t){var e;this.v6&&this.v6.emit("glassvoxError","GlassVoxInstance._buttonClick",t),null===(e=this.g6)||void 0===e||e.Ko("GlassVoxInstance._buttonClick",t)}},this.f6=t=>{try{this.kW=t,this.Hst=this.qst();const e=this.jst(this.Hst,this.kW.targetDevices);this.Ust&&(this.Ust.destroy(),delete this.Ust);for(let t=0;t<this.Dst.length;t++)this.Dst[t].destroy();this.Dst=[];for(let t=0;t<this.kW.triggers.length;t++){const n=bt.Rtt(this.kW.triggers[t]);if(this.zst.length>t?this.zst[t].f6(this.kW.triggers[t]):this.zst.push(new y(this.kW.surveyId,this.qa,this.K9,this.kW.triggers[t],this.v6,e,n,this.g6)),this.Ktt||this.zst[t].y6())if(this.zst[t].m6){let n=this.Hst?this.kW.triggers[t].buttonFormat.mobile:this.kW.triggers[t].buttonFormat.desktop;this.Dst.push(new x(this.Pst(),n,this.v6,this.Gst,e,this.H6,this.g6))}else this.Ust||(this.Ust=new yt(this.kW,this.v6,this.Ktt,this.zst[t].timeout,this.qa,this.K9,this.Wst,n,this.l7,this.g6),this.zst[t]._6&&this.zst[t]._6.length>0?this.Zst(this.zst[t]):(this.Ust.Htt(),this.let=!this.Ktt))}for(let t=0;t<this.Dst.length;t++)this.Dst[t].D6();for(;this.zst.length>this.kW.triggers.length;)this.zst[this.zst.length-1].destroy(),this.zst.splice(this.zst.length-1,1)}catch(t){var e;this.v6&&this.v6.emit("glassvoxError","GlassVoxInstance.initialise",t),null===(e=this.g6)||void 0===e||e.Ko("GlassVoxInstance.initialise",t)}},this.jst=(t,e)=>!(null==e||!e.length)&&(t?!e.includes("MOBILE"):!e.includes("COMPUTER")),this.Zst=t=>{if(t._6.indexOf("exitIntent")>-1&&(this.Qst(),this.Yst()),this.Kst(),this.Ust._6=this.Ust._6.concat(t._6),this.Ust.Wnt=t.threshold,!this.Xst){this.Xst=!0;for(let e=0;e<t.actions.length;e++)this.Jst(t.actions[e])}},this.Qst=()=>{this._detector&&this._detector.Hm()},this.Yst=()=>{this.v6.on("exitIntent",(()=>{this.Ust.uet(this.qst())}))},this.Kst=()=>{const t=this;this.v6.on("reportStruggle",(function(e){t.Ust.aet(e)}))},this.Jst=t=>{const e=this;this.v6.on("event:click",(function(n){n.hg.button||(e.v6.emit("test:event:click",n),e.Ust.Hnt(t,n,"user_action","click"))})),this.v6.on("event:drag",(function(n){e.v6.emit("test:event:drag",n),e.Ust.Hnt(t,n,"user_action","drag")})),this.v6.on("event:submit",(function(n){e.v6.emit("test:event:submit",n),e.Ust.Hnt(t,n,"user_action","submit")})),this.v6.on("event:reset",(function(n){e.v6.emit("test:event:reset",n),e.Ust.Hnt(t,n,"user_action","reset")})),this.v6.on("navigation",(function(n){e.v6.emit("test:navigation",n),e.Ust.Hnt(t,n,"user_action","navigation")})),this.v6.on("formValidationError",(function(n){e.v6.emit("test:formValidationError",n),e.Ust.Hnt(t,n,"user_action","formValidationError")})),this.v6.on("segmentChanged",(function(n){e.v6.emit("test:segmentChanged",n),e.Ust.Hnt(t,n,"segment_change","segmentChanged")}))},this.destroy=()=>{try{for(;this.Dst.length;)this.Dst[this.Dst.length-1].destroy(),this.Dst.splice(this.Dst.length-1,1);for(;this.zst.length;)this.zst[this.zst.length-1].destroy(),this.zst.splice(this.zst.length-1,1);this.Ust&&(this.Ust.destroy(),delete this.Ust)}catch(e){var t;this.v6&&this.v6.emit("glassvoxError","GlassVoxInstance.destroy",e),null===(t=this.g6)||void 0===t||t.Ko("GlassVoxInstance.destroy",e)}},this.kW=t||{},this.Dst=[],this.zst=[],this.v6=o,this.qa=s,this.K9=i,this.Pst=r,this.Ktt=!!n,this.let=!1,this.qst=a,this.Hst=!1,this._detector=l,this.H6=c,this.Xst=!1,this.l7=h,this.Wst=new Ot(e,this.l7),this.g6=new St(this.kW),this.v6.on("segmentChanged",(()=>{this.v6.emit("test:segmentChanged","constructor"),this.f6(this.kW),St.log("segmentChanged")}))}}class Nt{constructor(t,e,n,i,o,r,a,l,c){this.tit=()=>this.eit++,this.nit=t=>{try{if(!this.sit){const e=this._detector.createEventObject("glassvoxResponse",this.iit(),null);e.value=t,e.Fp=!0,this._detector.tf(e),St.log("glassvoxResponse",{surveyId:t.surveyId,questionId:t.questionId,questionType:t.questionType})}}catch(t){this.v6&&this.v6.emit("glassvoxError","GlassVoxPlugin._sendResults",t),St.cst("GlassVoxPlugin._sendResults",t)}},this.oit=t=>{try{if(!this.sit){const e=this._detector.createEventObject("glassvoxOpen",this.iit(),null);e.value=t,this._detector.tf(e),St.log("glassvoxOpen",t)}}catch(t){this.v6&&this.v6.emit("glassvoxError","GlassVoxPlugin._sendOpenedEvent",t),St.cst("GlassVoxPlugin._sendOpenedEvent",t)}},this.rit=t=>{try{if(!this.sit){const e=this._detector.createEventObject("glassvoxClose",this.iit(),null);e.value=t,this._detector.tf(e),St.log("glassvoxClose",t)}}catch(t){this.v6&&this.v6.emit("glassvoxError","GlassVoxPlugin._sendClosedEvent",t),St.cst("GlassVoxPlugin._sendClosedEvent",t)}},this.ait=t=>{try{if(!this.sit){const e=this._detector.createEventObject("glassvoxComplete",this.iit(),null);e.value=t,this._detector.tf(e),St.log("glassvoxComplete",t)}}catch(t){this.v6&&this.v6.emit("glassvoxError","GlassVoxPlugin._sendCompletedEvent",t),St.cst("GlassVoxPlugin._sendCompletedEvent",t)}},this.Ux=()=>{this.sit=!0},this.Oet=(t,e,n)=>{try{this.Ktt?this._detector.gm(t+": "+e):this._detector.tm(t,e,n)}catch(t){}},this.lit=t=>{let e=-1,n=t||this.kW;try{if(!Array.isArray(n))throw"GlassVox config error: config is not an array";const t=n.filter((t=>!(t.screens&&t.jsonVersion>1)));t.length!==n.length&&console.warn("Warning: One or more survey configurations have been ignored due to restrictions."),n=t;const r=[],a=new s(this.z3,this.Z3);for(e=0;e<n.length;e++){n[e]=a.sn(n[e]);const t=a.W3(n[e]);if(void 0===t){var i=a.lastError?a.lastError:"",o="GlassvoxPlugin error validating config"+(e>=0?" item "+e:"");this.v6?(this.v6.emit("glassvoxError",o,i),St.cst(o,i)):this.Oet(o,i)}else r.push(t)}if(this.kW=r,this.kW.length&&!document.getElementById("gbvocopensans")){const t=document.createElement("link");t.href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700",t.rel="stylesheet",t.id="gbvocopensans",document.head.appendChild(t)}for(St.lst(this.kW),e=0;e<this.kW.length;e++)e>=this.cit.length&&this.cit.push(new Lt(this.kW[e],this.Cst,this.Ktt,this.qa,this.K9,this.v6,this.tit,this.qst,this._detector,void 0,this.l7)),this.cit[e].f6(this.kW[e]);for(;e<this.cit.length;)this.cit[e].destroy(),this.cit.splice(e,1)}catch(t){const n="GlassvoxPlugin error initialising"+(e>=0?" item "+e:"");this.v6?(this.v6.emit("glassvoxError",n,t),St.cst(n,t)):this.Oet(n,t)}},this.vP=t=>{if(!this.Ktt)throw"Cannot preview glassvox as it is in live use due to remote config";this.lit(t)},this.initialize=t=>{try{this.v6||(this.v6=t,this.v6.on("glassvoxPageCompleted",this._detector.Ip),this.v6.on("glassvoxResponse",this.nit),this.v6.on("glassvoxOpen",this.oit),this.v6.on("glassvoxClose",this.rit),this.v6.on("glassvoxComplete",this.ait),this.v6.on("session:new",this.Ux),this.v6.on("glassvoxError",this.Oet),this.zm=!0),this.Ktt||this.lit(this.kW)}catch(t){this.v6&&this.v6.emit("glassvoxError","GlassvoxPlugin.initialize",t),St.cst("GlassvoxPlugin.initialize",t)}},this.version="[Local_version_prod]",this._detector=t,this.qa=e,this.K9=n,this.Ya=c,this.qst=i,this.iit=o,this.kW=r||[],this.Cst=a||[],this.Ktt=!!l,this.eit=1,this.v6=void 0,this.sit=!1,this.cit=[],this.Z3={surveyId:{type:"string",length:36},versionId:{type:"string",length:36},jsonVersion:{type:"number",maxValue:2},pages:{type:"array",minCount:1,mustContain:{questions:{type:"array",minCount:1}}}},this.z3={surveyId:"",versionId:"",pages:[],header:{image:"",useImage:!1,text:""},privacy:{anonymiseFeedbackPrompt:!1,privacyPolicy:""},styles:{textAlign:"",textColour:"",buttonBackgroundColour:"",buttonTextColour:"",whiteLabel:!1},jsonVersion:0,thankyou:{text:"",image:""},triggers:[]},this.l7=new _({sessionStorage:this.K9,localStorage:this.qa,cookieHelper:this.Ya}),St.init(this.version)}}}}]);